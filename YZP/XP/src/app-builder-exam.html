<html><head></head><body><div hidden="" by-polymer-bundler=""><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:'_checkedChanged'},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:'on',observer:'_valueChanged'}},observers:['_requiredChanged(required)'],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute('aria-required','true'):this.removeAttribute('aria-required')},_checkedChanged:function(){this.active=this.checked,this.fire('iron-change')},_valueChanged:function(){(this.value===void 0||null===this.value)&&(this.value='on')}},Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute('checked',''):this._ripple.removeAttribute('checked'))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);this.disabled||this.isAttached&&(this.checked=this.active)}},Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="../bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}:host-context([dir="rtl"]) #ink{right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}:host-context([dir="rtl"]) #checkmark{-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}:host-context([dir="rtl"]) #checkboxLabel{padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:'paper-checkbox',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'checkbox',"aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-checkbox-ink-size').trim();if('-1px'===a){var b=parseFloat(this.getComputedStyleValue('--calculated-paper-checkbox-size').trim()),c=Math.floor(8/3*b);c%2!==b%2&&c++,this.updateStyles({"--paper-checkbox-ink-size":c+'px'})}})},_computeCheckboxClass:function(a,b){var c='';return a&&(c+='checked '),b&&(c+='invalid'),c},_computeCheckmarkClass:function(a){return a?'':'hidden'},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><dom-module id="paper-radio-button" assetpath="../bower_components/paper-radio-button/"><template strip-whitespace=""><style>:host{display:inline-block;line-height:0;white-space:nowrap;cursor:pointer;@apply --paper-font-common-base;--calculated-paper-radio-button-size:var(--paper-radio-button-size, 16px);--calculated-paper-radio-button-ink-size:var(--paper-radio-button-ink-size, -1px);}:host(:focus){outline:none;}#radioContainer{@apply --layout-inline;@apply --layout-center-center;position:relative;width:var(--calculated-paper-radio-button-size);height:var(--calculated-paper-radio-button-size);vertical-align:middle;@apply --paper-radio-button-radio-container;}#ink{position:absolute;top:50%;left:50%;right:auto;width:var(--calculated-paper-radio-button-ink-size);height:var(--calculated-paper-radio-button-ink-size);color:var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}#ink[checked]{color:var(--paper-radio-button-checked-ink-color, var(--primary-color));}#offRadio, #onRadio{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;border-radius:50%;}#offRadio{border:2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));background-color:var(--paper-radio-button-unchecked-background-color, transparent);transition:border-color 0.28s;}#onRadio{background-color:var(--paper-radio-button-checked-color, var(--primary-color));-webkit-transform:scale(0);transform:scale(0);transition:-webkit-transform ease 0.28s;transition:transform ease 0.28s;will-change:transform;}:host([checked]) #offRadio{border-color:var(--paper-radio-button-checked-color, var(--primary-color));}:host([checked]) #onRadio{-webkit-transform:scale(0.5);transform:scale(0.5);}#radioLabel{line-height:normal;position:relative;display:inline-block;vertical-align:middle;margin-left:var(--paper-radio-button-label-spacing, 10px);white-space:normal;color:var(--paper-radio-button-label-color, var(--primary-text-color));@apply --paper-radio-button-label;}:host([checked]) #radioLabel{@apply --paper-radio-button-label-checked;}:host-context([dir="rtl"]) #radioLabel{margin-left:0;margin-right:var(--paper-radio-button-label-spacing, 10px);}#radioLabel[hidden]{display:none;}:host([disabled]) #offRadio{border-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled][checked]) #onRadio{background-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #radioLabel{opacity:0.65;}</style><div id="radioContainer"><div id="offRadio"></div><div id="onRadio"></div></div><div id="radioLabel"><slot></slot></div></template><script>Polymer({is:'paper-radio-button',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'radio',"aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-radio-button-ink-size').trim();if('-1px'===a){var b=parseFloat(this.getComputedStyleValue('--calculated-paper-radio-button-size').trim()),c=Math.floor(3*b);c%2!==b%2&&c++,this.updateStyles({"--paper-radio-button-ink-size":c+'px'})}})}});</script></dom-module><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:'_focusedItemChanged',readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:'_disabledChanged'}},_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:'menu'},observers:['_updateMultiselectable(multi)'],listeners:{focus:'_onFocus',keydown:'_onKeydown',"iron-items-changed":'_onIronItemsChanged'},keyBindings:{up:'_onUpKey',down:'_onDownKey',esc:'_onEscKey',"shift+tab:keydown":'_onShiftTabDown'},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute('disabled')||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute('tabindex',b===a?'0':'-1')},this)},_updateMultiselectable:function(a){a?this.setAttribute('aria-multiselectable','true'):this.removeAttribute('aria-multiselectable')},_focusWithKeyboardEvent:function(a){this.cancelDebouncer('_clearSearchText');var b=this._searchText||'',c=a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode);b+=c.toLocaleLowerCase();for(var f,d=b.length,e=0;f=this.items[e];e++)if(!f.hasAttribute('disabled')){var g=this.attrForItemTitle||'textContent',h=(f[g]||f.getAttribute(g)||'').trim();if(!(h.length<d)&&h.slice(0,d).toLocaleLowerCase()==b){this._setFocusedItem(f);break}}this._searchText=b,this.debounce('_clearSearchText',this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function(){this._searchText=''},_focusPrevious:function(){for(var d,a=this.items.length,b=+this.indexOf(this.focusedItem),c=1;c<a+1;c++)if(d=this.items[(b-c+a)%a],!d.hasAttribute('disabled')){var e=Polymer.dom(d).getOwnerRoot()||document;if(this._setFocusedItem(d),Polymer.dom(e).activeElement==d)return}},_focusNext:function(){for(var d,a=this.items.length,b=+this.indexOf(this.focusedItem),c=1;c<a+1;c++)if(d=this.items[(b+c)%a],!d.hasAttribute('disabled')){var e=Polymer.dom(d).getOwnerRoot()||document;if(this._setFocusedItem(d),Polymer.dom(e).activeElement==d)return}},_applySelection:function(a,b){b?a.setAttribute('aria-selected','true'):a.removeAttribute('aria-selected'),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute('tabindex','-1'),!a||a.hasAttribute('disabled')||this.disabled||(a.setAttribute('tabindex','0'),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var b=this.getAttribute('tabindex');Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',b),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){if(!Polymer.IronMenuBehaviorImpl._shiftTabPressed){var b=Polymer.dom(a).rootTarget;(b===this||'undefined'===typeof b.tabIndex||this.isLightDescendant(b))&&(this._defaultFocusAsync=this.async(function(){var c=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),c?this._setFocusedItem(c):this.items[0]&&this._focusNext()}))}},_onUpKey:function(a){this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var b=this.focusedItem;b&&b.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down esc')||this._focusWithKeyboardEvent(a),a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a),a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute('tabindex')?this.tabIndex:0,this.removeAttribute('tabindex')):!this.hasAttribute('tabindex')&&this.setAttribute('tabindex',this._previousTabIndex)}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><script>Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:'menubar'},keyBindings:{left:'_onLeftKey',right:'_onRightKey'},_onUpKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},get _isRTL(){return'rtl'===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?this._focusPrevious():this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down left right esc')||this._focusWithKeyboardEvent(a)}},Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];</script><dom-module id="paper-radio-group" assetpath="../bower_components/paper-radio-group/"><template><style>:host{display:inline-block;}:host ::slotted(*){padding:var(--paper-radio-group-item-padding, 12px);}</style><slot></slot></template></dom-module><script>Polymer({is:'paper-radio-group',behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:'radiogroup',tabindex:0},properties:{attrForSelected:{type:String,value:'name'},selectedAttribute:{type:String,value:'checked'},selectable:{type:String,value:'paper-radio-button'},allowEmptySelection:{type:Boolean,value:!1}},select:function(a){var b=this._valueToItem(a);if(!(b&&b.hasAttribute('disabled'))){if(this.selected){var c=this._valueToItem(this.selected);if(this.selected==a)if(this.allowEmptySelection)a='';else return void(c&&(c.checked=!0));c&&(c.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]),this.fire('paper-radio-group-changed')}},_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function(a){this._focusPrevious(),a.preventDefault(),this._activateFocusedItem()},_onDownKey:function(a){this._focusNext(),a.preventDefault(),this._activateFocusedItem()},_onLeftKey:function(){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments),this._activateFocusedItem()},_onRightKey:function(){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments),this._activateFocusedItem()}});</script></div><dom-module id="app-builder-exam"><template><style>:host{display:block;padding:10px;font-family:'Roboto', 'Times New Roman', Times, serif;}.card{margin:24px;padding:16px;color:#757575;border-radius:5px;background-color:#fff;box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);}@media screen and (max-width: 600px){.card{margin-left:0;margin-right:0;}}.circle{display:inline-block;width:64px;height:64px;text-align:center;color:#555;border-radius:50%;background:#ddd;font-size:30px;line-height:64px;margin-bottom:10px;}paper-checkbox{display:block;margin-top:5px;max-width:100%;}.question{color:black;font-size:20px;display:block;margin:0;white-space:pre-wrap;word-wrap:break-word;text-align:justify;}p{word-wrap:break-word;color:black;}pre p{margin:0;}.pagination{margin-top:20px;}.wrong{background-color:red;}.right{background-color:green;}.answer{margin-top:10px;}a{text-decoration:none;color:black;}paper-radio-button{display:block;text-align:justify;}.choose{font-size:17px;}.ca{font-size:17px;display:block;color:black;}.ca .title{margin-top:10px;}.imgContainer{overflow-x:auto;max-width:100%;}.p-answers{width:100%;white-space:normal;word-break:break-word;color:black;text-align:justify;}</style><iron-ajax auto="" url="[[url]]" handle-as="json" on-response="handleResponse"></iron-ajax><div class="card submitted" hidden$="[[isSubmited]]"><div class="circle">[[currentQuestion.id]]</div><div style="float:right"><paper-icon-button id="flagButton" icon="flag" style="width: 50px; height: 50px" on-click="flagQuestion"></paper-icon-button></div><span class="question">[[currentQuestion.question]]</span><div class="imgContainer" hidden$="[[!currentQuestion.imageUrl]]"><img id="imageQuestion" src="images/[[currentQuestion.imageUrl]]"></div><span class="question choose" hidden$="[[!currentQuestion.choose]]">[[currentQuestion.choose]]</span><div class="answer"><template is="dom-if" if="[[currentQuestion.isRadioButton]]"><paper-radio-group><template is="dom-repeat" items="[[currentQuestion.answers]]" as="a"><paper-radio-button name="[[a.answer]]" on-keydown="onRadioKeyDown" checked="{{a.checked}}"><span class="p-answers">[[a.answer]]</span></paper-radio-button></template></paper-radio-group></template><template is="dom-if" if="[[!currentQuestion.isRadioButton]]"><template is="dom-repeat" items="[[currentQuestion.answers]]"><div style="text-align: justify; padding: 10px 10px 10px 0"><paper-checkbox checked="{{item.checked}}"><span class="p-answers">[[item.answer]]</span></paper-checkbox></div></template></template></div><div class="pagination"><template is="dom-if" if="[[!_isMobile()]]"><paper-icon-button icon="icons:arrow-back" disabled="[[canBack]]" on-click="back"></paper-icon-button><paper-icon-button icon="icons:arrow-forward" disabled="[[canNext]]" on-click="next"></paper-icon-button></template><span>[[_addOneValue(currentQuestionIndex)]] of [[totalQuestions]]</span></div></div><div hidden$="[[!isSubmited]]"><div class="submitted"><div class="card"><h3 style="margin: 0">Filter</h3><paper-checkbox name="flaged" on-change="filterChanged">Flaged</paper-checkbox><paper-checkbox name="wrong" on-change="filterChanged">Wrong</paper-checkbox></div><template is="dom-repeat" items="{{filteredQuestionsSubmited}}" as="questionObj"><div class="card"><div class$="[[questionObj.ball]]">[[questionObj.id]]</div><div style="float:right" hidden$="[[!questionObj.isFlaged]]"><paper-icon-button icon="flag" style="width: 50px; height: 50px; color: red"></paper-icon-button></div><span class="question">[[questionObj.question]]</span><div class="imgContainer" hidden$="[[!questionObj.imageUrl]]"><img src="images/[[questionObj.imageUrl]]"></div><span class="question choose" hidden$="[[!currentQuestion.choose]]">[[questionObj.choose]]</span><div class="answer"><template is="dom-if" if="[[questionObj.isRadioButton]]"><paper-radio-group><template is="dom-repeat" items="[[questionObj.answers]]" as="a"><paper-radio-button name="[[a.ca]]" checked="[[a.checked]]" disabled=""><span class="p-answers">[[a.answer]]</span></paper-radio-button></template></paper-radio-group></template><template is="dom-if" if="[[!questionObj.isRadioButton]]"><template is="dom-repeat" items="[[questionObj.answers]]" as="a"><div style="text-align: justify; padding: 10px 10px 10px 0"><paper-checkbox checked="[[a.checked]]" disabled="true"><span class="p-answers">[[a.answer]]</span></paper-checkbox></div></template></template><span class="ca title">Correct Answer</span><template is="dom-repeat" items="[[questionObj.answer]]" as="ca"><span class="ca">[[ca]]<span></span></span></template><template is="dom-if" if="[[questionObj.moreInformationLinks]]"><h2>More information At:</h2><template is="dom-repeat" items="[[questionObj.moreInformationLinks]]" as="link"><a href="[[link.link]]" target="_blank"><paper-button raised="">[[link.label]]</paper-button></a></template></template></div></div></template></div></div></template><script>(function(){'use strict';const b='wrong',c='right';let d=null,f=null;Polymer({is:'app-builder-exam',properties:{url:String,questions:Array,rightPercentage:String,questionsSubmited:Array,filteredQuestionsSubmited:Array,progress:{type:Boolean,value:!0},currentQuestion:Object,currentQuestionIndex:Number,totalQuestions:Number,canNext:Boolean,canBack:Boolean,isSubmited:Boolean,submitExam:Function,flagColor:{type:String,value:'#757575'},filter:Array},ready:function(){this.fire('loading-exam'),this.submitExam=this.submit},detached:function(){this._removeEvents()},arrows:function(g){switch(g.stopPropagation(),g.which){case 37:this.back();break;case 39:this.next();break;default:}},onRadioKeyDown:function(g){if(-1!==[37,39].indexOf(g.which))return g.stopPropagation(),!1},handleResponse:function(g){let j,h=JSON.parse(localStorage.getItem(this.url));h?(j=g.detail.response.filter(k=>0===h.filter(l=>l.id===k.id).length),j.length<(localStorage.getItem('numberOfQuestions')||40)&&(j=g.detail.response)):j=g.detail.response,this.fire('init-exam'),this.isSubmited=!1,this.currentQuestionIndex=0,this.questions=this._prepareQuestions.bind(this)(j),h?localStorage.setItem(this.url,JSON.stringify(j.concat(this.questions))):localStorage.setItem(this.url,JSON.stringify(this.questions)),this.canBack=!0,this.totalQuestions=this.questions.length,this.currentQuestion=this.questions[0],this._imageTouch.bind(this)(),this.canNext=1>this.questions.length,this.progress=!1,this._initializeEvent=this._initializeEvent.bind(this),this._removeEvents=this._removeEvents.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this.arrows=this.arrows.bind(this),this.flagQuestion=this.flagQuestion.bind(this),this.filterChanged=this.filterChanged.bind(this),this._initializeEvent()},flagQuestion:function(g){this.currentQuestion.isFlaged?(g.target.style.color='#757575',this.currentQuestion.isFlaged=!1):(g.target.style.color='red',this.currentQuestion.isFlaged=!0)},filterChanged:function(g){const h=g.target.name,j=g.target.checked,k=this;j?(this.filter.push(h),this.filteredQuestionsSubmited=this.questionsSubmited.filter(l=>1<k.filter.length?!l.isRight||l.isFlaged:'wrong'===h?!l.isRight:l.isFlaged)):(this.filter.splice(this.filter.indexOf(h),1),this.filteredQuestionsSubmited=this.questionsSubmited.filter(l=>!(0<k.filter.length)||('flaged'===h?!l.isRight:l.isFlaged)))},next:function(){this.currentQuestionIndex+1!==this.questions.length&&(this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.canNext=this.currentQuestionIndex+1===this.questions.length,this.canBack=1>this.currentQuestionIndex,this.$.flagButton.style.color=this.currentQuestion.isFlaged?'red':'#757575',this._imageTouch.bind(this)())},back:function(){0<this.currentQuestionIndex&&(this.currentQuestionIndex--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.canBack=1>this.currentQuestionIndex,this.canNext=this.currentQuestionIndex+1===this.questions.length,this.$.flagButton.style.color=this.currentQuestion.isFlaged?'red':'#757575')},submit:function(){this.filter=[],this._removeEvents(),this.progress=!0;let g=this.questions.slice(0);const h=this;let j=0;g=g.map(k=>{if(k.ball='circle '+h._isRightQuestion.bind(h)(k),k.isRight&&j++,!k.isTrueFalseQuestion){let l=k.answer;for(let m=0;m<k.answers.length;m++)0<=k.answer.indexOf(k.answers[m].ca)&&(l=l.replace(k.answers[m].ca,';'+k.answers[m].answer.slice(0,2)));l=l.replace(';','').split(';').sort(),k.answer=l}else k.answer=[k.answer];return k}),this.rightPercentage=(100*(j/g.length)).toFixed(2)+'%',this.fire('submitted-exam',{rightPercentage:this.rightPercentage}),this.questionsSubmited=g,this.filteredQuestionsSubmited=this.questionsSubmited.slice(0),this.isSubmited=!0,this.progress=!1},_imageTouch:function(){this.currentQuestion.imageUrl&&this.async(function(){this.$$('#imageQuestion').addEventListener('touchstart',g=>g.stopPropagation()),this.$$('#imageQuestion').addEventListener('touchmove',g=>g.stopPropagation())})},_shuffle:function(g){for(var j,k,h=g.length;0!==h;)k=Math.floor(Math.random()*h),h-=1,j=g[h],g[h]=g[k],g[k]=j;return g},_isMobile:function(){var g=!1;return function(h){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substr(0,4)))&&(g=!0)}(navigator.userAgent||navigator.vendor||window.opera),g},_prepareQuestions:function(g){const h=this;return g=h._shuffle(g),g=g.slice(0,localStorage.getItem('numberOfQuestions')||40),g.map(h._shuffleAnswers.bind(h))},_initializeEvent:function(){document.body.addEventListener('touchstart',this._handleTouchStart),document.body.addEventListener('touchmove',this._handleTouchMove),document.body.addEventListener('keyup',this.arrows)},_removeEvents:function(){document.body.removeEventListener('touchstart',this._handleTouchStart),document.body.removeEventListener('touchmove',this._handleTouchMove),document.body.removeEventListener('keyup',this.arrows)},_isRightQuestion:function(g){if(!g.answers)return b;if(g.isRadioButton){var h=g.answers.filter(j=>j.checked);return 1>h.length?b:(h=h[0],g.isTrueFalseQuestion?(g.isRight=g.answer.startsWith('False')&&'False'===h.ca||g.answer.startsWith('True')&&'True'===h.ca,g.isRight?c:b):(g.isRight=g.answer.slice(0,2)===h.ca,g.isRight?c:b))}let j=this._splitAnswers(g.answer).map(l=>l.slice(0,2)),k=g.answers.filter(l=>l.checked).map(l=>l.ca);if(j.length!==k.length||0===k.length)return g.isRight=!1,b;for(let l=0;l<j.length;l++)if(-1===k.indexOf(j[l]))return g.isRight=!1,b;return g.isRight=!0,c},_getLetter:function(g){return 0===g?'A.':1===g?'B.':2===g?'C.':3===g?'D.':4===g?'E.':5===g?'F.':void 0},_shuffleAnswers:function(g){if(g.answers){g.answers=!g.answers||g.isTrueFalseQuestion||g.noShuffle?g.answers:this._shuffle(g.answers);let h=-1;for(let j=0;j<g.answers.length;j++)if('All of the above'===g.answers[j].answer){h=j;break}if(0<=h&&h!==g.answers.length-1){let j=g.answers[g.answers.length-1];g.answers[g.answers.length-1]=g.answers[h],g.answers[h]=j}for(let j=0;j<g.answers.length&&!g.isTrueFalseQuestion;j++)g.answers[j].answer=this._getLetter(j)+' '+g.answers[j].answer}return g},_addOneValue:function(g){return g+1},_splitAnswers:function(g){const h=[],j=g.split('F. '),k=j[0].split('E. '),l=k[0].split('D. '),m=l[0].split('C. '),n=m[0].split('B. '),o=n[0].split('A. ');return 1<j.length&&h.push('F. '+j[1]),1<k.length&&h.push('E. '+k[1]),1<l.length&&h.push('D. '+l[1]),1<m.length&&h.push('C. '+m[1]),1<n.length&&h.push('B. '+n[1]),1<o.length&&h.push('A. '+o[1]),h.reverse(),h},_downloadJson:function(g){var h='data:text/json;charset=utf-8,'+encodeURIComponent(JSON.stringify(g)),j=document.createElement('a');j.setAttribute('href',h),j.setAttribute('download','question.json'),j.click()},_handleTouchStart:function(g){d=g.touches[0].clientX,f=g.touches[0].clientY},_handleTouchMove:function(g){if(d&&f){var h=g.touches[0].clientX,j=g.touches[0].clientY,k=d-h,l=f-j;Math.abs(k)>Math.abs(l)&&(0<k?this.next():this.back()),d=null,f=null}}})})();</script></dom-module></body></html>