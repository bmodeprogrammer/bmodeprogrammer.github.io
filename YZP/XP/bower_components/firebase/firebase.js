var firebase=function(){var j=void 0===j?self:j;return function($){function _e(at){if(tt[at])return tt[at].exports;var ot=tt[at]={i:at,l:!1,exports:{}};return $[at].call(ot.exports,ot,ot.exports,_e),ot.l=!0,ot.exports}var et=j.webpackJsonp;j.webpackJsonp=function(at,ot,rt){for(var lt=0,ct=[],it,dt,st;lt<at.length;lt++)dt=at[lt],nt[dt]&&ct.push(nt[dt][0]),nt[dt]=0;for(it in ot)Object.prototype.hasOwnProperty.call(ot,it)&&($[it]=ot[it]);for(et&&et(at,ot,rt);ct.length;)ct.shift()();if(rt)for(lt=0;lt<rt.length;lt++)st=_e(_e.s=rt[lt]);return st};var tt={},nt={2:0};return _e.e=function(at){function ot(){dt.onerror=dt.onload=null,clearTimeout(st);var lt=nt[at];0!==lt&&(lt&&lt[1](new Error("Loading chunk "+at+" failed.")),nt[at]=void 0)}if(0===nt[at])return Promise.resolve();if(nt[at])return nt[at][2];var rt=new Promise(function(lt,ct){nt[at]=[lt,ct]});nt[at][2]=rt;var it=document.getElementsByTagName("head")[0],dt=document.createElement("script");dt.type="text/javascript",dt.charset="utf-8",dt.async=!0,dt.timeout=12e4,_e.nc&&dt.setAttribute("nonce",_e.nc),dt.src=_e.p+""+at+".js";var st=setTimeout(ot,12e4);return dt.onerror=dt.onload=ot,it.appendChild(dt),rt},_e.m=$,_e.c=tt,_e.i=function(at){return at},_e.d=function(at,ot,rt){_e.o(at,ot)||Object.defineProperty(at,ot,{configurable:!1,enumerable:!0,get:rt})},_e.n=function(at){var ot=at&&at.__esModule?function(){return at.default}:function(){return at};return _e.d(ot,"a",ot),ot},_e.o=function(at,ot){return Object.prototype.hasOwnProperty.call(at,ot)},_e.p="",_e.oe=function(at){throw console.error(at),at},_e(_e.s=4)}({10:function($,_e,et){"use strict";(function(tt){Object.defineProperty(_e,"__esModule",{value:!0});var nt;if(void 0!==tt)nt=tt;else if("undefined"!=typeof self)nt=self;else try{nt=Function("return this")()}catch(ot){throw new Error("polyfill failed because global object is unavailable in this environment")}var at=nt.Promise||et(52);_e.local={Promise:at,GoogPromise:at}}).call(_e,et(26))},17:function($,_e,et){"use strict";function tt(pt,ut){if(!(pt instanceof ut))throw new TypeError("Cannot call a class as a function")}function ot(pt,ut){if("object"!==(void 0===pt?"undefined":it(pt))||null===pt)return!1;var ht=!0,ft=!1,bt;try{for(var mt=ut[Symbol.iterator](),gt,yt;!(ht=(gt=mt.next()).done);ht=!0)if(yt=gt.value,yt in pt&&"function"==typeof pt[yt])return!0}catch(vt){ft=!0,bt=vt}finally{try{!ht&&mt.return&&mt.return()}finally{if(ft)throw bt}}return!1}function rt(){}Object.defineProperty(_e,"__esModule",{value:!0});var it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pt){return typeof pt}:function(pt){return pt&&"function"==typeof Symbol&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},dt=function(){function pt(ut,ht){for(var ft=0,bt;ft<ht.length;ft++)bt=ht[ft],bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(ut,bt.key,bt)}return function(ut,ht,ft){return ht&&pt(ut.prototype,ht),ft&&pt(ut,ft),ut}}();_e.createSubscribe=function(pt,ut){var ht=new ct(pt,ut);return ht.subscribe.bind(ht)},_e.async=function(pt,ut){return function(){for(var ht=arguments.length,ft=Array(ht),bt=0;bt<ht;bt++)ft[bt]=arguments[bt];lt.resolve(!0).then(function(){pt.apply(void 0,ft)}).catch(function(gt){ut&&ut(gt)})}};var st=et(10),lt=st.local.Promise,ct=function(){function pt(ut,ht){var ft=this;tt(this,pt),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=lt.resolve(),this.finalized=!1,this.onNoObservers=ht,this.task.then(function(){ut(ft)}).catch(function(bt){ft.error(bt)})}return dt(pt,[{key:"next",value:function(ut){this.forEachObserver(function(ht){ht.next(ut)})}},{key:"error",value:function(ut){this.forEachObserver(function(ht){ht.error(ut)}),this.close(ut)}},{key:"complete",value:function(){this.forEachObserver(function(ut){ut.complete()}),this.close()}},{key:"subscribe",value:function(ut,ht,ft){var bt=this,gt;if(void 0===ut&&void 0===ht&&void 0===ft)throw new Error("Missing Observer.");gt=ot(ut,["next","error","complete"])?ut:{next:ut,error:ht,complete:ft},void 0===gt.next&&(gt.next=rt),void 0===gt.error&&(gt.error=rt),void 0===gt.complete&&(gt.complete=rt);var mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{bt.finalError?gt.error(bt.finalError):gt.complete()}catch(yt){}}),this.observers.push(gt),mt}},{key:"unsubscribeOne",value:function(ut){void 0!==this.observers&&void 0!==this.observers[ut]&&(delete this.observers[ut],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(ut){if(!this.finalized)for(var ht=0;ht<this.observers.length;ht++)this.sendOne(ht,ut)}},{key:"sendOne",value:function(ut,ht){var ft=this;this.task.then(function(){if(void 0!==ft.observers&&void 0!==ft.observers[ut])try{ht(ft.observers[ut])}catch(bt){"undefined"!=typeof console&&console.error&&console.error(bt)}})}},{key:"close",value:function(ut){var ht=this;this.finalized||(this.finalized=!0,void 0!==ut&&(this.finalError=ut),this.task.then(function(){ht.observers=void 0,ht.onNoObservers=void 0}))}}]),pt}()},26:function($){var et=function(){return this}();try{et=et||Function("return this")()||(0,eval)("this")}catch(tt){"object"==typeof j&&(et=j)}$.exports=et},27:function($,_e,et){"use strict";function tt(ft,bt){if(!(ft instanceof bt))throw new TypeError("Cannot call a class as a function")}function nt(){function ft(kt){kt=kt||ct;var Tt=mt[kt];return void 0===Tt&&at("no-app",{name:kt}),Tt}function bt(kt,Tt){Object.keys(yt).forEach(function(Et){var St=gt(kt,Et);null!==St&&vt[St]&&vt[St](Tt,kt)})}function gt(kt,Tt){return"serverAuth"===Tt?null:(kt.options,Tt)}var mt={},yt={},vt={},_t={__esModule:!0,initializeApp:function(kt,Tt){void 0===Tt?Tt=ct:"string"==typeof Tt&&""!==Tt||at("bad-app-name",{name:Tt+""}),void 0!==mt[Tt]&&at("duplicate-app",{name:Tt});var Et=new pt(kt,Tt,_t);return mt[Tt]=Et,bt(Et,"create"),void 0!=Et.INTERNAL&&void 0!=Et.INTERNAL.getToken||(0,st.deepExtend)(Et,{INTERNAL:{getUid:function(){return null},getToken:function(){return lt.resolve(null)},addAuthTokenListener:function(St){setTimeout(function(){return St(null)},0)},removeAuthTokenListener:function(){}}}),Et},app:ft,apps:null,Promise:lt,SDK_VERSION:"4.0.0",INTERNAL:{registerService:function(kt,Tt,Et,St,It){yt[kt]&&at("duplicate-service",{name:kt}),yt[kt]=It?Tt:function(Nt,Rt){return Tt(Nt,Rt,ct)},St&&(vt[kt]=St);var At;return At=function(Nt){return void 0===Nt&&(Nt=ft()),"function"!=typeof Nt[kt]&&at("invalid-app-argument",{name:kt}),Nt[kt]()},void 0!==Et&&(0,st.deepExtend)(At,Et),_t[kt]=At,At},createFirebaseNamespace:nt,extendNamespace:function(kt){(0,st.deepExtend)(_t,kt)},createSubscribe:rt.createSubscribe,ErrorFactory:it.ErrorFactory,removeApp:function(kt){bt(mt[kt],"delete"),delete mt[kt]},factories:yt,useAsService:gt,Promise:dt.local.GoogPromise,deepExtend:st.deepExtend}};return(0,st.patchProperty)(_t,"default",_t),Object.defineProperty(_t,"apps",{get:function(){return Object.keys(mt).map(function(kt){return mt[kt]})}}),(0,st.patchProperty)(ft,"App",pt),_t}function at(ft,bt){throw ht.create(ft,bt)}Object.defineProperty(_e,"__esModule",{value:!0});var ot=function(){function ft(bt,gt){for(var mt=0,yt;mt<gt.length;mt++)yt=gt[mt],yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}return function(bt,gt,mt){return gt&&ft(bt.prototype,gt),mt&&ft(bt,mt),bt}}();_e.createFirebaseNamespace=nt;var rt=et(17),it=et(9),dt=et(10),st=et(32),lt=dt.local.Promise,ct="[DEFAULT]",pt=function(){function ft(bt,gt,mt){var yt=this;tt(this,ft),this.firebase_=mt,this.isDeleted_=!1,this.services_={},this.name_=gt,this.options_=(0,st.deepCopy)(bt),Object.keys(mt.INTERNAL.factories).forEach(function(vt){var _t=mt.INTERNAL.useAsService(yt,vt);if(null!==_t){var kt=yt.getService.bind(yt,_t);(0,st.patchProperty)(yt,vt,kt)}})}return ot(ft,[{key:"delete",value:function(){var bt=this;return new lt(function(gt){bt.checkDestroyed_(),gt()}).then(function(){bt.firebase_.INTERNAL.removeApp(bt.name_);var gt=[];return Object.keys(bt.services_).forEach(function(mt){Object.keys(bt.services_[mt]).forEach(function(yt){gt.push(bt.services_[mt][yt])})}),lt.all(gt.map(function(mt){return mt.INTERNAL.delete()}))}).then(function(){bt.isDeleted_=!0,bt.services_={}})}},{key:"getService",value:function(bt,gt){this.checkDestroyed_(),void 0===this.services_[bt]&&(this.services_[bt]={});var mt=gt||ct;if(void 0===this.services_[bt][mt]){var yt=this.firebase_.INTERNAL.factories[bt](this,this.extendApp.bind(this),gt);return this.services_[bt][mt]=yt,yt}return this.services_[bt][mt]}},{key:"extendApp",value:function(bt){(0,st.deepExtend)(this,bt)}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&at("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),ft}();pt.prototype.name&&pt.prototype.options||pt.prototype.delete||console.log("dc");var ht=new it.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."})},32:function($,_e){"use strict";function nt(ot,rt){if(!(rt instanceof Object))return rt;switch(rt.constructor){case Date:return new Date(rt.getTime());case Object:void 0===ot&&(ot={});break;case Array:ot=[];break;default:return rt;}for(var it in rt)rt.hasOwnProperty(it)&&(ot[it]=nt(ot[it],rt[it]));return ot}Object.defineProperty(_e,"__esModule",{value:!0}),_e.deepCopy=function(ot){return nt(void 0,ot)},_e.deepExtend=nt,_e.patchProperty=function(ot,rt,it){ot[rt]=it}},4:function($,_e,et){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});var tt=et(27),nt=(0,tt.createFirebaseNamespace)();_e.default=nt,$.exports=_e.default},51:function($){function et(){throw new Error("setTimeout has not been defined")}function tt(){throw new Error("clearTimeout has not been defined")}function nt(bt){if(st===setTimeout)return setTimeout(bt,0);if((st===et||!st)&&setTimeout)return st=setTimeout,setTimeout(bt,0);try{return st(bt,0)}catch(gt){try{return st.call(null,bt,0)}catch(mt){return st.call(this,bt,0)}}}function at(bt){if(lt===clearTimeout)return clearTimeout(bt);if((lt===tt||!lt)&&clearTimeout)return lt=clearTimeout,clearTimeout(bt);try{return lt(bt)}catch(gt){try{return lt.call(null,bt)}catch(mt){return lt.call(this,bt)}}}function ot(){ht&&pt&&(ht=!1,pt.length?ut=pt.concat(ut):ft=-1,ut.length&&rt())}function rt(){if(!ht){var bt=nt(ot);ht=!0;for(var gt=ut.length;gt;){for(pt=ut,ut=[];++ft<gt;)pt&&pt[ft].run();ft=-1,gt=ut.length}pt=null,ht=!1,at(bt)}}function it(bt,gt){this.fun=bt,this.array=gt}function dt(){}var ct=$.exports={},st,lt;!function(){try{st="function"==typeof setTimeout?setTimeout:et}catch(bt){st=et}try{lt="function"==typeof clearTimeout?clearTimeout:tt}catch(bt){lt=tt}}();var ut=[],ht=!1,ft=-1,pt;ct.nextTick=function(bt){var gt=Array(arguments.length-1);if(1<arguments.length)for(var mt=1;mt<arguments.length;mt++)gt[mt-1]=arguments[mt];ut.push(new it(bt,gt)),1!==ut.length||ht||nt(rt)},it.prototype.run=function(){this.fun.apply(null,this.array)},ct.title="browser",ct.browser=!0,ct.env={},ct.argv=[],ct.version="",ct.versions={},ct.on=dt,ct.addListener=dt,ct.once=dt,ct.off=dt,ct.removeListener=dt,ct.removeAllListeners=dt,ct.emit=dt,ct.prependListener=dt,ct.prependOnceListener=dt,ct.listeners=function(){return[]},ct.binding=function(){throw new Error("process.binding is not supported")},ct.cwd=function(){return"/"},ct.chdir=function(){throw new Error("process.chdir is not supported")},ct.umask=function(){return 0}},52:function($,_e,et){(function(tt){!function(nt){function at(){}function ot(ht,ft){return function(){ht.apply(ft,arguments)}}function rt(ht){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof ht)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pt(ht,this)}function it(ht,ft){for(;3===ht._state;)ht=ht._value;return 0===ht._state?void ht._deferreds.push(ft):void(ht._handled=!0,rt._immediateFn(function(){var bt=1===ht._state?ft.onFulfilled:ft.onRejected;if(null===bt)return void(1===ht._state?dt:st)(ft.promise,ht._value);var gt;try{gt=bt(ht._value)}catch(mt){return void st(ft.promise,mt)}dt(ft.promise,gt)}))}function dt(ht,ft){try{if(ft===ht)throw new TypeError("A promise cannot be resolved with itself.");if(ft&&("object"==typeof ft||"function"==typeof ft)){var bt=ft.then;if(ft instanceof rt)return ht._state=3,ht._value=ft,void lt(ht);if("function"==typeof bt)return void pt(ot(bt,ft),ht)}ht._state=1,ht._value=ft,lt(ht)}catch(gt){st(ht,gt)}}function st(ht,ft){ht._state=2,ht._value=ft,lt(ht)}function lt(ht){2===ht._state&&0===ht._deferreds.length&&rt._immediateFn(function(){ht._handled||rt._unhandledRejectionFn(ht._value)});for(var ft=0,bt=ht._deferreds.length;ft<bt;ft++)it(ht,ht._deferreds[ft]);ht._deferreds=null}function ct(ht,ft,bt){this.onFulfilled="function"==typeof ht?ht:null,this.onRejected="function"==typeof ft?ft:null,this.promise=bt}function pt(ht,ft){var bt=!1;try{ht(function(gt){bt||(bt=!0,dt(ft,gt))},function(gt){bt||(bt=!0,st(ft,gt))})}catch(gt){if(bt)return;bt=!0,st(ft,gt)}}var ut=setTimeout;rt.prototype.catch=function(ht){return this.then(null,ht)},rt.prototype.then=function(ht,ft){var bt=new this.constructor(at);return it(this,new ct(ht,ft,bt)),bt},rt.all=function(ht){var ft=Array.prototype.slice.call(ht);return new rt(function(bt,gt){function mt(_t,kt){try{if(kt&&("object"==typeof kt||"function"==typeof kt)){var Tt=kt.then;if("function"==typeof Tt)return void Tt.call(kt,function(Et){mt(_t,Et)},gt)}ft[_t]=kt,0==--yt&&bt(ft)}catch(Et){gt(Et)}}if(0===ft.length)return bt([]);for(var yt=ft.length,vt=0;vt<ft.length;vt++)mt(vt,ft[vt])})},rt.resolve=function(ht){return ht&&"object"==typeof ht&&ht.constructor===rt?ht:new rt(function(ft){ft(ht)})},rt.reject=function(ht){return new rt(function(ft,bt){bt(ht)})},rt.race=function(ht){return new rt(function(ft,bt){for(var gt=0,mt=ht.length;gt<mt;gt++)ht[gt].then(ft,bt)})},rt._immediateFn="function"==typeof tt&&function(ht){tt(ht)}||function(ht){ut(ht,0)},rt._unhandledRejectionFn=function(ht){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",ht)},rt._setImmediateFn=function(ht){rt._immediateFn=ht},rt._setUnhandledRejectionFn=function(ht){rt._unhandledRejectionFn=ht},void 0!==$&&$.exports?$.exports=rt:nt.Promise||(nt.Promise=rt)}(this)}).call(_e,et(54).setImmediate)},53:function($,_e,et){(function(tt,nt){!function(at,ot){"use strict";function rt(bt){"function"!=typeof bt&&(bt=new Function(""+bt));for(var gt=Array(arguments.length-1),mt=0;mt<gt.length;mt++)gt[mt]=arguments[mt+1];var yt={callback:bt,args:gt};return pt[ct]=yt,lt(ct),ct++}function it(bt){delete pt[bt]}function dt(bt){var gt=bt.callback,mt=bt.args;switch(mt.length){case 0:gt();break;case 1:gt(mt[0]);break;case 2:gt(mt[0],mt[1]);break;case 3:gt(mt[0],mt[1],mt[2]);break;default:gt.apply(ot,mt);}}function st(bt){if(ut)setTimeout(st,0,bt);else{var gt=pt[bt];if(gt){ut=!0;try{dt(gt)}finally{it(bt),ut=!1}}}}if(!at.setImmediate){var ct=1,pt={},ut=!1,ht=at.document,ft=Object.getPrototypeOf&&Object.getPrototypeOf(at),lt;ft=ft&&ft.setTimeout?ft:at,"[object process]"==={}.toString.call(at.process)?function(){lt=function(bt){nt.nextTick(function(){st(bt)})}}():function(){if(at.postMessage&&!at.importScripts){var bt=!0,gt=at.onmessage;return at.onmessage=function(){bt=!1},at.postMessage("","*"),at.onmessage=gt,bt}}()?function(){var bt="setImmediate$"+Math.random()+"$",gt=function(mt){mt.source===at&&"string"==typeof mt.data&&0===mt.data.indexOf(bt)&&st(+mt.data.slice(bt.length))};at.addEventListener?at.addEventListener("message",gt,!1):at.attachEvent("onmessage",gt),lt=function(mt){at.postMessage(bt+mt,"*")}}():at.MessageChannel?function(){var bt=new MessageChannel;bt.port1.onmessage=function(gt){st(gt.data)},lt=function(gt){bt.port2.postMessage(gt)}}():ht&&"onreadystatechange"in ht.createElement("script")?function(){var bt=ht.documentElement;lt=function(gt){var mt=ht.createElement("script");mt.onreadystatechange=function(){st(gt),mt.onreadystatechange=null,bt.removeChild(mt),mt=null},bt.appendChild(mt)}}():function(){lt=function(bt){setTimeout(st,0,bt)}}(),ft.setImmediate=rt,ft.clearImmediate=it}}("undefined"==typeof self?void 0===tt?this:tt:self)}).call(_e,et(26),et(51))},54:function($,_e,et){function tt(at,ot){this._id=at,this._clearFn=ot}var nt=Function.prototype.apply;_e.setTimeout=function(){return new tt(nt.call(setTimeout,j,arguments),clearTimeout)},_e.setInterval=function(){return new tt(nt.call(setInterval,j,arguments),clearInterval)},_e.clearTimeout=_e.clearInterval=function(at){at&&at.close()},tt.prototype.unref=tt.prototype.ref=function(){},tt.prototype.close=function(){this._clearFn.call(j,this._id)},_e.enroll=function(at,ot){clearTimeout(at._idleTimeoutId),at._idleTimeout=ot},_e.unenroll=function(at){clearTimeout(at._idleTimeoutId),at._idleTimeout=-1},_e._unrefActive=_e.active=function(at){clearTimeout(at._idleTimeoutId);var ot=at._idleTimeout;0<=ot&&(at._idleTimeoutId=setTimeout(function(){at._onTimeout&&at._onTimeout()},ot))},et(53),_e.setImmediate=setImmediate,_e.clearImmediate=clearImmediate},9:function($,_e){"use strict";function tt(dt,st){if(!(dt instanceof st))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(_e,"__esModule",{value:!0});var at=function(){function dt(st,lt){for(var ct=0,pt;ct<lt.length;ct++)pt=lt[ct],pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(st,pt.key,pt)}return function(st,lt,ct){return lt&&dt(st.prototype,lt),ct&&dt(st,ct),st}}();_e.patchCapture=function(dt){var st=ot;return ot=dt,st};var ot=Error.captureStackTrace,rt=_e.FirebaseError=function dt(st,lt){if(tt(this,dt),this.code=st,this.message=lt,ot)ot(this,it.prototype.create);else{var ct=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return ct.stack}})}};rt.prototype=Object.create(Error.prototype),rt.prototype.constructor=rt,rt.prototype.name="FirebaseError";var it=_e.ErrorFactory=function(){function dt(st,lt,ct){tt(this,dt),this.service=st,this.serviceName=lt,this.errors=ct,this.pattern=/\{\$([^}]+)}/g}return at(dt,[{key:"create",value:function(st,lt){void 0===lt&&(lt={});var ct=this.errors[st],pt=this.service+"/"+st,ut;ut=void 0===ct?"Error":ct.replace(this.pattern,function(bt,gt){var mt=lt[gt];return void 0===mt?"<"+gt+"?>":mt.toString()}),ut=this.serviceName+": "+ut+" ("+pt+").";var ht=new rt(pt,ut);for(var ft in lt)lt.hasOwnProperty(ft)&&"_"!==ft.slice(-1)&&(ht[ft]=lt[ft]);return ht}}]),dt}()}})}();(function(){var $=$||{},_e=this,et=function(Rv){return"string"==typeof Rv},tt=function(Rv){return"boolean"==typeof Rv},nt=function(Rv){return"number"==typeof Rv},at=function(){},ot=function(Rv){var Ov=typeof Rv;if("object"==Ov){if(Rv){if(Rv instanceof Array)return"array";if(Rv instanceof Object)return Ov;var Pv=Object.prototype.toString.call(Rv);if("[object Window]"==Pv)return"object";if("[object Array]"==Pv||"number"==typeof Rv.length&&"undefined"!=typeof Rv.splice&&"undefined"!=typeof Rv.propertyIsEnumerable&&!Rv.propertyIsEnumerable("splice"))return"array";if("[object Function]"==Pv||"undefined"!=typeof Rv.call&&"undefined"!=typeof Rv.propertyIsEnumerable&&!Rv.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==Ov&&"undefined"==typeof Rv.call)return"object";return Ov},rt=function(Rv){return null===Rv},it=function(Rv){return"array"==ot(Rv)},dt=function(Rv){var Ov=ot(Rv);return"array"==Ov||"object"==Ov&&"number"==typeof Rv.length},st=function(Rv){return"function"==ot(Rv)},lt=function(Rv){var Ov=typeof Rv;return"object"==Ov&&null!=Rv||"function"==Ov},ct=function(Rv){return Rv.call.apply(Rv.bind,arguments)},pt=function(Rv,Ov){if(!Rv)throw Error();if(2<arguments.length){var Cv=Array.prototype.slice.call(arguments,2);return function(){var wv=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wv,Cv),Rv.apply(Ov,wv)}}return function(){return Rv.apply(Ov,arguments)}},ut=function(){return ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:pt,ut.apply(null,arguments)},ht=function(Rv){var Pv=Array.prototype.slice.call(arguments,1);return function(){var Cv=Pv.slice();return Cv.push.apply(Cv,arguments),Rv.apply(this,Cv)}},ft=Date.now||function(){return+new Date},bt=function(Rv,Ov){function Pv(){}Pv.prototype=Ov.prototype,Rv.Hd=Ov.prototype,Rv.prototype=new Pv,Rv.prototype.constructor=Rv,Rv.ag=function(Cv,wv){for(var Uv=Array(arguments.length-2),Lv=2;Lv<arguments.length;Lv++)Uv[Lv-2]=arguments[Lv];return Ov.prototype[wv].apply(Cv,Uv)}},j,gt=function(Rv){if(Error.captureStackTrace)Error.captureStackTrace(this,gt);else{var Ov=Error().stack;Ov&&(this.stack=Ov)}Rv&&(this.message=Rv+"")};bt(gt,Error),gt.prototype.name="CustomError";var mt=function(Rv){for(var Pv=Rv.split("%s"),Cv="",wv=Array.prototype.slice.call(arguments,1);wv.length&&1<Pv.length;)Cv+=Pv.shift()+wv.shift();return Cv+Pv.join("%s")},yt=String.prototype.trim?function(Rv){return Rv.trim()}:function(Rv){return Rv.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vt=function(Rv){return At.test(Rv)?(-1!=Rv.indexOf("&")&&(Rv=Rv.replace(_t,"&amp;")),-1!=Rv.indexOf("<")&&(Rv=Rv.replace(kt,"&lt;")),-1!=Rv.indexOf(">")&&(Rv=Rv.replace(Tt,"&gt;")),-1!=Rv.indexOf("\"")&&(Rv=Rv.replace(Et,"&quot;")),-1!=Rv.indexOf("'")&&(Rv=Rv.replace(St,"&#39;")),-1!=Rv.indexOf("\0")&&(Rv=Rv.replace(It,"&#0;")),Rv):Rv},_t=/&/g,kt=/</g,Tt=/>/g,Et=/"/g,St=/'/g,It=/\x00/g,At=/[\x00&<>"']/,Nt=function(Rv,Ov){return-1!=Rv.indexOf(Ov)},Rt=function(Rv,Ov){return Rv<Ov?-1:Rv>Ov?1:0},Ot=function(Rv,Ov){Ov.unshift(Rv),gt.call(this,mt.apply(null,Ov)),Ov.shift()};bt(Ot,gt),Ot.prototype.name="AssertionError";var Pt=function(Rv,Ov,Pv,Cv){var wv="Assertion failed";if(Pv){wv+=": "+Pv;var Dv=Cv}else Rv&&(wv+=": "+Rv,Dv=Ov);throw new Ot(""+wv,Dv||[])},Ct=function(Rv,Ov){Rv||Pt("",null,Ov,Array.prototype.slice.call(arguments,2))},wt=function(Rv){throw new Ot("Failure"+(Rv?": "+Rv:""),Array.prototype.slice.call(arguments,1))},Dt=function(Rv,Ov){return nt(Rv)||Pt("Expected number but got %s: %s.",[ot(Rv),Rv],Ov,Array.prototype.slice.call(arguments,2)),Rv},Ut=function(Rv,Ov){et(Rv)||Pt("Expected string but got %s: %s.",[ot(Rv),Rv],Ov,Array.prototype.slice.call(arguments,2))},Lt=function(Rv,Ov){st(Rv)||Pt("Expected function but got %s: %s.",[ot(Rv),Rv],Ov,Array.prototype.slice.call(arguments,2))},Ft=Array.prototype.indexOf?function(Rv,Ov,Pv){return Ct(null!=Rv.length),Array.prototype.indexOf.call(Rv,Ov,Pv)}:function(Rv,Ov,Pv){if(Pv=null==Pv?0:0>Pv?Math.max(0,Rv.length+Pv):Pv,et(Rv))return et(Ov)&&1==Ov.length?Rv.indexOf(Ov,Pv):-1;for(;Pv<Rv.length;Pv++)if(Pv in Rv&&Rv[Pv]===Ov)return Pv;return-1},xt=Array.prototype.forEach?function(Rv,Ov,Pv){Ct(null!=Rv.length),Array.prototype.forEach.call(Rv,Ov,Pv)}:function(Rv,Ov,Pv){for(var Cv=Rv.length,wv=et(Rv)?Rv.split(""):Rv,Dv=0;Dv<Cv;Dv++)Dv in wv&&Ov.call(Pv,wv[Dv],Dv,Rv)},Mt=function(Rv,Ov){for(var Pv=et(Rv)?Rv.split(""):Rv,Cv=Rv.length-1;0<=Cv;--Cv)Cv in Pv&&Ov.call(void 0,Pv[Cv],Cv,Rv)},jt=Array.prototype.map?function(Rv,Ov,Pv){return Ct(null!=Rv.length),Array.prototype.map.call(Rv,Ov,Pv)}:function(Rv,Ov,Pv){for(var Cv=Rv.length,wv=Array(Cv),Dv=et(Rv)?Rv.split(""):Rv,Uv=0;Uv<Cv;Uv++)Uv in Dv&&(wv[Uv]=Ov.call(Pv,Dv[Uv],Uv,Rv));return wv},Bt=Array.prototype.some?function(Rv,Ov,Pv){return Ct(null!=Rv.length),Array.prototype.some.call(Rv,Ov,Pv)}:function(Rv,Ov,Pv){for(var Cv=Rv.length,wv=et(Rv)?Rv.split(""):Rv,Dv=0;Dv<Cv;Dv++)if(Dv in wv&&Ov.call(Pv,wv[Dv],Dv,Rv))return!0;return!1},Wt=function(Rv){a:{for(var Ov=ws,Pv=Rv.length,Cv=et(Rv)?Rv.split(""):Rv,wv=0;wv<Pv;wv++)if(wv in Cv&&Ov.call(void 0,Cv[wv],wv,Rv)){Ov=wv;break a}Ov=-1}return 0>Ov?null:et(Rv)?Rv.charAt(Ov):Rv[Ov]},Vt=function(Rv,Ov){return 0<=Ft(Rv,Ov)},Kt=function(Rv,Ov){Ov=Ft(Rv,Ov);var Pv;return(Pv=0<=Ov)&&qt(Rv,Ov),Pv},qt=function(Rv,Ov){return Ct(null!=Rv.length),1==Array.prototype.splice.call(Rv,Ov,1).length},Gt=function(Rv,Ov){var Pv=0;Mt(Rv,function(Cv,wv){Ov.call(void 0,Cv,wv,Rv)&&qt(Rv,wv)&&Pv++})},Ht=function(){return Array.prototype.concat.apply([],arguments)},Xt=function(Rv){var Ov=Rv.length;if(0<Ov){for(var Pv=Array(Ov),Cv=0;Cv<Ov;Cv++)Pv[Cv]=Rv[Cv];return Pv}return[]},zt=function(Rv){return jt(Rv,function(Ov){return Ov=Ov.toString(16),1<Ov.length?Ov:"0"+Ov}).join("")},Qt;a:{var Jt=_e.navigator;if(Jt){var Yt=Jt.userAgent;if(Yt){Qt=Yt;break a}}Qt=""}var $t=function(Rv){return Nt(Qt,Rv)},Zt=function(Rv,Ov){for(var Pv in Rv)Ov.call(void 0,Rv[Pv],Pv,Rv)},en=function(Rv){var Ov=[],Pv=0,Cv;for(Cv in Rv)Ov[Pv++]=Rv[Cv];return Ov},tn=function(Rv){var Ov=[],Pv=0,Cv;for(Cv in Rv)Ov[Pv++]=Cv;return Ov},nn=function(Rv){for(var Ov in Rv)return!1;return!0},an=function(Rv,Ov){for(var Pv in Rv)if(!(Pv in Ov)||Rv[Pv]!==Ov[Pv])return!1;for(Pv in Ov)if(!(Pv in Rv))return!1;return!0},on=function(Rv){var Ov={},Pv;for(Pv in Rv)Ov[Pv]=Rv[Pv];return Ov},rn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),dn=function(Rv){for(var wv=1,Pv,Cv;wv<arguments.length;wv++){for(Pv in Cv=arguments[wv],Cv)Rv[Pv]=Cv[Pv];for(var Dv=0;Dv<rn.length;Dv++)Pv=rn[Dv],Object.prototype.hasOwnProperty.call(Cv,Pv)&&(Rv[Pv]=Cv[Pv])}},sn=function(Rv){return sn[" "](Rv),Rv};sn[" "]=at;var ln=function(Rv,Ov){var Pv=Tn;return Object.prototype.hasOwnProperty.call(Pv,Rv)?Pv[Rv]:Pv[Rv]=Ov(Rv)},cn=$t("Opera"),pn=$t("Trident")||$t("MSIE"),un=$t("Edge"),fn=$t("Gecko")&&(!Nt(Qt.toLowerCase(),"webkit")||$t("Edge"))&&!($t("Trident")||$t("MSIE"))&&!$t("Edge"),bn=Nt(Qt.toLowerCase(),"webkit")&&!$t("Edge"),gn=function(){var Rv=_e.document;return Rv?Rv.documentMode:void 0},mn;a:{var yn="",vn=function(){var Rv=Qt;return fn?/rv\:([^\);]+)(\)|;)/.exec(Rv):un?/Edge\/([\d\.]+)/.exec(Rv):pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rv):bn?/WebKit\/(\S+)/.exec(Rv):cn?/(?:Version)[ \/]?(\S+)/.exec(Rv):void 0}();if(vn&&(yn=vn?vn[1]:""),pn){var _n=gn();if(null!=_n&&_n>parseFloat(yn)){mn=_n+"";break a}}mn=yn}var kn=mn,Tn={},En=function(Rv){return ln(Rv,function(){for(var Ov=0,Pv=yt(kn+"").split("."),Cv=yt(Rv+"").split("."),wv=Math.max(Pv.length,Cv.length),Dv=0;0==Ov&&Dv<wv;Dv++){var Uv=Pv[Dv]||"",Lv=Cv[Dv]||"";do{if(Uv=/(\d*)(\D*)(.*)/.exec(Uv)||["","","",""],Lv=/(\d*)(\D*)(.*)/.exec(Lv)||["","","",""],0==Uv[0].length&&0==Lv[0].length)break;Ov=Rt(0==Uv[1].length?0:parseInt(Uv[1],10),0==Lv[1].length?0:parseInt(Lv[1],10))||Rt(0==Uv[2].length,0==Lv[2].length)||Rt(Uv[2],Lv[2]),Uv=Uv[3],Lv=Lv[3]}while(0==Ov)}return 0<=Ov})},Sn,In=_e.document;Sn=In&&pn?gn()||("CSS1Compat"==In.compatMode?parseInt(kn,10):5):void 0;var An=null,Nn=null,Rn=function(Rv){var Ov="";return On(Rv,function(Pv){Ov+=String.fromCharCode(Pv)}),Ov},On=function(Rv,Ov){function Pv(Fv){for(;Cv<Rv.length;){var xv=Rv.charAt(Cv++),Mv=Nn[xv];if(null!=Mv)return Mv;if(!/^[\s\xa0]*$/.test(xv))throw Error("Unknown base64 encoding at char: "+xv)}return Fv}Pn();for(var Cv=0;;){var wv=Pv(-1),Dv=Pv(0),Uv=Pv(64),Lv=Pv(64);if(64===Lv&&-1===wv)break;Ov(wv<<2|Dv>>4),64!=Uv&&(Ov(240&Dv<<4|Uv>>2),64!=Lv&&Ov(192&Uv<<6|Lv))}},Pn=function(){if(!An){An={},Nn={};for(var Rv=0;65>Rv;Rv++)An[Rv]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Rv),Nn[An[Rv]]=Rv,62<=Rv&&(Nn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(Rv)]=Rv)}},wn=function(Rv,Ov){this.Ea=64,this.kc=_e.Uint8Array?new Uint8Array(this.Ea):Array(this.Ea),this.Qc=this.jb=0,this.i=[],this.tf=Rv,this.fe=Ov,this.Uf=_e.Int32Array?new Int32Array(64):Array(64),void 0!==Dn||(Dn=_e.Int32Array?new Int32Array(Mn):Mn),this.reset()},Dn;bt(wn,function(){this.Ea=-1});for(var Un=[],Ln=0;63>Ln;Ln++)Un[Ln]=0;var Fn=Ht(128,Un);wn.prototype.reset=function(){this.Qc=this.jb=0,this.i=_e.Int32Array?new Int32Array(this.fe):Xt(this.fe)};var xn=function(Rv){var Ov=Rv.kc;Ct(Ov.length==Rv.Ea);for(var Pv=Rv.Uf,Cv=0,wv=0;wv<Ov.length;)Pv[Cv++]=Ov[wv]<<24|Ov[wv+1]<<16|Ov[wv+2]<<8|Ov[wv+3],wv=4*Cv;for(Ov=16;64>Ov;Ov++){Cv=0|Pv[Ov-15],wv=0|Pv[Ov-2],wv=(wv>>>17|wv<<15)^(wv>>>19|wv<<13)^wv>>>10;var Dv=0|(0|Pv[Ov-16])+((Cv>>>7|Cv<<25)^(Cv>>>18|Cv<<14)^Cv>>>3),Uv=0|(0|Pv[Ov-7])+wv;Pv[Ov]=0|Dv+Uv}var Cv=0|Rv.i[0],wv=0|Rv.i[1],Lv=0|Rv.i[2],Fv=0|Rv.i[3],xv=0|Rv.i[4],Mv=0|Rv.i[5],jv=0|Rv.i[6];for(Dv=0|Rv.i[7],Ov=0;64>Ov;Ov++){var Bv=0|((Cv>>>2|Cv<<30)^(Cv>>>13|Cv<<19)^(Cv>>>22|Cv<<10))+(Cv&wv^Cv&Lv^wv&Lv);Uv=xv&Mv^~xv&jv,Dv=0|Dv+((xv>>>6|xv<<26)^(xv>>>11|xv<<21)^(xv>>>25|xv<<7)),Uv=0|Uv+(0|Dn[Ov]),Uv=0|Dv+(0|Uv+(0|Pv[Ov])),Dv=jv,jv=Mv,Mv=xv,xv=0|Fv+Uv,Fv=Lv,Lv=wv,wv=Cv,Cv=0|Uv+Bv}Rv.i[0]=0|Rv.i[0]+Cv,Rv.i[1]=0|Rv.i[1]+wv,Rv.i[2]=0|Rv.i[2]+Lv,Rv.i[3]=0|Rv.i[3]+Fv,Rv.i[4]=0|Rv.i[4]+xv,Rv.i[5]=0|Rv.i[5]+Mv,Rv.i[6]=0|Rv.i[6]+jv,Rv.i[7]=0|Rv.i[7]+Dv};wn.prototype.update=function(Rv,Ov){void 0===Ov&&(Ov=Rv.length);var Pv=0,Cv=this.jb;if(et(Rv))for(;Pv<Ov;)this.kc[Cv++]=Rv.charCodeAt(Pv++),Cv==this.Ea&&(xn(this),Cv=0);else if(dt(Rv))for(;Pv<Ov;){var wv=Rv[Pv++];if(!("number"==typeof wv&&0<=wv&&255>=wv&&wv==(0|wv)))throw Error("message must be a byte array");this.kc[Cv++]=wv,Cv==this.Ea&&(xn(this),Cv=0)}else throw Error("message must be string or array");this.jb=Cv,this.Qc+=Ov},wn.prototype.digest=function(){var Rv=[],Ov=8*this.Qc;56>this.jb?this.update(Fn,56-this.jb):this.update(Fn,this.Ea-(this.jb-56));for(var Pv=63;56<=Pv;Pv--)this.kc[Pv]=255&Ov,Ov/=256;for(xn(this),Pv=Ov=0;Pv<this.tf;Pv++)for(var Cv=24;0<=Cv;Cv-=8)Rv[Ov++]=255&this.i[Pv]>>Cv;return Rv};var Mn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],jn=function(){wn.call(this,8,Bn)};bt(jn,wn);var Bn=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Wn=function(){this.Ha=this.Ha,this.Cc=this.Cc};Wn.prototype.Ha=!1,Wn.prototype.isDisposed=function(){return this.Ha},Wn.prototype.fb=function(){if(this.Cc)for(;this.Cc.length;)this.Cc.shift()()};var Vn=!pn||9<=+Sn,Kn=pn&&!En("9");bn&&En("528"),fn&&En("1.9b")||pn&&En("8")||cn&&En("9.5")||bn&&En("528"),fn&&!En("8")||pn&&En("9");var qn=function(Rv,Ov){this.type=Rv,this.currentTarget=this.target=Ov,this.defaultPrevented=this.pb=!1,this.ne=!0};qn.prototype.preventDefault=function(){this.defaultPrevented=!0,this.ne=!1};var Gn=function(Rv,Ov){qn.call(this,Rv?Rv.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.gb=this.state=null,Rv&&this.init(Rv,Ov)};bt(Gn,qn),Gn.prototype.init=function(Rv,Ov){var Pv=this.type=Rv.type,Cv=Rv.changedTouches?Rv.changedTouches[0]:null;if(this.target=Rv.target||Rv.srcElement,this.currentTarget=Ov,!(Ov=Rv.relatedTarget))"mouseover"==Pv?Ov=Rv.fromElement:"mouseout"==Pv&&(Ov=Rv.toElement);else if(fn){a:{try{sn(Ov.nodeName);var wv=!0;break a}catch(Dv){}wv=!1}wv||(Ov=null)}this.relatedTarget=Ov,null===Cv?(this.offsetX=bn||void 0!==Rv.offsetX?Rv.offsetX:Rv.layerX,this.offsetY=bn||void 0!==Rv.offsetY?Rv.offsetY:Rv.layerY,this.clientX=void 0===Rv.clientX?Rv.pageX:Rv.clientX,this.clientY=void 0===Rv.clientY?Rv.pageY:Rv.clientY,this.screenX=Rv.screenX||0,this.screenY=Rv.screenY||0):(this.clientX=void 0===Cv.clientX?Cv.pageX:Cv.clientX,this.clientY=void 0===Cv.clientY?Cv.pageY:Cv.clientY,this.screenX=Cv.screenX||0,this.screenY=Cv.screenY||0),this.button=Rv.button,this.keyCode=Rv.keyCode||0,this.key=Rv.key||"",this.charCode=Rv.charCode||("keypress"==Pv?Rv.keyCode:0),this.ctrlKey=Rv.ctrlKey,this.altKey=Rv.altKey,this.shiftKey=Rv.shiftKey,this.metaKey=Rv.metaKey,this.state=Rv.state,this.gb=Rv,Rv.defaultPrevented&&this.preventDefault()},Gn.prototype.preventDefault=function(){Gn.Hd.preventDefault.call(this);var Rv=this.gb;if(Rv.preventDefault)Rv.preventDefault();else if(Rv.returnValue=!1,Kn)try{(Rv.ctrlKey||112<=Rv.keyCode&&123>=Rv.keyCode)&&(Rv.keyCode=-1)}catch(Ov){}},Gn.prototype.Xe=function(){return this.gb};var Hn="closure_listenable_"+(0|1E6*Math.random()),Xn=0,zn=function(Rv,Ov,Pv,Cv,wv){this.listener=Rv,this.Gc=null,this.src=Ov,this.type=Pv,this.capture=!!Cv,this.qc=wv,this.key=++Xn,this.tb=this.jc=!1},Qn=function(Rv){Rv.tb=!0,Rv.listener=null,Rv.Gc=null,Rv.src=null,Rv.qc=null},Jn=function(Rv){this.src=Rv,this.J={},this.ec=0};Jn.prototype.add=function(Rv,Ov,Pv,Cv,wv){var Dv=Rv.toString();Rv=this.J[Dv],Rv||(Rv=this.J[Dv]=[],this.ec++);var Uv=$n(Rv,Ov,Cv,wv);return-1<Uv?(Ov=Rv[Uv],Pv||(Ov.jc=!1)):(Ov=new zn(Ov,this.src,Dv,!!Cv,wv),Ov.jc=Pv,Rv.push(Ov)),Ov},Jn.prototype.remove=function(Rv,Ov,Pv,Cv){if(Rv=Rv.toString(),!(Rv in this.J))return!1;var wv=this.J[Rv];return Ov=$n(wv,Ov,Pv,Cv),!!(-1<Ov)&&(Qn(wv[Ov]),qt(wv,Ov),0==wv.length&&(delete this.J[Rv],this.ec--),!0)};var Yn=function(Rv,Ov){var Pv=Ov.type;Pv in Rv.J&&Kt(Rv.J[Pv],Ov)&&(Qn(Ov),0==Rv.J[Pv].length&&(delete Rv.J[Pv],Rv.ec--))};Jn.prototype.fd=function(Rv,Ov,Pv,Cv){Rv=this.J[Rv.toString()];var wv=-1;return Rv&&(wv=$n(Rv,Ov,Pv,Cv)),-1<wv?Rv[wv]:null};var $n=function(Rv,Ov,Pv,Cv){for(var wv=0,Dv;wv<Rv.length;++wv)if(Dv=Rv[wv],!Dv.tb&&Dv.listener==Ov&&Dv.capture==!!Pv&&Dv.qc==Cv)return wv;return-1},Zn="closure_lm_"+(0|1E6*Math.random()),_a={},eo=0,to=function(Rv,Ov,Pv,Cv,wv){if(it(Ov))for(var Dv=0;Dv<Ov.length;Dv++)to(Rv,Ov[Dv],Pv,Cv,wv);else Pv=fo(Pv),Rv&&Rv[Hn]?Rv.listen(Ov,Pv,Cv,wv):no(Rv,Ov,Pv,!1,Cv,wv)},no=function(Rv,Ov,Pv,Cv,wv,Dv){if(!Ov)throw Error("Invalid event type");var Lv=uo(Rv);if(Lv||(Rv[Zn]=Lv=new Jn(Rv)),Pv=Lv.add(Ov,Pv,Cv,wv,Dv),!Pv.Gc){if(Cv=ao(),Pv.Gc=Cv,Cv.src=Rv,Cv.listener=Pv,Rv.addEventListener)Rv.addEventListener(Ov.toString(),Cv,!!wv);else if(Rv.attachEvent)Rv.attachEvent(so(Ov.toString()),Cv);else throw Error("addEventListener and attachEvent are unavailable.");eo++}},ao=function(){var Rv=po,Ov=Vn?function(Pv){return Rv.call(Ov.src,Ov.listener,Pv)}:function(Pv){if(Pv=Rv.call(Ov.src,Ov.listener,Pv),!Pv)return Pv};return Ov},oo=function(Rv,Ov,Pv,Cv,wv){if(it(Ov))for(var Dv=0;Dv<Ov.length;Dv++)oo(Rv,Ov[Dv],Pv,Cv,wv);else Pv=fo(Pv),Rv&&Rv[Hn]?cs(Rv,Ov,Pv,Cv,wv):no(Rv,Ov,Pv,!0,Cv,wv)},ro=function(Rv,Ov,Pv,Cv,wv){if(it(Ov))for(var Dv=0;Dv<Ov.length;Dv++)ro(Rv,Ov[Dv],Pv,Cv,wv);else Pv=fo(Pv),Rv&&Rv[Hn]?Rv.ja.remove(Ov+"",Pv,Cv,wv):Rv&&(Rv=uo(Rv))&&(Ov=Rv.fd(Ov,Pv,!!Cv,wv))&&io(Ov)},io=function(Rv){if(!nt(Rv)&&Rv&&!Rv.tb){var Ov=Rv.src;if(Ov&&Ov[Hn])Yn(Ov.ja,Rv);else{var Pv=Rv.type,Cv=Rv.Gc;Ov.removeEventListener?Ov.removeEventListener(Pv,Cv,Rv.capture):Ov.detachEvent&&Ov.detachEvent(so(Pv),Cv),eo--,(Pv=uo(Ov))?(Yn(Pv,Rv),0==Pv.ec&&(Pv.src=null,Ov[Zn]=null)):Qn(Rv)}}},so=function(Rv){return Rv in _a?_a[Rv]:_a[Rv]="on"+Rv},lo=function(Rv,Ov,Pv,Cv){var wv=!0;if((Rv=uo(Rv))&&(Ov=Rv.J[Ov.toString()]))for(Ov=Ov.concat(),Rv=0;Rv<Ov.length;Rv++){var Dv=Ov[Rv];Dv&&Dv.capture==Pv&&!Dv.tb&&(Dv=co(Dv,Cv),wv=wv&&!1!==Dv)}return wv},co=function(Rv,Ov){var Pv=Rv.listener,Cv=Rv.qc||Rv.src;return Rv.jc&&io(Rv),Pv.call(Cv,Ov)},po=function(Rv,Ov){if(Rv.tb)return!0;if(!Vn){if(!Ov)a:{Ov=["window","event"];for(var Pv=_e,Cv;Cv=Ov.shift();)if(null!=Pv[Cv])Pv=Pv[Cv];else{Ov=null;break a}Ov=Pv}if(Cv=Ov,Ov=new Gn(Cv,this),Pv=!0,!(0>Cv.keyCode||void 0!=Cv.returnValue)){a:{var wv=!1;if(0==Cv.keyCode)try{Cv.keyCode=-1;break a}catch(Uv){wv=!0}(wv||void 0==Cv.returnValue)&&(Cv.returnValue=!0)}for(Cv=[],wv=Ov.currentTarget;wv;wv=wv.parentNode)Cv.push(wv);for(var wv=Rv.type,Dv=Cv.length-1;!Ov.pb&&0<=Dv;Dv--)Ov.currentTarget=Cv[Dv],Rv=lo(Cv[Dv],wv,!0,Ov),Pv=Pv&&Rv;for(Dv=0;!Ov.pb&&Dv<Cv.length;Dv++)Ov.currentTarget=Cv[Dv],Rv=lo(Cv[Dv],wv,!1,Ov),Pv=Pv&&Rv}return Pv}return co(Rv,new Gn(Ov,this))},uo=function(Rv){return Rv=Rv[Zn],Rv instanceof Jn?Rv:null},ho="__closure_events_fn_"+(1E9*Math.random()>>>0),fo=function(Rv){return(Ct(Rv,"Listener can not be null."),st(Rv))?Rv:(Ct(Rv.handleEvent,"An object listener must have handleEvent method."),Rv[ho]||(Rv[ho]=function(Ov){return Rv.handleEvent(Ov)}),Rv[ho])},bo=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,go=function(){this.Mc="",this.Ee=yo};go.prototype.Ib=!0,go.prototype.Fb=function(){return this.Mc},go.prototype.toString=function(){return"Const{"+this.Mc+"}"};var mo=function(Rv){return Rv instanceof go&&Rv.constructor===go&&Rv.Ee===yo?Rv.Mc:(wt("expected object of type Const, got '"+Rv+"'"),"type_error:Const")},yo={},vo=function(Rv){var Ov=new go;return Ov.Mc=Rv,Ov};vo("");var _o=function(){this.Fc="",this.Fe=ko};_o.prototype.Ib=!0,_o.prototype.Fb=function(){return this.Fc},_o.prototype.toString=function(){return"TrustedResourceUrl{"+this.Fc+"}"};var ko={},To=function(){this.qa="",this.De=Ao};To.prototype.Ib=!0,To.prototype.Fb=function(){return this.qa},To.prototype.toString=function(){return"SafeUrl{"+this.qa+"}"};var Eo=function(Rv){return Rv instanceof To&&Rv.constructor===To&&Rv.De===Ao?Rv.qa:(wt("expected object of type SafeUrl, got '"+Rv+"' of type "+ot(Rv)),"type_error:SafeUrl")},So=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Io=function(Rv){return Rv instanceof To?Rv:(Rv=Rv.Ib?Rv.Fb():Rv+"",So.test(Rv)||(Rv="about:invalid#zClosurez"),No(Rv))},Ao={},No=function(Rv){var Ov=new To;return Ov.qa=Rv,Ov};No("about:blank");var Ro=function(Rv){var Ov=[];return Po(new Oo,Rv,Ov),Ov.join("")},Oo=function(){this.Hc=void 0},Po=function(Rv,Ov,Pv){if(null==Ov)Pv.push("null");else{if("object"==typeof Ov){if(it(Ov)){var Cv=Ov;Ov=Cv.length,Pv.push("[");for(var wv="",Dv=0;Dv<Ov;Dv++)Pv.push(wv),wv=Cv[Dv],Po(Rv,Rv.Hc?Rv.Hc.call(Cv,Dv+"",wv):wv,Pv),wv=",";return void Pv.push("]")}if(Ov instanceof String||Ov instanceof Number||Ov instanceof Boolean)Ov=Ov.valueOf();else{for(Cv in Pv.push("{"),Dv="",Ov)Object.prototype.hasOwnProperty.call(Ov,Cv)&&(wv=Ov[Cv],"function"!=typeof wv&&(Pv.push(Dv),Do(Cv,Pv),Pv.push(":"),Po(Rv,Rv.Hc?Rv.Hc.call(Ov,Cv,wv):wv,Pv),Dv=","));return void Pv.push("}")}}switch(typeof Ov){case"string":Do(Ov,Pv);break;case"number":Pv.push(isFinite(Ov)&&!isNaN(Ov)?Ov+"":"null");break;case"boolean":Pv.push(Ov+"");break;case"function":Pv.push("null");break;default:throw Error("Unknown type: "+typeof Ov);}}},Co={'"':"\\\"","\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},wo=/\uffff/.test("\uFFFF")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Do=function(Rv,Ov){Ov.push("\"",Rv.replace(wo,function(Pv){var Cv=Co[Pv];return Cv||(Cv="\\u"+(65536|Pv.charCodeAt(0)).toString(16).substr(1),Co[Pv]=Cv),Cv}),"\"")},Uo=function(){};Uo.prototype.Md=null;var Lo=function(Rv){return Rv.Md||(Rv.Md=Rv.md())},Fo,xo=function(){};bt(xo,Uo),xo.prototype.lc=function(){var Rv=Mo(this);return Rv?new ActiveXObject(Rv):new XMLHttpRequest},xo.prototype.md=function(){var Rv={};return Mo(this)&&(Rv[0]=!0,Rv[1]=!0),Rv};var Mo=function(Rv){if(!Rv.ee&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var Ov=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Pv=0,Cv;Pv<Ov.length;Pv++){Cv=Ov[Pv];try{return new ActiveXObject(Cv),Rv.ee=Cv}catch(wv){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Rv.ee};Fo=new xo;var jo=function(){};bt(jo,Uo),jo.prototype.lc=function(){var Rv=new XMLHttpRequest;if("withCredentials"in Rv)return Rv;if("undefined"!=typeof XDomainRequest)return new Bo;throw Error("Unsupported browser")},jo.prototype.md=function(){return{}};var Bo=function(){this.va=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.va.onload=ut(this.Ze,this),this.va.onerror=ut(this.ae,this),this.va.onprogress=ut(this.$e,this),this.va.ontimeout=ut(this.af,this)};j=Bo.prototype,j.open=function(Rv,Ov,Pv){if(null!=Pv&&!Pv)throw Error("Only async requests are supported.");this.va.open(Rv,Ov)},j.send=function(Rv){if(!Rv)this.va.send();else if("string"==typeof Rv)this.va.send(Rv);else throw Error("Only string data is supported")},j.abort=function(){this.va.abort()},j.setRequestHeader=function(){},j.Ze=function(){this.status=200,this.responseText=this.va.responseText,Wo(this,4)},j.ae=function(){this.status=500,this.responseText="",Wo(this,4)},j.af=function(){this.ae()},j.$e=function(){this.status=200,Wo(this,1)};var Wo=function(Rv,Ov){Rv.readyState=Ov,Rv.onreadystatechange&&Rv.onreadystatechange()},Vo=function(Rv,Ov,Pv){this.mf=Pv,this.Me=Rv,this.Ef=Ov,this.Bc=0,this.rc=null};Vo.prototype.get=function(){if(0<this.Bc){this.Bc--;var Rv=this.rc;this.rc=Rv.next,Rv.next=null}else Rv=this.Me();return Rv},Vo.prototype.put=function(Rv){this.Ef(Rv),this.Bc<this.mf&&(this.Bc++,Rv.next=this.rc,this.rc=Rv)};var Ko=function(Rv){_e.setTimeout(function(){throw Rv},0)},Go=function(){var Rv=_e.MessageChannel;if("undefined"===typeof Rv&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!$t("Presto")&&(Rv=function(){var wv=document.createElement("IFRAME");wv.style.display="none",wv.src="",document.documentElement.appendChild(wv);var Dv=wv.contentWindow,wv=Dv.document;wv.open(),wv.write(""),wv.close();var Uv="callImmediate"+Math.random(),Lv="file:"==Dv.location.protocol?"*":Dv.location.protocol+"//"+Dv.location.host,wv=ut(function(Fv){("*"==Lv||Fv.origin==Lv)&&Fv.data==Uv&&this.port1.onmessage()},this);Dv.addEventListener("message",wv,!1),this.port1={},this.port2={postMessage:function(){Dv.postMessage(Uv,Lv)}}}),"undefined"!==typeof Rv&&!$t("Trident")&&!$t("MSIE")){var Ov=new Rv,Pv={},Cv=Pv;return Ov.port1.onmessage=function(){if(void 0!==Pv.next){Pv=Pv.next;var wv=Pv.Pd;Pv.Pd=null,wv()}},function(wv){Cv.next={Pd:wv},Cv=Cv.next,Ov.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(wv){var Dv=document.createElement("SCRIPT");Dv.onreadystatechange=function(){Dv.onreadystatechange=null,Dv.parentNode.removeChild(Dv),Dv=null,wv(),wv=null},document.documentElement.appendChild(Dv)}:function(wv){_e.setTimeout(wv,0)}},qo,Ho=function(){this.Vc=this.ab=null},Xo=new Vo(function(){return new zo},function(Rv){Rv.reset()},100);Ho.prototype.add=function(Rv,Ov){var Pv=Xo.get();Pv.set(Rv,Ov),this.Vc?this.Vc.next=Pv:(Ct(!this.ab),this.ab=Pv),this.Vc=Pv},Ho.prototype.remove=function(){var Rv=null;return this.ab&&(Rv=this.ab,this.ab=this.ab.next,this.ab||(this.Vc=null),Rv.next=null),Rv};var zo=function(){this.next=this.scope=this.ed=null};zo.prototype.set=function(Rv,Ov){this.ed=Rv,this.scope=Ov,this.next=null},zo.prototype.reset=function(){this.next=this.scope=this.ed=null};var Qo=function(Rv,Ov){Jo||Yo(),$o||(Jo(),$o=!0),Zo.add(Rv,Ov)},Yo=function(){if(-1!=(_e.Promise+"").indexOf("[native code]")){var Rv=_e.Promise.resolve(void 0);Jo=function(){Rv.then(er)}}else Jo=function(){var Ov=er;!st(_e.setImmediate)||_e.Window&&_e.Window.prototype&&!$t("Edge")&&_e.Window.prototype.setImmediate==_e.setImmediate?(qo||(qo=Go()),qo(Ov)):_e.setImmediate(Ov)}},$o=!1,Zo=new Ho,er=function(){for(var Rv;Rv=Zo.remove();){try{Rv.ed.call(Rv.scope)}catch(Ov){Ko(Ov)}Xo.put(Rv)}$o=!1},Jo,tr=!pn||9<=+Sn;!fn&&!pn||pn&&9<=+Sn||fn&&En("1.9.1"),pn&&En("9");var nr=function(){this.qa="",this.Ce=or};nr.prototype.Ib=!0,nr.prototype.Fb=function(){return this.qa},nr.prototype.toString=function(){return"SafeHtml{"+this.qa+"}"};var ar=function(Rv){return Rv instanceof nr&&Rv.constructor===nr&&Rv.Ce===or?Rv.qa:(wt("expected object of type SafeHtml, got '"+Rv+"' of type "+ot(Rv)),"type_error:SafeHtml")},or={};nr.prototype.gf=function(Rv){return this.qa=Rv,this};var rr=function(Rv){var Ov=document;return et(Rv)?Ov.getElementById(Rv):Rv},ir=function(Rv,Ov){Zt(Ov,function(Pv,Cv){Pv&&Pv.Ib&&(Pv=Pv.Fb()),"style"==Cv?Rv.style.cssText=Pv:"class"==Cv?Rv.className=Pv:"for"==Cv?Rv.htmlFor=Pv:dr.hasOwnProperty(Cv)?Rv.setAttribute(dr[Cv],Pv):0==Cv.lastIndexOf("aria-",0)||0==Cv.lastIndexOf("data-",0)?Rv.setAttribute(Cv,Pv):Rv[Cv]=Pv})},dr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},sr=function(){var Cv=arguments,wv=document,Dv=Cv[0]+"",Uv=Cv[1];if(!tr&&Uv&&(Uv.name||Uv.type)){if(Dv=["<",Dv],Uv.name&&Dv.push(" name=\"",vt(Uv.name),"\""),Uv.type){Dv.push(" type=\"",vt(Uv.type),"\"");var Lv={};dn(Lv,Uv),delete Lv.type,Uv=Lv}Dv.push(">"),Dv=Dv.join("")}return Dv=wv.createElement(Dv),Uv&&(et(Uv)?Dv.className=Uv:it(Uv)?Dv.className=Uv.join(" "):ir(Dv,Uv)),2<Cv.length&&lr(wv,Dv,Cv),Dv},lr=function(Rv,Ov,Pv){function Cv(Uv){Uv&&Ov.appendChild(et(Uv)?Rv.createTextNode(Uv):Uv)}for(var wv=2,Dv;wv<Pv.length;wv++)Dv=Pv[wv],!dt(Dv)||lt(Dv)&&0<Dv.nodeType?Cv(Dv):xt(cr(Dv)?Xt(Dv):Dv,Cv)},cr=function(Rv){if(Rv&&"number"==typeof Rv.length){if(lt(Rv))return"function"==typeof Rv.item||"string"==typeof Rv.item;if(st(Rv))return"function"==typeof Rv.item}return!1},pr=function(Rv){Rv.prototype.then=Rv.prototype.then,Rv.prototype.$goog_Thenable=!0},ur=function(Rv){if(!Rv)return!1;try{return!!Rv.$goog_Thenable}catch(Ov){return!1}},hr=function(Rv,Ov){if(this.V=0,this.sa=void 0,this.eb=this.oa=this.u=null,this.pc=this.dd=!1,Rv!=at)try{var Pv=this;Rv.call(Ov,function(Cv){Ir(Pv,2,Cv)},function(Cv){if(!(Cv instanceof Ur))try{if(Cv instanceof Error)throw Cv;throw Error("Promise rejected.")}catch(wv){}Ir(Pv,3,Cv)})}catch(Cv){Ir(this,3,Cv)}},fr=function(){this.next=this.context=this.lb=this.Pa=this.child=null,this.yb=!1};fr.prototype.reset=function(){this.context=this.lb=this.Pa=this.child=null,this.yb=!1};var br=new Vo(function(){return new fr},function(Rv){Rv.reset()},100),gr=function(Rv,Ov,Pv){var Cv=br.get();return Cv.Pa=Rv,Cv.lb=Ov,Cv.context=Pv,Cv},mr=function(Rv){if(Rv instanceof hr)return Rv;var Ov=new hr(at);return Ir(Ov,2,Rv),Ov},yr=function(Rv){return new hr(function(Ov,Pv){Pv(Rv)})},vr=function(Rv,Ov,Pv){Ar(Rv,Ov,Pv,null)||Qo(ht(Ov,Rv))},_r=function(Rv){return new hr(function(Ov){var Pv=Rv.length,Cv=[];if(Pv)for(var wv=function(Lv,Fv,xv){Pv--,Cv[Lv]=Fv?{Ve:!0,value:xv}:{Ve:!1,reason:xv},0==Pv&&Ov(Cv)},Dv=0,Uv;Dv<Rv.length;Dv++)Uv=Rv[Dv],vr(Uv,ht(wv,Dv,!0),ht(wv,Dv,!1));else Ov(Cv)})};hr.prototype.then=function(Rv,Ov,Pv){return null!=Rv&&Lt(Rv,"opt_onFulfilled should be a function."),null!=Ov&&Lt(Ov,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Sr(this,st(Rv)?Rv:null,st(Ov)?Ov:null,Pv)},pr(hr);var kr=function(Rv,Ov){return Ov=gr(Ov,Ov,void 0),Ov.yb=!0,Er(Rv,Ov),Rv};hr.prototype.f=function(Rv,Ov){return Sr(this,null,Rv,Ov)},hr.prototype.cancel=function(Rv){0==this.V&&Qo(function(){var Ov=new Ur(Rv);Tr(this,Ov)},this)};var Tr=function(Rv,Ov){if(0==Rv.V)if(Rv.u){var Pv=Rv.u;if(Pv.oa){for(var Cv=0,wv=null,Dv=null,Uv=Pv.oa;Uv&&(Uv.yb||(Cv++,Uv.child==Rv&&(wv=Uv),!(wv&&1<Cv)));Uv=Uv.next)wv||(Dv=Uv);wv&&(0==Pv.V&&1==Cv?Tr(Pv,Ov):(Dv?(Cv=Dv,Ct(Pv.oa),Ct(null!=Cv),Cv.next==Pv.eb&&(Pv.eb=Cv),Cv.next=Cv.next.next):Or(Pv),Pr(Pv,wv,3,Ov)))}Rv.u=null}else Ir(Rv,3,Ov)},Er=function(Rv,Ov){Rv.oa||2!=Rv.V&&3!=Rv.V||Rr(Rv),Ct(null!=Ov.Pa),Rv.eb?Rv.eb.next=Ov:Rv.oa=Ov,Rv.eb=Ov},Sr=function(Rv,Ov,Pv,Cv){var wv=gr(null,null,null);return wv.child=new hr(function(Dv,Uv){wv.Pa=Ov?function(Lv){try{var Fv=Ov.call(Cv,Lv);Dv(Fv)}catch(xv){Uv(xv)}}:Dv,wv.lb=Pv?function(Lv){try{var Fv=Pv.call(Cv,Lv);void 0===Fv&&Lv instanceof Ur?Uv(Lv):Dv(Fv)}catch(xv){Uv(xv)}}:Uv}),wv.child.u=Rv,Er(Rv,wv),wv.child};hr.prototype.Rf=function(Rv){Ct(1==this.V),this.V=0,Ir(this,2,Rv)},hr.prototype.Sf=function(Rv){Ct(1==this.V),this.V=0,Ir(this,3,Rv)};var Ir=function(Rv,Ov,Pv){0==Rv.V&&(Rv===Pv&&(Ov=3,Pv=new TypeError("Promise cannot resolve to itself")),Rv.V=1,Ar(Pv,Rv.Rf,Rv.Sf,Rv)||(Rv.sa=Pv,Rv.V=Ov,Rv.u=null,Rr(Rv),3!=Ov||Pv instanceof Ur||wr(Rv,Pv)))},Ar=function(Rv,Ov,Pv,Cv){if(Rv instanceof hr)return null!=Ov&&Lt(Ov,"opt_onFulfilled should be a function."),null!=Pv&&Lt(Pv,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Er(Rv,gr(Ov||at,Pv||null,Cv)),!0;if(ur(Rv))return Rv.then(Ov,Pv,Cv),!0;if(lt(Rv))try{var wv=Rv.then;if(st(wv))return Nr(Rv,wv,Ov,Pv,Cv),!0}catch(Dv){return Pv.call(Cv,Dv),!0}return!1},Nr=function(Rv,Ov,Pv,Cv,wv){var Dv=!1,Uv=function(Fv){Dv||(Dv=!0,Pv.call(wv,Fv))},Lv=function(Fv){Dv||(Dv=!0,Cv.call(wv,Fv))};try{Ov.call(Rv,Uv,Lv)}catch(Fv){Lv(Fv)}},Rr=function(Rv){Rv.dd||(Rv.dd=!0,Qo(Rv.Re,Rv))},Or=function(Rv){var Ov=null;return Rv.oa&&(Ov=Rv.oa,Rv.oa=Ov.next,Ov.next=null),Rv.oa||(Rv.eb=null),null!=Ov&&Ct(null!=Ov.Pa),Ov};hr.prototype.Re=function(){for(var Rv;Rv=Or(this);)Pr(this,Rv,this.V,this.sa);this.dd=!1};var Pr=function(Rv,Ov,Pv,Cv){if(3==Pv&&Ov.lb&&!Ov.yb)for(;Rv&&Rv.pc;Rv=Rv.u)Rv.pc=!1;if(Ov.child)Ov.child.u=null,Cr(Ov,Pv,Cv);else try{Ov.yb?Ov.Pa.call(Ov.context):Cr(Ov,Pv,Cv)}catch(wv){Dr.call(null,wv)}br.put(Ov)},Cr=function(Rv,Ov,Pv){2==Ov?Rv.Pa.call(Rv.context,Pv):Rv.lb&&Rv.lb.call(Rv.context,Pv)},wr=function(Rv,Ov){Rv.pc=!0,Qo(function(){Rv.pc&&Dr.call(null,Ov)})},Dr=Ko,Ur=function(Rv){gt.call(this,Rv)};bt(Ur,gt),Ur.prototype.name="cancel";var Lr=function(Rv,Ov){this.Jc=[],this.je=Rv,this.Td=Ov||null,this.Gb=this.hb=!1,this.sa=void 0,this.Ed=this.Kd=this.Zc=!1,this.Rc=0,this.u=null,this.$c=0};Lr.prototype.cancel=function(Rv){if(this.hb)this.sa instanceof Lr&&this.sa.cancel();else{if(this.u){var Ov=this.u;delete this.u,Rv?Ov.cancel(Rv):(Ov.$c--,0>=Ov.$c&&Ov.cancel())}this.je?this.je.call(this.Td,this):this.Ed=!0,this.hb||Mr(this,new Gr)}},Lr.prototype.Rd=function(Rv,Ov){this.Zc=!1,Fr(this,Rv,Ov)};var Fr=function(Rv,Ov,Pv){Rv.hb=!0,Rv.sa=Pv,Rv.Gb=!Ov,Kr(Rv)},xr=function(Rv){if(Rv.hb){if(!Rv.Ed)throw new qr;Rv.Ed=!1}};Lr.prototype.callback=function(Rv){xr(this),jr(Rv),Fr(this,!0,Rv)};var Mr=function(Rv,Ov){xr(Rv),jr(Ov),Fr(Rv,!1,Ov)},jr=function(Rv){Ct(!(Rv instanceof Lr),"An execution sequence may not be initiated with a blocking Deferred.")},Br=function(Rv){var Ov=zr("https://apis.google.com/js/client.js?onload="+Wp);Wr(Ov,null,Rv,void 0)},Wr=function(Rv,Ov,Pv,Cv){Ct(!Rv.Kd,"Blocking Deferreds can not be re-used"),Rv.Jc.push([Ov,Pv,Cv]),Rv.hb&&Kr(Rv)};Lr.prototype.then=function(Rv,Ov,Pv){var Dv=new hr(function(Uv,Lv){Cv=Uv,wv=Lv}),Cv,wv;return Wr(this,Cv,function(Uv){Uv instanceof Gr?Dv.cancel():wv(Uv)}),Dv.then(Rv,Ov,Pv)},pr(Lr);var Vr=function(Rv){return Bt(Rv.Jc,function(Ov){return st(Ov[1])})},Kr=function(Rv){if(Rv.Rc&&Rv.hb&&Vr(Rv)){var Ov=Rv.Rc,Pv=Xr[Ov];Pv&&(_e.clearTimeout(Pv.Hb),delete Xr[Ov]),Rv.Rc=0}Rv.u&&(Rv.u.$c--,delete Rv.u);for(var Ov=Rv.sa,Cv=Pv=!1;Rv.Jc.length&&!Rv.Zc;){var wv=Rv.Jc.shift(),Dv=wv[0],Uv=wv[1],wv=wv[2];if(Dv=Rv.Gb?Uv:Dv)try{var Lv=Dv.call(wv||Rv.Td,Ov);void 0!==Lv&&(Rv.Gb=Rv.Gb&&(Lv==Ov||Lv instanceof Error),Rv.sa=Ov=Lv),(ur(Ov)||"function"===typeof _e.Promise&&Ov instanceof _e.Promise)&&(Cv=!0,Rv.Zc=!0)}catch(Fv){Ov=Fv,Rv.Gb=!0,Vr(Rv)||(Pv=!0)}}Rv.sa=Ov,Cv&&(Lv=ut(Rv.Rd,Rv,!0),Cv=ut(Rv.Rd,Rv,!1),Ov instanceof Lr?(Wr(Ov,Lv,Cv),Ov.Kd=!0):Ov.then(Lv,Cv)),Pv&&(Ov=new Hr(Ov),Xr[Ov.Hb]=Ov,Rv.Rc=Ov.Hb)},qr=function(){gt.call(this)};bt(qr,gt),qr.prototype.message="Deferred has already fired",qr.prototype.name="AlreadyCalledError";var Gr=function(){gt.call(this)};bt(Gr,gt),Gr.prototype.message="Deferred was canceled",Gr.prototype.name="CanceledError";var Hr=function(Rv){this.Hb=_e.setTimeout(ut(this.Qf,this),0),this.W=Rv};Hr.prototype.Qf=function(){throw Ct(Xr[this.Hb],"Cannot throw an error that is not scheduled."),delete Xr[this.Hb],this.W};var Xr={},zr=function(Rv){var Ov=new _o;return Ov.Fc=Rv,Qr(Ov)},Qr=function(Rv){var Ov={},Pv=Ov.document||document;if(Rv instanceof _o&&Rv.constructor===_o&&Rv.Fe===ko)var Cv=Rv.Fc;else wt("expected object of type TrustedResourceUrl, got '"+Rv+"' of type "+ot(Rv)),Cv="type_error:TrustedResourceUrl";var wv=document.createElement("SCRIPT");Rv={oe:wv,dc:void 0};var Dv=new Lr(Yr,Rv),Uv=null,Lv=null==Ov.timeout?5E3:Ov.timeout;return 0<Lv&&(Uv=window.setTimeout(function(){$r(wv,!0),Mr(Dv,new Zr(1,"Timeout reached for loading script "+Cv))},Lv),Rv.dc=Uv),wv.onload=wv.onreadystatechange=function(){wv.readyState&&"loaded"!=wv.readyState&&"complete"!=wv.readyState||($r(wv,Ov.bg||!1,Uv),Dv.callback(null))},wv.onerror=function(){$r(wv,!0,Uv),Mr(Dv,new Zr(0,"Error while loading script "+Cv))},Rv=Ov.attributes||{},dn(Rv,{type:"text/javascript",charset:"UTF-8",src:Cv}),ir(wv,Rv),Jr(Pv).appendChild(wv),Dv},Jr=function(Rv){var Ov;return(Ov=(Rv||document).getElementsByTagName("HEAD"))&&0!=Ov.length?Ov[0]:Rv.documentElement},Yr=function(){if(this&&this.oe){var Rv=this.oe;Rv&&"SCRIPT"==Rv.tagName&&$r(Rv,!0,this.dc)}},$r=function(Rv,Ov,Pv){null!=Pv&&_e.clearTimeout(Pv),Rv.onload=at,Rv.onerror=at,Rv.onreadystatechange=at,Ov&&window.setTimeout(function(){Rv&&Rv.parentNode&&Rv.parentNode.removeChild(Rv)},0)},Zr=function(Rv,Ov){var Pv="Jsloader error (code #"+Rv+")";Ov&&(Pv+=": "+Ov),gt.call(this,Pv),this.code=Rv};bt(Zr,gt);var _i=function(Rv,Ov,Pv,Cv,wv){this.reset(Rv,Ov,Pv,Cv,wv)};_i.prototype.Vd=null;var _d=0;_i.prototype.reset=function(Rv,Ov,Pv,Cv,wv){"number"==typeof wv||_d++,Cv||ft(),this.Nb=Rv,this.qf=Ov,delete this.Vd},_i.prototype.re=function(Rv){this.Nb=Rv};var es=function(Rv){this.rf=Rv,this.be=this.ad=this.Nb=this.u=null},ts=function(Rv,Ov){this.name=Rv,this.value=Ov};ts.prototype.toString=function(){return this.name};var ns=new ts("SEVERE",1E3),as=new ts("CONFIG",700),os=new ts("FINE",500);es.prototype.getParent=function(){return this.u},es.prototype.re=function(Rv){this.Nb=Rv};var rs=function(Rv){return Rv.Nb?Rv.Nb:Rv.u?rs(Rv.u):(wt("Root logger has no level set."),null)};es.prototype.log=function(Rv,Ov,Pv){if(Rv.value>=rs(this).value)for(st(Ov)&&(Ov=Ov()),Rv=new _i(Rv,Ov+"",this.rf),Pv&&(Rv.Vd=Pv),Pv="log:"+Rv.qf,_e.console&&(_e.console.timeStamp?_e.console.timeStamp(Pv):_e.console.markTimeline&&_e.console.markTimeline(Pv)),_e.msWriteProfilerMark&&_e.msWriteProfilerMark(Pv),Pv=this;Pv;){var Cv=Pv,wv=Rv;if(Cv.be)for(var Dv=0;Ov=Cv.be[Dv];Dv++)Ov(wv);Pv=Pv.getParent()}};var is={},ds=null,ss=function(Rv){ds||(ds=new es(""),is[""]=ds,ds.re(as));var Ov;if(!(Ov=is[Rv])){Ov=new es(Rv);var Pv=Rv.lastIndexOf("."),Cv=Rv.substr(Pv+1),Pv=ss(Rv.substr(0,Pv));Pv.ad||(Pv.ad={}),Pv.ad[Cv]=Ov,Ov.u=Pv,is[Rv]=Ov}return Ov},ls=function(){Wn.call(this),this.ja=new Jn(this),this.He=this,this.rd=null};bt(ls,Wn),ls.prototype[Hn]=!0,j=ls.prototype,j.addEventListener=function(Rv,Ov,Pv,Cv){to(this,Rv,Ov,Pv,Cv)},j.removeEventListener=function(Rv,Ov,Pv,Cv){ro(this,Rv,Ov,Pv,Cv)},j.dispatchEvent=function(Rv){us(this);var Ov=this.rd;if(Ov)for(var Pv=[],Cv=1;Ov;Ov=Ov.rd)Pv.push(Ov),Ct(1E3>++Cv,"infinite loop");if(Ov=this.He,Cv=Rv.type||Rv,et(Rv))Rv=new qn(Rv,Ov);else if(Rv instanceof qn)Rv.target=Rv.target||Ov;else{var wv=Rv;Rv=new qn(Cv,Ov),dn(Rv,wv)}for(var wv=!0,Dv=Pv.length-1,Uv;!Rv.pb&&0<=Dv;Dv--)Uv=Rv.currentTarget=Pv[Dv],wv=ps(Uv,Cv,!0,Rv)&&wv;for(Rv.pb||(Uv=Rv.currentTarget=Ov,wv=ps(Uv,Cv,!0,Rv)&&wv,Rv.pb||(wv=ps(Uv,Cv,!1,Rv)&&wv)),Dv=0;!Rv.pb&&Dv<Pv.length;Dv++)Uv=Rv.currentTarget=Pv[Dv],wv=ps(Uv,Cv,!1,Rv)&&wv;return wv},j.fb=function(){if(ls.Hd.fb.call(this),this.ja){var Rv=this.ja,Ov=0,Pv;for(Pv in Rv.J){for(var Cv=Rv.J[Pv],wv=0;wv<Cv.length;wv++)++Ov,Qn(Cv[wv]);delete Rv.J[Pv],Rv.ec--}}this.rd=null},j.listen=function(Rv,Ov,Pv,Cv){return us(this),this.ja.add(Rv+"",Ov,!1,Pv,Cv)};var cs=function(Rv,Ov,Pv,Cv,wv){Rv.ja.add(Ov+"",Pv,!0,Cv,wv)},ps=function(Rv,Ov,Pv,Cv){if(Ov=Rv.ja.J[Ov+""],!Ov)return!0;Ov=Ov.concat();for(var wv=!0,Dv=0,Uv;Dv<Ov.length;++Dv)if(Uv=Ov[Dv],Uv&&!Uv.tb&&Uv.capture==Pv){var Lv=Uv.listener,Fv=Uv.qc||Uv.src;Uv.jc&&Yn(Rv.ja,Uv),wv=!1!==Lv.call(Fv,Cv)&&wv}return wv&&0!=Cv.ne};ls.prototype.fd=function(Rv,Ov,Pv,Cv){return this.ja.fd(Rv+"",Ov,Pv,Cv)};var us=function(Rv){Ct(Rv.ja,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},hs="StopIteration"in _e?_e.StopIteration:{message:"StopIteration",stack:""},fs=function(){};fs.prototype.next=function(){throw hs},fs.prototype.Ge=function(){return this};var bs=function(Rv,Ov){Rv&&Rv.log(os,Ov,void 0)},gs=function(Rv){this.ea={},this.A=[],this.$a=this.o=0;var Pv=arguments.length;if(1<Pv){if(Pv%2)throw Error("Uneven number of arguments");for(var Cv=0;Cv<Pv;Cv+=2)this.set(arguments[Cv],arguments[Cv+1])}else Rv&&this.addAll(Rv)};j=gs.prototype,j.ca=function(){ms(this);for(var Rv=[],Ov=0;Ov<this.A.length;Ov++)Rv.push(this.ea[this.A[Ov]]);return Rv},j.pa=function(){return ms(this),this.A.concat()},j.Ab=function(Rv){return ys(this.ea,Rv)},j.clear=function(){this.ea={},this.$a=this.o=this.A.length=0},j.remove=function(Rv){return!!ys(this.ea,Rv)&&(delete this.ea[Rv],this.o--,this.$a++,this.A.length>2*this.o&&ms(this),!0)};var ms=function(Rv){var Ov,Pv;if(Rv.o!=Rv.A.length){for(Ov=Pv=0;Pv<Rv.A.length;){var Cv=Rv.A[Pv];ys(Rv.ea,Cv)&&(Rv.A[Ov++]=Cv),Pv++}Rv.A.length=Ov}if(Rv.o!=Rv.A.length){var wv={};for(Ov=Pv=0;Pv<Rv.A.length;)Cv=Rv.A[Pv],ys(wv,Cv)||(Rv.A[Ov++]=Cv,wv[Cv]=1),Pv++;Rv.A.length=Ov}};j=gs.prototype,j.get=function(Rv,Ov){return ys(this.ea,Rv)?this.ea[Rv]:Ov},j.set=function(Rv,Ov){ys(this.ea,Rv)||(this.o++,this.A.push(Rv),this.$a++),this.ea[Rv]=Ov},j.addAll=function(Rv){if(Rv instanceof gs){var Ov=Rv.pa();Rv=Rv.ca()}else Ov=tn(Rv),Rv=en(Rv);for(var Pv=0;Pv<Ov.length;Pv++)this.set(Ov[Pv],Rv[Pv])},j.forEach=function(Rv,Ov){for(var Pv=this.pa(),Cv=0;Cv<Pv.length;Cv++){var wv=Pv[Cv],Dv=this.get(wv);Rv.call(Ov,Dv,wv,this)}},j.clone=function(){return new gs(this)},j.Ge=function(Rv){ms(this);var Ov=0,Pv=this.$a,Cv=this,wv=new fs;return wv.next=function(){if(Pv!=Cv.$a)throw Error("The map has changed since the iterator was created");if(Ov>=Cv.A.length)throw hs;var Dv=Cv.A[Ov++];return Rv?Dv:Cv.ea[Dv]},wv};var ys=function(Rv,Ov){return Object.prototype.hasOwnProperty.call(Rv,Ov)},vs=function(Rv){if(Rv.ca&&"function"==typeof Rv.ca)return Rv.ca();if(et(Rv))return Rv.split("");if(dt(Rv)){for(var Ov=[],Pv=Rv.length,Cv=0;Cv<Pv;Cv++)Ov.push(Rv[Cv]);return Ov}return en(Rv)},_s=function(Rv){if(Rv.pa&&"function"==typeof Rv.pa)return Rv.pa();if(!Rv.ca||"function"!=typeof Rv.ca){if(dt(Rv)||et(Rv)){var Ov=[];Rv=Rv.length;for(var Pv=0;Pv<Rv;Pv++)Ov.push(Pv);return Ov}return tn(Rv)}},ks=function(Rv,Ov){if(Rv.forEach&&"function"==typeof Rv.forEach)Rv.forEach(Ov,void 0);else if(dt(Rv)||et(Rv))xt(Rv,Ov,void 0);else for(var Pv=_s(Rv),Cv=vs(Rv),wv=Cv.length,Dv=0;Dv<wv;Dv++)Ov.call(void 0,Cv[Dv],Pv&&Pv[Dv],Rv)},Ts=function(Rv,Ov,Pv){if(st(Rv))Pv&&(Rv=ut(Rv,Pv));else if(Rv&&"function"==typeof Rv.handleEvent)Rv=ut(Rv.handleEvent,Rv);else throw Error("Invalid listener argument");return 2147483647<+Ov?-1:_e.setTimeout(Rv,Ov||0)},Es=function(Rv){var Ov=null;return new hr(function(Pv,Cv){Ov=Ts(function(){Pv(void 0)},Rv),-1==Ov&&Cv(Error("Failed to schedule timer."))}).f(function(Pv){throw _e.clearTimeout(Ov),Pv})},Ss=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Is=function(Rv,Ov){if(Rv){Rv=Rv.split("&");for(var Pv=0;Pv<Rv.length;Pv++){var Cv=Rv[Pv].indexOf("="),wv=null;if(0<=Cv){var Dv=Rv[Pv].substring(0,Cv);wv=Rv[Pv].substring(Cv+1)}else Dv=Rv[Pv];Ov(Dv,wv?decodeURIComponent(wv.replace(/\+/g," ")):"")}}},As=function(Rv){ls.call(this),this.headers=new gs,this.Xc=Rv||null,this.wa=!1,this.Wc=this.c=null,this.Mb=this.ie=this.yc="",this.La=this.kd=this.uc=this.cd=!1,this.ub=0,this.Oc=null,this.Ic="",this.Sc=this.Af=this.Be=!1};bt(As,ls);var Ns=As.prototype,Rs=ss("goog.net.XhrIo");Ns.K=Rs;var Os=/^https?$/i,Ps=["POST","PUT"];As.prototype.send=function(Rv,Ov,Pv,Cv){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.yc+"; newUri="+Rv);Ov=Ov?Ov.toUpperCase():"GET",this.yc=Rv,this.Mb="",this.ie=Ov,this.cd=!1,this.wa=!0,this.c=this.Xc?this.Xc.lc():Fo.lc(),this.Wc=this.Xc?Lo(this.Xc):Lo(Fo),this.c.onreadystatechange=ut(this.le,this),this.Af&&"onprogress"in this.c&&(this.c.onprogress=ut(function(Dv){this.ke(Dv,!0)},this),this.c.upload&&(this.c.upload.onprogress=ut(this.ke,this)));try{bs(this.K,Ws(this,"Opening Xhr")),this.kd=!0,this.c.open(Ov,Rv+"",!0),this.kd=!1}catch(Dv){return bs(this.K,Ws(this,"Error opening Xhr: "+Dv.message)),void this.W(5,Dv)}Rv=Pv||"";var wv=this.headers.clone();Cv&&ks(Cv,function(Dv,Uv){wv.set(Uv,Dv)}),Cv=Wt(wv.pa()),Pv=_e.FormData&&Rv instanceof _e.FormData,!Vt(Ps,Ov)||Cv||Pv||wv.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),wv.forEach(function(Dv,Uv){this.c.setRequestHeader(Uv,Dv)},this),this.Ic&&(this.c.responseType=this.Ic),"withCredentials"in this.c&&this.c.withCredentials!==this.Be&&(this.c.withCredentials=this.Be);try{xs(this),0<this.ub&&(this.Sc=Cs(this.c),bs(this.K,Ws(this,"Will abort after "+this.ub+"ms if incomplete, xhr2 "+this.Sc)),this.Sc?(this.c.timeout=this.ub,this.c.ontimeout=ut(this.dc,this)):this.Oc=Ts(this.dc,this.ub,this)),bs(this.K,Ws(this,"Sending request")),this.uc=!0,this.c.send(Rv),this.uc=!1}catch(Dv){bs(this.K,Ws(this,"Send error: "+Dv.message)),this.W(5,Dv)}};var Cs=function(Rv){return pn&&En(9)&&nt(Rv.timeout)&&void 0!==Rv.ontimeout},ws=function(Rv){return"content-type"==Rv.toLowerCase()};As.prototype.dc=function(){"undefined"!=typeof $&&this.c&&(this.Mb="Timed out after "+this.ub+"ms, aborting",bs(this.K,Ws(this,this.Mb)),this.dispatchEvent("timeout"),this.abort(8))},As.prototype.W=function(Rv,Ov){this.wa=!1,this.c&&(this.La=!0,this.c.abort(),this.La=!1),this.Mb=Ov,Ds(this),Fs(this)};var Ds=function(Rv){Rv.cd||(Rv.cd=!0,Rv.dispatchEvent("complete"),Rv.dispatchEvent("error"))};As.prototype.abort=function(){this.c&&this.wa&&(bs(this.K,Ws(this,"Aborting")),this.wa=!1,this.La=!0,this.c.abort(),this.La=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fs(this))},As.prototype.fb=function(){this.c&&(this.wa&&(this.wa=!1,this.La=!0,this.c.abort(),this.La=!1),Fs(this,!0)),As.Hd.fb.call(this)},As.prototype.le=function(){this.isDisposed()||(this.kd||this.uc||this.La?Us(this):this.vf())},As.prototype.vf=function(){Us(this)};var Us=function(Rv){if(Rv.wa&&"undefined"!=typeof $)if(Rv.Wc[1]&&4==Ms(Rv)&&2==js(Rv))bs(Rv.K,Ws(Rv,"Local request error detected and ignored"));else if(Rv.uc&&4==Ms(Rv))Ts(Rv.le,0,Rv);else if(Rv.dispatchEvent("readystatechange"),4==Ms(Rv)){bs(Rv.K,Ws(Rv,"Request complete")),Rv.wa=!1;try{var Ov=js(Rv);a:switch(Ov){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Pv=!0;break a;default:Pv=!1;}var Cv;if(!(Cv=Pv)){var wv;if(wv=0===Ov){var Dv=(Rv.yc+"").match(Ss)[1]||null;if(!Dv&&_e.self&&_e.self.location)var Uv=_e.self.location.protocol,Dv=Uv.substr(0,Uv.length-1);wv=!Os.test(Dv?Dv.toLowerCase():"")}Cv=wv}if(Cv)Rv.dispatchEvent("complete"),Rv.dispatchEvent("success");else{try{var Lv=2<Ms(Rv)?Rv.c.statusText:""}catch(Fv){bs(Rv.K,"Can not get status: "+Fv.message),Lv=""}Rv.Mb=Lv+" ["+js(Rv)+"]",Ds(Rv)}}finally{Fs(Rv)}}};As.prototype.ke=function(Rv,Ov){Ct("progress"===Rv.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Ls(Rv,"progress")),this.dispatchEvent(Ls(Rv,Ov?"downloadprogress":"uploadprogress"))};var Ls=function(Rv,Ov){return{type:Ov,lengthComputable:Rv.lengthComputable,loaded:Rv.loaded,total:Rv.total}},Fs=function(Rv,Ov){if(Rv.c){xs(Rv);var Pv=Rv.c,Cv=Rv.Wc[0]?at:null;Rv.c=null,Rv.Wc=null,Ov||Rv.dispatchEvent("ready");try{Pv.onreadystatechange=Cv}catch(wv){(Rv=Rv.K)&&Rv.log(ns,"Problem encountered resetting onreadystatechange: "+wv.message,void 0)}}},xs=function(Rv){Rv.c&&Rv.Sc&&(Rv.c.ontimeout=null),nt(Rv.Oc)&&(_e.clearTimeout(Rv.Oc),Rv.Oc=null)},Ms=function(Rv){return Rv.c?Rv.c.readyState:0},js=function(Rv){try{return 2<Ms(Rv)?Rv.c.status:-1}catch(Ov){return-1}},Bs=function(Rv){try{return Rv.c?Rv.c.responseText:""}catch(Ov){return bs(Rv.K,"Can not get responseText: "+Ov.message),""}};As.prototype.getResponse=function(){try{if(!this.c)return null;if("response"in this.c)return this.c.response;switch(this.Ic){case"":case"text":return this.c.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.c)return this.c.mozResponseArrayBuffer;}var Rv=this.K;return Rv&&Rv.log(ns,"Response type "+this.Ic+" is not supported on this browser",void 0),null}catch(Ov){return bs(this.K,"Can not get response: "+Ov.message),null}};var Ws=function(Rv,Ov){return Ov+" ["+Rv.ie+" "+Rv.yc+" "+js(Rv)+"]"},Vs=function(Rv,Ov){if(this.ia=this.Ya=this.ka="",this.nb=null,this.Ka=this.za="",this.Y=this.lf=!1,Rv instanceof Vs){this.Y=void 0===Ov?Rv.Y:Ov,Ks(this,Rv.ka);var Pv=Rv.Ya;Js(this),this.Ya=Pv,qs(this,Rv.ia),Gs(this,Rv.nb),Hs(this,Rv.za),Xs(this,Rv.aa.clone()),Rv=Rv.Ka,Js(this),this.Ka=Rv}else Rv&&(Pv=(Rv+"").match(Ss))?(this.Y=!!Ov,Ks(this,Pv[1]||"",!0),Rv=Pv[2]||"",Js(this),this.Ya=Zs(Rv),qs(this,Pv[3]||"",!0),Gs(this,Pv[4]),Hs(this,Pv[5]||"",!0),Xs(this,Pv[6]||"",!0),Rv=Pv[7]||"",Js(this),this.Ka=Zs(Rv)):(this.Y=!!Ov,this.aa=new dl(null,0,this.Y))};Vs.prototype.toString=function(){var Rv=[],Ov=this.ka;Ov&&Rv.push(el(Ov,nl,!0),":");var Pv=this.ia;return(Pv||"file"==Ov)&&(Rv.push("//"),(Ov=this.Ya)&&Rv.push(el(Ov,nl,!0),"@"),Rv.push(encodeURIComponent(Pv+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Pv=this.nb,null!=Pv&&Rv.push(":",Pv+"")),(Pv=this.za)&&(this.ia&&"/"!=Pv.charAt(0)&&Rv.push("/"),Rv.push(el(Pv,"/"==Pv.charAt(0)?ol:al,!0))),(Pv=this.aa.toString())&&Rv.push("?",Pv),(Pv=this.Ka)&&Rv.push("#",el(Pv,il)),Rv.join("")},Vs.prototype.resolve=function(Rv){var Ov=this.clone(),Pv=!!Rv.ka;if(Pv?Ks(Ov,Rv.ka):Pv=!!Rv.Ya,Pv){var Cv=Rv.Ya;Js(Ov),Ov.Ya=Cv}else Pv=!!Rv.ia;if(Pv?qs(Ov,Rv.ia):Pv=null!=Rv.nb,Cv=Rv.za,Pv)Gs(Ov,Rv.nb);else if(Pv=!!Rv.za){if("/"!=Cv.charAt(0))if(this.ia&&!this.za)Cv="/"+Cv;else{var wv=Ov.za.lastIndexOf("/");-1!=wv&&(Cv=Ov.za.substr(0,wv+1)+Cv)}if(wv=Cv,".."==wv||"."==wv)Cv="";else if(Nt(wv,"./")||Nt(wv,"/.")){for(var Cv=0==wv.lastIndexOf("/",0),wv=wv.split("/"),Dv=[],Uv=0,Lv;Uv<wv.length;)Lv=wv[Uv++],"."==Lv?Cv&&Uv==wv.length&&Dv.push(""):".."==Lv?((1<Dv.length||1==Dv.length&&""!=Dv[0])&&Dv.pop(),Cv&&Uv==wv.length&&Dv.push("")):(Dv.push(Lv),Cv=!0);Cv=Dv.join("/")}else Cv=wv}return Pv?Hs(Ov,Cv):Pv=""!==Rv.aa.toString(),Pv?Xs(Ov,Rv.aa.clone()):Pv=!!Rv.Ka,Pv&&(Rv=Rv.Ka,Js(Ov),Ov.Ka=Rv),Ov},Vs.prototype.clone=function(){return new Vs(this)};var Ks=function(Rv,Ov,Pv){Js(Rv),Rv.ka=Pv?Zs(Ov,!0):Ov,Rv.ka&&(Rv.ka=Rv.ka.replace(/:$/,""))},qs=function(Rv,Ov,Pv){Js(Rv),Rv.ia=Pv?Zs(Ov,!0):Ov},Gs=function(Rv,Ov){if(Js(Rv),Ov){if(Ov=+Ov,isNaN(Ov)||0>Ov)throw Error("Bad port number "+Ov);Rv.nb=Ov}else Rv.nb=null},Hs=function(Rv,Ov,Pv){Js(Rv),Rv.za=Pv?Zs(Ov,!0):Ov},Xs=function(Rv,Ov,Pv){Js(Rv),Ov instanceof dl?(Rv.aa=Ov,Rv.aa.Cd(Rv.Y)):(Pv||(Ov=el(Ov,rl)),Rv.aa=new dl(Ov,0,Rv.Y))},zs=function(Rv,Ov,Pv){Js(Rv),Rv.aa.set(Ov,Pv)},Qs=function(Rv,Ov){return Rv.aa.get(Ov)};Vs.prototype.removeParameter=function(Rv){return Js(this),this.aa.remove(Rv),this};var Js=function(Rv){if(Rv.lf)throw Error("Tried to modify a read-only Uri")};Vs.prototype.Cd=function(Rv){return this.Y=Rv,this.aa&&this.aa.Cd(Rv),this};var Ys=function(Rv){return Rv instanceof Vs?Rv.clone():new Vs(Rv,void 0)},$s=function(Rv,Ov){var Pv=new Vs(null,void 0);return Ks(Pv,"https"),Rv&&qs(Pv,Rv),Ov&&Hs(Pv,Ov),Pv},Zs=function(Rv,Ov){return Rv?Ov?decodeURI(Rv.replace(/%25/g,"%2525")):decodeURIComponent(Rv):""},el=function(Rv,Ov,Pv){return et(Rv)?(Rv=encodeURI(Rv).replace(Ov,tl),Pv&&(Rv=Rv.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Rv):null},tl=function(Rv){return Rv=Rv.charCodeAt(0),"%"+(15&Rv>>4).toString(16)+(15&Rv).toString(16)},nl=/[#\/\?@]/g,al=/[\#\?:]/g,ol=/[\#\?]/g,rl=/[\#\?@]/g,il=/#/g,dl=function(Rv,Ov,Pv){this.o=this.j=null,this.P=Rv||null,this.Y=!!Pv},sl=function(Rv){Rv.j||(Rv.j=new gs,Rv.o=0,Rv.P&&Is(Rv.P,function(Ov,Pv){Rv.add(decodeURIComponent(Ov.replace(/\+/g," ")),Pv)}))},ll=function(Rv){var Ov=_s(Rv);if("undefined"==typeof Ov)throw Error("Keys are undefined");var Pv=new dl(null,0,void 0);Rv=vs(Rv);for(var Cv=0;Cv<Ov.length;Cv++){var wv=Ov[Cv],Dv=Rv[Cv];it(Dv)?cl(Pv,wv,Dv):Pv.add(wv,Dv)}return Pv};j=dl.prototype,j.add=function(Rv,Ov){sl(this),this.P=null,Rv=this.X(Rv);var Pv=this.j.get(Rv);return Pv||this.j.set(Rv,Pv=[]),Pv.push(Ov),this.o=Dt(this.o)+1,this},j.remove=function(Rv){return sl(this),Rv=this.X(Rv),!!this.j.Ab(Rv)&&(this.P=null,this.o=Dt(this.o)-this.j.get(Rv).length,this.j.remove(Rv))},j.clear=function(){this.j=this.P=null,this.o=0},j.Ab=function(Rv){return sl(this),Rv=this.X(Rv),this.j.Ab(Rv)},j.forEach=function(Rv,Ov){sl(this),this.j.forEach(function(Pv,Cv){xt(Pv,function(wv){Rv.call(Ov,wv,Cv,this)},this)},this)},j.pa=function(){sl(this);for(var Rv=this.j.ca(),Ov=this.j.pa(),Pv=[],Cv=0;Cv<Ov.length;Cv++)for(var wv=Rv[Cv],Dv=0;Dv<wv.length;Dv++)Pv.push(Ov[Cv]);return Pv},j.ca=function(Rv){sl(this);var Ov=[];if(et(Rv))this.Ab(Rv)&&(Ov=Ht(Ov,this.j.get(this.X(Rv))));else{Rv=this.j.ca();for(var Pv=0;Pv<Rv.length;Pv++)Ov=Ht(Ov,Rv[Pv])}return Ov},j.set=function(Rv,Ov){return sl(this),this.P=null,Rv=this.X(Rv),this.Ab(Rv)&&(this.o=Dt(this.o)-this.j.get(Rv).length),this.j.set(Rv,[Ov]),this.o=Dt(this.o)+1,this},j.get=function(Rv,Ov){return Rv=Rv?this.ca(Rv):[],0<Rv.length?Rv[0]+"":Ov};var cl=function(Rv,Ov,Pv){Rv.remove(Ov),0<Pv.length&&(Rv.P=null,Rv.j.set(Rv.X(Ov),Xt(Pv)),Rv.o=Dt(Rv.o)+Pv.length)};dl.prototype.toString=function(){if(this.P)return this.P;if(!this.j)return"";for(var Rv=[],Ov=this.j.pa(),Pv=0;Pv<Ov.length;Pv++)for(var Cv=Ov[Pv],wv=encodeURIComponent(Cv+""),Cv=this.ca(Cv),Dv=0,Uv;Dv<Cv.length;Dv++)Uv=wv,""!==Cv[Dv]&&(Uv+="="+encodeURIComponent(Cv[Dv]+"")),Rv.push(Uv);return this.P=Rv.join("&")},dl.prototype.clone=function(){var Rv=new dl;return Rv.P=this.P,this.j&&(Rv.j=this.j.clone(),Rv.o=this.o),Rv},dl.prototype.X=function(Rv){return Rv+="",this.Y&&(Rv=Rv.toLowerCase()),Rv},dl.prototype.Cd=function(Rv){Rv&&!this.Y&&(sl(this),this.P=null,this.j.forEach(function(Ov,Pv){var Cv=Pv.toLowerCase();Pv!=Cv&&(this.remove(Pv),cl(this,Cv,Ov))},this)),this.Y=Rv};var pl=function(){var Rv=Ol();return pn&&!!Sn&&11==Sn||/Edge\/\d+/.test(Rv)},ul=function(){return _e.window&&_e.window.location.href||""},hl=function(Rv,Ov){Ov=Ov||_e.window;var Pv="about:blank";Rv&&(Pv=Eo(Io(Rv))),Ov.location.href=Pv},fl=function(Rv,Ov){var Pv=[],Cv;for(Cv in Rv)Cv in Ov?typeof Rv[Cv]==typeof Ov[Cv]?it(Rv[Cv])?an(Rv[Cv],Ov[Cv])||Pv.push(Cv):"object"==typeof Rv[Cv]&&null!=Rv[Cv]&&null!=Ov[Cv]?0<fl(Rv[Cv],Ov[Cv]).length&&Pv.push(Cv):Rv[Cv]!==Ov[Cv]&&Pv.push(Cv):Pv.push(Cv):Pv.push(Cv);for(Cv in Ov)Cv in Rv||Pv.push(Cv);return Pv},bl=function(){var Rv=Ol();return Rv="Chrome"==Nl(Rv)?(Rv=Rv.match(/\sChrome\/(\d+)/i))&&2==Rv.length?parseInt(Rv[1],10):null:null,Rv&&30>Rv?!1:!pn||!Sn||9<Sn},gl=function(Rv){return Rv=(Rv||Ol()).toLowerCase(),Rv.match(/android/)||Rv.match(/webos/)||Rv.match(/iphone|ipad|ipod/)||Rv.match(/blackberry/)||Rv.match(/windows phone/)||Rv.match(/iemobile/)},ml=function(Rv){Rv=Rv||_e.window;try{Rv.close()}catch(Ov){}},yl=function(Rv,Ov,Pv){var Cv=Math.floor(1E9*Math.random()).toString();Ov=Ov||500,Pv=Pv||600;var wv=(window.screen.availHeight-Pv)/2,Dv=(window.screen.availWidth-Ov)/2;for(Uv in Ov={width:Ov,height:Pv,top:0<wv?wv:0,left:0<Dv?Dv:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},Pv=Ol().toLowerCase(),Cv&&(Ov.target=Cv,Nt(Pv,"crios/")&&(Ov.target="_blank")),"Firefox"==Nl(Ol())&&(Rv=Rv||"http://localhost",Ov.scrollbars=!0),Pv=Rv||"about:blank",(Cv=Ov)||(Cv={}),Rv=window,Ov=Pv instanceof To?Pv:Io("undefined"==typeof Pv.href?Pv+"":Pv.href),Pv=Cv.target||Pv.target,wv=[],Cv)switch(Uv){case"width":case"height":case"top":case"left":wv.push(Uv+"="+Cv[Uv]);break;case"target":case"noreferrer":break;default:wv.push(Uv+"="+(Cv[Uv]?1:0));}var Uv=wv.join(",");if(($t("iPhone")&&!$t("iPod")&&!$t("iPad")||$t("iPad")||$t("iPod"))&&Rv.navigator&&Rv.navigator.standalone&&Pv&&"_self"!=Pv?(Uv=Rv.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(wv=Uv&&(Uv instanceof HTMLAnchorElement||!(Uv instanceof Location||Uv instanceof Element)),Dv=lt(Uv)?Uv.constructor.displayName||Uv.constructor.name||Object.prototype.toString.call(Uv):void 0===Uv?"undefined":null===Uv?"null":typeof Uv,Ct(wv,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",Dv)),Ov=Ov instanceof To?Ov:Io(Ov),Uv.href=Eo(Ov),Uv.setAttribute("target",Pv),Cv.noreferrer&&Uv.setAttribute("rel","noreferrer"),Cv=document.createEvent("MouseEvent"),Cv.initMouseEvent("click",!0,!0,Rv,1),Uv.dispatchEvent(Cv),Uv={}):Cv.noreferrer?(Uv=Rv.open("",Pv,Uv),Cv=Eo(Ov),Uv&&((un||pn)&&Nt(Cv,";")&&(Cv="'"+Cv.replace(/'/g,"%27")+"'"),Uv.opener=null,Rv=vo("b/12014412, meta tag with sanitized URL"),Cv="<META HTTP-EQUIV=\"refresh\" content=\"0; url="+vt(Cv)+"\">",Ut(mo(Rv),"must provide justification"),Ct(!/^[\s\xa0]*$/.test(mo(Rv)),"must provide non-empty justification"),Uv.document.write(ar(new nr().gf(Cv))),Uv.document.close())):Uv=Rv.open(Eo(Ov),Pv,Uv),Uv)try{Uv.focus()}catch(Lv){}return Uv},vl=function(Rv){return new hr(function(Ov){var Pv=function(){Es(2E3).then(function(){return!Rv||Rv.closed?void Ov():Pv()})};return Pv()})},_l=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kl=function(){var Rv=null;return new hr(function(Ov){"complete"==_e.document.readyState?Ov():(Rv=function(){Ov()},oo(window,"load",Rv))}).f(function(Ov){throw ro(window,"load",Rv),Ov})},Tl=function(){return El(void 0)?kl().then(function(){return new hr(function(Rv,Ov){var Pv=_e.document,Cv=setTimeout(function(){Ov(Error("Cordova framework is not ready."))},1E3);Pv.addEventListener("deviceready",function(){clearTimeout(Cv),Rv()},!1)})}):yr(Error("Cordova must run in an Android or iOS file scheme."))},El=function(Rv){return Rv=Rv||Ol(),"file:"===Dl()&&Rv.toLowerCase().match(/iphone|ipad|ipod|android/)},Sl=function(){var Rv=_e.window;try{return Rv&&Rv!=Rv.top}catch(Ov){return!1}},Il=function(){return firebase.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":firebase.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Al=function(){var Rv=Il();return"ReactNative"===Rv||"Node"===Rv},Nl=function(Rv){var Ov=Rv.toLowerCase();if(Nt(Ov,"opera/")||Nt(Ov,"opr/")||Nt(Ov,"opios/"))return"Opera";if(Nt(Ov,"iemobile"))return"IEMobile";if(Nt(Ov,"msie")||Nt(Ov,"trident/"))return"IE";if(Nt(Ov,"edge/"))return"Edge";if(Nt(Ov,"firefox/"))return"Firefox";if(Nt(Ov,"silk/"))return"Silk";if(Nt(Ov,"blackberry"))return"Blackberry";if(Nt(Ov,"webos"))return"Webos";if(!(!Nt(Ov,"safari/")||Nt(Ov,"chrome/")||Nt(Ov,"crios/")||Nt(Ov,"android")))return"Safari";if(!Nt(Ov,"chrome/")&&!Nt(Ov,"crios/")||Nt(Ov,"edge/")){if(Nt(Ov,"android"))return"Android";if((Rv=Rv.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==Rv.length)return Rv[1]}else return"Chrome";return"Other"},Rl=function(Rv){var Ov=Il();return("Browser"===Ov?Nl(Ol()):Ov)+"/JsCore/"+Rv},Ol=function(){return _e.navigator&&_e.navigator.userAgent||""},Pl=function(Rv,Ov){Rv=Rv.split("."),Ov=Ov||_e;for(var Pv=0;Pv<Rv.length&&"object"==typeof Ov&&null!=Ov;Pv++)Ov=Ov[Rv[Pv]];return Pv!=Rv.length&&(Ov=void 0),Ov},Cl=function(){var Rv;if(Rv=(wl()||"chrome-extension:"===Dl()||El())&&!Al())a:{try{var Ov=_e.localStorage,Pv=Ml();if(Ov){Ov.setItem(Pv,"1"),Ov.removeItem(Pv),Rv=!pl()||!!_e.indexedDB;break a}}catch(Cv){}Rv=!1}return Rv},wl=function(){return"http:"===Dl()||"https:"===Dl()},Dl=function(){return _e.location&&_e.location.protocol||null},Ul=function(Rv){return Rv=Rv||Ol(),gl(Rv)||"Firefox"==Nl(Rv)?!1:!0},Ll=function(Rv){return"undefined"===typeof Rv?null:Ro(Rv)},Fl=function(Rv){var Ov={},Pv;for(Pv in Rv)Rv.hasOwnProperty(Pv)&&null!==Rv[Pv]&&void 0!==Rv[Pv]&&(Ov[Pv]=Rv[Pv]);return Ov},xl=function(Rv){if(null!==Rv)return JSON.parse(Rv)},Ml=function(Rv){return Rv?Rv:""+Math.floor(1E9*Math.random()).toString()},jl=function(Rv){return Rv=Rv||Ol(),"Safari"==Nl(Rv)||Rv.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0},Bl=function(){var Rv=_e.___jsl;if(Rv&&Rv.H)for(var Ov in Rv.H)if(Rv.H[Ov].r=Rv.H[Ov].r||[],Rv.H[Ov].L=Rv.H[Ov].L||[],Rv.H[Ov].r=Rv.H[Ov].L.concat(),Rv.CP)for(var Pv=0;Pv<Rv.CP.length;Pv++)Rv.CP[Pv]=null},Wl=function(){return _e.navigator&&"boolean"===typeof _e.navigator.onLine?_e.navigator.onLine:!0},Vl=function(Rv,Ov,Pv,Cv){if(Rv>Ov)throw Error("Short delay should be less than long delay!");this.Nf=Rv,this.pf=Ov,Rv=Pv||Ol(),Cv=Cv||Il(),this.kf=gl(Rv)||"ReactNative"===Cv};Vl.prototype.get=function(){return this.kf?this.pf:this.Nf};var Kl=function(){var Rv=_e.document;return Rv&&"undefined"!==typeof Rv.visibilityState?"visible"==Rv.visibilityState:!0},ql=function(){var Rv=_e.document,Ov=null;return Kl()||!Rv?mr():new hr(function(Pv){Ov=function(){Kl()&&(Rv.removeEventListener("visibilitychange",Ov,!1),Pv())},Rv.addEventListener("visibilitychange",Ov,!1)}).f(function(Pv){throw Rv.removeEventListener("visibilitychange",Ov,!1),Pv})},Gl={},Hl;try{var Xl={};Object.defineProperty(Xl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xl,"abcd",{configurable:!0,enumerable:!0,value:2}),Hl=2==Xl.abcd}catch(Rv){Hl=!1}var zl=function(Rv,Ov,Pv){Hl?Object.defineProperty(Rv,Ov,{configurable:!0,enumerable:!0,value:Pv}):Rv[Ov]=Pv},Ql=function(Rv,Ov){if(Ov)for(var Pv in Ov)Ov.hasOwnProperty(Pv)&&zl(Rv,Pv,Ov[Pv])},Jl=function(Rv){var Ov={};return Ql(Ov,Rv),Ov},Yl=function(Rv){var Ov={},Pv;for(Pv in Rv)Rv.hasOwnProperty(Pv)&&(Ov[Pv]=Rv[Pv]);return Ov},$l=function(Rv,Ov){if(!Ov||!Ov.length)return!0;if(!Rv)return!1;for(var Pv=0,Cv;Pv<Ov.length;Pv++)if(Cv=Rv[Ov[Pv]],void 0===Cv||null===Cv||""===Cv)return!1;return!0},Zl=function(Rv){var Ov=Rv;if("object"==typeof Rv&&null!=Rv){var Ov="length"in Rv?[]:{},Pv;for(Pv in Rv)zl(Ov,Pv,Zl(Rv[Pv]))}return Ov},_c="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ep=["client_id","response_type","scope","redirect_uri","state"],tp={Xf:{Rb:500,Qb:600,providerId:"facebook.com",zd:ep},Yf:{Rb:500,Qb:620,providerId:"github.com",zd:ep},Zf:{Rb:515,Qb:680,providerId:"google.com",zd:ep},$f:{Rb:485,Qb:705,providerId:"twitter.com",zd:_c}},np=function(Rv){for(var Ov in tp)if(tp[Ov].providerId==Rv)return tp[Ov];return null},ap=function(Rv,Ov){this.code="auth/"+Rv,this.message=Ov||rp[Rv]||""};bt(ap,Error),ap.prototype.F=function(){return{code:this.code,message:this.message}},ap.prototype.toJSON=function(){return this.F()};var op=function(Rv){var Ov=Rv&&Rv.code;return Ov?new ap(Ov.substring(5),Rv.message):null},rp={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":"This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.","popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The SMS quota for this project has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ip=function(Rv,Ov,Pv,Cv,wv){if(this.ha=Rv,this.R=Ov||null,this.vb=Pv||null,this.Bd=Cv||null,this.W=wv||null,this.vb||this.W){if(this.vb&&this.W)throw new ap("invalid-auth-event");if(this.vb&&!this.Bd)throw new ap("invalid-auth-event")}else throw new ap("invalid-auth-event")};ip.prototype.oc=function(){return this.Bd},ip.prototype.getError=function(){return this.W},ip.prototype.F=function(){return{type:this.ha,eventId:this.R,urlResponse:this.vb,sessionId:this.Bd,error:this.W&&this.W.F()}};var dp=function(Rv){return Rv=Rv||{},Rv.type?new ip(Rv.type,Rv.eventId,Rv.urlResponse,Rv.sessionId,Rv.error&&op(Rv.error)):null},sp=function(Rv){var Ov="unauthorized-domain",Pv,Cv=Ys(Rv);Rv=Cv.ia,Cv=Cv.ka,"chrome-extension"==Cv?Pv=mt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",Rv):"http"==Cv||"https"==Cv?Pv=mt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",Rv):Ov="operation-not-supported-in-this-environment",ap.call(this,Ov,Pv)};bt(sp,ap);var lp=function(Rv){this.nf=Rv.sub,ft(),this.mc=Rv.email||null},cp=function(Rv,Ov){return Rv.then(function(Pv){if(Pv.idToken){a:{var Cv=Pv.idToken.split(".");if(3==Cv.length){for(var Cv=Cv[1],wv=(4-Cv.length%4)%4,Dv=0;Dv<wv;Dv++)Cv+=".";try{var Uv=JSON.parse(Rn(Cv));if(Uv.sub&&Uv.iss&&Uv.aud&&Uv.exp){var Lv=new lp(Uv);break a}}catch(Fv){}}Lv=null}if(!Lv||Ov!=Lv.nf)throw new ap("user-mismatch");return Pv}throw new ap("user-mismatch")}).f(function(Pv){throw Pv&&Pv.code&&"auth/user-not-found"==Pv.code?new ap("user-mismatch"):Pv})},pp=function(Rv,Ov){if(Ov.idToken||Ov.accessToken)Ov.idToken&&zl(this,"idToken",Ov.idToken),Ov.accessToken&&zl(this,"accessToken",Ov.accessToken);else if(Ov.oauthToken&&Ov.oauthTokenSecret)zl(this,"accessToken",Ov.oauthToken),zl(this,"secret",Ov.oauthTokenSecret);else throw new ap("internal-error","failed to construct a credential");zl(this,"providerId",Rv)};pp.prototype.Eb=function(Rv){return tu(Rv,up(this))},pp.prototype.zc=function(Rv,Ov){var Pv=up(this);return Pv.idToken=Ov,nu(Rv,Pv)},pp.prototype.od=function(Rv,Ov){var Pv=up(this);return cp(au(Rv,Pv),Ov)};var up=function(Rv){var Ov={};return Rv.idToken&&(Ov.id_token=Rv.idToken),Rv.accessToken&&(Ov.access_token=Rv.accessToken),Rv.secret&&(Ov.oauth_token_secret=Rv.secret),Ov.providerId=Rv.providerId,{postBody:ll(Ov).toString(),requestUri:"http://localhost"}};pp.prototype.F=function(){var Rv={providerId:this.providerId};return this.idToken&&(Rv.oauthIdToken=this.idToken),this.accessToken&&(Rv.oauthAccessToken=this.accessToken),this.secret&&(Rv.oauthTokenSecret=this.secret),Rv};var hp=function(Rv,Ov){this.Df=Ov||[],Ql(this,{providerId:Rv,isOAuthProvider:!0}),this.Sd={}};hp.prototype.setCustomParameters=function(Rv){return this.Sd=on(Rv),this};var fp=function(Rv){hp.call(this,Rv,ep),this.Ad=[]};bt(fp,hp),fp.prototype.addScope=function(Rv){return Vt(this.Ad,Rv)||this.Ad.push(Rv),this},fp.prototype.$d=function(){return Xt(this.Ad)},fp.prototype.credential=function(Rv,Ov){if(!Rv&&!Ov)throw new ap("argument-error","credential failed: must provide the ID token and/or the access token.");return new pp(this.providerId,{idToken:Rv||null,accessToken:Ov||null})};var bp=function(){fp.call(this,"facebook.com")};bt(bp,fp),zl(bp,"PROVIDER_ID","facebook.com");var gp=function(Rv){if(!Rv)throw new ap("argument-error","credential failed: expected 1 argument (the OAuth access token).");var Ov=Rv;return lt(Rv)&&(Ov=Rv.accessToken),new bp().credential(null,Ov)},mp=function(){fp.call(this,"github.com")};bt(mp,fp),zl(mp,"PROVIDER_ID","github.com");var yp=function(Rv){if(!Rv)throw new ap("argument-error","credential failed: expected 1 argument (the OAuth access token).");var Ov=Rv;return lt(Rv)&&(Ov=Rv.accessToken),new mp().credential(null,Ov)},vp=function(){fp.call(this,"google.com"),this.addScope("profile")};bt(vp,fp),zl(vp,"PROVIDER_ID","google.com");var _p=function(Rv,Ov){var Pv=Rv;return lt(Rv)&&(Pv=Rv.idToken,Ov=Rv.accessToken),new vp().credential(Pv,Ov)},kp=function(){hp.call(this,"twitter.com",_c)};bt(kp,hp),zl(kp,"PROVIDER_ID","twitter.com");var Tp=function(Rv,Ov){var Pv=Rv;if(lt(Pv)||(Pv={oauthToken:Rv,oauthTokenSecret:Ov}),!Pv.oauthToken||!Pv.oauthTokenSecret)throw new ap("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new pp("twitter.com",Pv)},Ep=function(Rv,Ov){this.mc=Rv,this.sd=Ov,zl(this,"providerId","password")};Ep.prototype.Eb=function(Rv){return Ou(Rv,Iu,{email:this.mc,password:this.sd})},Ep.prototype.zc=function(Rv,Ov){return Ou(Rv,vu,{idToken:Ov,email:this.mc,password:this.sd})},Ep.prototype.od=function(Rv,Ov){return cp(this.Eb(Rv),Ov)},Ep.prototype.F=function(){return{email:this.mc,password:this.sd}};var Sp=function(){Ql(this,{providerId:"password",isOAuthProvider:!1})};Ql(Sp,{PROVIDER_ID:"password"});var Ip=function(Rv){if(!(Rv.verificationId&&Rv.Tc||Rv.cc&&Rv.phoneNumber))throw new ap("internal-error");this.M=Rv,zl(this,"providerId","phone")};Ip.prototype.Eb=function(Rv){return Rv.verifyPhoneNumber(Ap(this))},Ip.prototype.zc=function(Rv,Ov){var Pv=Ap(this);return Pv.idToken=Ov,Ou(Rv,Nu,Pv)},Ip.prototype.od=function(Rv,Ov){var Pv=Ap(this);return Pv.operation="REAUTH",Rv=Ou(Rv,Ru,Pv),cp(Rv,Ov)},Ip.prototype.F=function(){var Rv={providerId:"phone"};return this.M.verificationId&&(Rv.verificationId=this.M.verificationId),this.M.Tc&&(Rv.verificationCode=this.M.Tc),this.M.cc&&(Rv.temporaryProof=this.M.cc),this.M.phoneNumber&&(Rv.phoneNumber=this.M.phoneNumber),Rv};var Ap=function(Rv){return Rv.M.cc&&Rv.M.phoneNumber?{temporaryProof:Rv.M.cc,phoneNumber:Rv.M.phoneNumber}:{sessionInfo:Rv.M.verificationId,code:Rv.M.Tc}},Np=function(Rv){try{this.Ke=Rv||firebase.auth()}catch(Ov){throw new ap("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ql(this,{providerId:"phone",isOAuthProvider:!1})};Np.prototype.verifyPhoneNumber=function(Rv,Ov){var Pv=this.Ke.g;return mr(Ov.verify()).then(function(Cv){if(!et(Cv))throw new ap("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(Ov.type){case"recaptcha":return Ou(Pv,mu,{phoneNumber:Rv,recaptchaToken:Cv});default:throw new ap("argument-error","Only firebase.auth.ApplicationVerifiers with type=\"recaptcha\" are currently supported.");}})};var Rp=function(Rv,Ov){if(!Rv)throw new ap("missing-verification-id");if(!Ov)throw new ap("missing-verification-code");return new Ip({verificationId:Rv,Tc:Ov})};Ql(Np,{PROVIDER_ID:"phone"});var Op=function(Rv){if(Rv.temporaryProof&&Rv.phoneNumber)return new Ip({cc:Rv.temporaryProof,phoneNumber:Rv.phoneNumber});var Ov=Rv&&Rv.providerId;if(!Ov||"password"===Ov)return null;var Pv=Rv&&Rv.oauthAccessToken,Cv=Rv&&Rv.oauthTokenSecret;Rv=Rv&&Rv.oauthIdToken;try{return"google.com"===Ov?_p(Rv,Pv):"facebook.com"===Ov?gp(Pv):"github.com"===Ov?yp(Pv):"twitter.com"===Ov?Tp(Pv,Cv):new fp(Ov).credential(Rv,Pv)}catch(wv){return null}},Pp=function(Rv){if(!Rv.isOAuthProvider)throw new ap("invalid-oauth-provider")},Cp=function(Rv,Ov,Pv){ap.call(this,Rv,Pv),Rv=Ov||{},Rv.email&&zl(this,"email",Rv.email),Rv.phoneNumber&&zl(this,"phoneNumber",Rv.phoneNumber),Rv.credential&&zl(this,"credential",Rv.credential)};bt(Cp,ap),Cp.prototype.F=function(){var Rv={code:this.code,message:this.message};this.email&&(Rv.email=this.email),this.phoneNumber&&(Rv.phoneNumber=this.phoneNumber);var Ov=this.credential&&this.credential.F();return Ov&&dn(Rv,Ov),Rv},Cp.prototype.toJSON=function(){return this.F()};var wp=function(Rv){if(Rv.code){var Ov=Rv.code||"";0==Ov.indexOf("auth/")&&(Ov=Ov.substring(5));var Pv={credential:Op(Rv)};if(Rv.email)Pv.email=Rv.email;else if(Rv.phoneNumber)Pv.phoneNumber=Rv.phoneNumber;else return new ap(Ov,Rv.message||void 0);return new Cp(Ov,Pv,Rv.message)}return null},Dp=function(Rv){this.Wf=Rv};bt(Dp,Uo),Dp.prototype.lc=function(){return new this.Wf},Dp.prototype.md=function(){return{}};var Up=function(Rv,Ov,Pv){var Cv="Node"==Il();if(Cv=_e.XMLHttpRequest||Cv&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest,!Cv)throw new ap("internal-error","The XMLHttpRequest compatibility library was not found.");this.m=Rv,Rv=Ov||{},this.Jf=Rv.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Kf=Rv.secureTokenTimeout||Fp,this.pe=on(Rv.secureTokenHeaders||xp),this.Te=Rv.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Ue=Rv.firebaseTimeout||Mp,this.Yd=on(Rv.firebaseHeaders||jp),Pv&&(this.Yd["X-Client-Version"]=Pv,this.pe["X-Client-Version"]=Pv),this.Le=new jo,this.Vf=new Dp(Cv)},Fp=new Vl(3E4,6E4),xp={"Content-Type":"application/x-www-form-urlencoded"},Mp=new Vl(3E4,6E4),jp={"Content-Type":"application/json"},Bp=function(Rv,Ov,Pv,Cv,wv,Dv,Uv){Wl()?(bl()?Rv=ut(Rv.Mf,Rv):(Lp||(Lp=new hr(function(Lv,Fv){Vp(Lv,Fv)})),Rv=ut(Rv.Lf,Rv)),Rv(Ov,Pv,Cv,wv,Dv,Uv)):Pv&&Pv(null)},Lp;Up.prototype.Mf=function(Rv,Ov,Pv,Cv,wv,Dv){var Uv="Node"==Il(),Lv=Al()?Uv?new As(this.Vf):new As:new As(this.Le);if(Dv){Lv.ub=Math.max(0,Dv);var Fv=setTimeout(function(){Lv.dispatchEvent("timeout")},Dv)}Lv.listen("complete",function(){Fv&&clearTimeout(Fv);var xv=null;try{xv=JSON.parse(Bs(this))||null}catch(Mv){xv=null}Ov&&Ov(xv)}),cs(Lv,"ready",function(){Fv&&clearTimeout(Fv),this.Ha||(this.Ha=!0,this.fb())}),cs(Lv,"timeout",function(){Fv&&clearTimeout(Fv),this.Ha||(this.Ha=!0,this.fb()),Ov&&Ov(null)}),Lv.send(Rv,Pv,Cv,wv)};var Wp="__fcb"+Math.floor(1E6*Math.random()).toString(),Vp=function(Rv,Ov){((window.gapi||{}).client||{}).request?Rv():(_e[Wp]=function(){((window.gapi||{}).client||{}).request?Rv():Ov(Error("CORS_UNSUPPORTED"))},Br(function(){Ov(Error("CORS_UNSUPPORTED"))}))};Up.prototype.Lf=function(Rv,Ov,Pv,Cv,wv){var Dv=this;Lp.then(function(){window.gapi.client.setApiKey(Dv.m);var Uv=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:Rv,method:Pv,body:Cv,headers:wv,authType:"none",callback:function(Lv){window.gapi.auth.setToken(Uv),Ov&&Ov(Lv)}})}).f(function(Uv){Ov&&Ov({error:{message:Uv&&Uv.message||"CORS_UNSUPPORTED"}})})};var Kp=function(Rv,Ov){return new hr(function(Pv,Cv){"refresh_token"==Ov.grant_type&&Ov.refresh_token||"authorization_code"==Ov.grant_type&&Ov.code?Bp(Rv,Rv.Jf+"?key="+encodeURIComponent(Rv.m),function(wv){wv?wv.error?Cv(Pu(wv)):wv.access_token&&wv.refresh_token?Pv(wv):Cv(new ap("internal-error")):Cv(new ap("network-request-failed"))},"POST",ll(Ov).toString(),Rv.pe,Rv.Kf.get()):Cv(new ap("internal-error"))})},qp=function(Rv,Ov,Pv,Cv,wv,Dv){var Uv=Ys(Rv.Te+Ov);zs(Uv,"key",Rv.m),Dv&&zs(Uv,"cb",ft().toString());var Lv="GET"==Pv;if(Lv)for(var Fv in Cv)Cv.hasOwnProperty(Fv)&&zs(Uv,Fv,Cv[Fv]);return new hr(function(xv,Mv){Bp(Rv,Uv.toString(),function(jv){jv?jv.error?Mv(Pu(jv,wv||{})):xv(jv):Mv(new ap("network-request-failed"))},Pv,Lv?void 0:Ro(Fl(Cv)),Rv.Yd,Rv.Ue.get())})},Gp=function(Rv){if(!bo.test(Rv.email))throw new ap("invalid-email")},Hp=function(Rv){"email"in Rv&&Gp(Rv)},Xp=function(Rv,Ov){return Ou(Rv,su,{identifier:Ov,continueUri:wl()?ul():"http://localhost"}).then(function(Pv){return Pv.allProviders||[]})},zp=function(Rv){return Ou(Rv,fu,{}).then(function(Ov){return Ov.authorizedDomains||[]})},Qp=function(Rv){if(!Rv.idToken)throw new ap("internal-error")},Jp=function(Rv){if(!(Rv.phoneNumber||Rv.temporaryProof)){if(!Rv.sessionInfo)throw new ap("missing-verification-id");if(!Rv.code)throw new ap("missing-verification-code")}else if(!Rv.phoneNumber||!Rv.temporaryProof)throw new ap("internal-error")};Up.prototype.signInAnonymously=function(){return Ou(this,_u,{})},Up.prototype.updateEmail=function(Rv,Ov){return Ou(this,yu,{idToken:Rv,email:Ov})},Up.prototype.updatePassword=function(Rv,Ov){return Ou(this,vu,{idToken:Rv,password:Ov})};var Yp={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Up.prototype.updateProfile=function(Rv,Ov){var Pv={idToken:Rv},Cv=[];return Zt(Yp,function(wv,Dv){var Uv=Ov[Dv];null===Uv?Cv.push(wv):Dv in Ov&&(Pv[Dv]=Uv)}),Cv.length&&(Pv.deleteAttribute=Cv),Ou(this,yu,Pv)},Up.prototype.sendPasswordResetEmail=function(Rv){return Ou(this,hu,{requestType:"PASSWORD_RESET",email:Rv})},Up.prototype.sendEmailVerification=function(Rv){return Ou(this,uu,{requestType:"VERIFY_EMAIL",idToken:Rv})},Up.prototype.verifyPhoneNumber=function(Rv){return Ou(this,Au,Rv)};var $p=function(Rv,Ov,Pv){return Ou(Rv,cu,{idToken:Ov,deleteProvider:Pv})},Zp=function(Rv){if(!Rv.requestUri||!Rv.sessionId&&!Rv.postBody)throw new ap("internal-error")},eu=function(Rv){var Ov=null;if(Rv.needConfirmation?(Rv.code="account-exists-with-different-credential",Ov=wp(Rv)):"FEDERATED_USER_ID_ALREADY_LINKED"==Rv.errorMessage?(Rv.code="credential-already-in-use",Ov=wp(Rv)):"EMAIL_EXISTS"==Rv.errorMessage&&(Rv.code="email-already-in-use",Ov=wp(Rv)),Ov)throw Ov;if(!Rv.idToken)throw new ap("internal-error")},tu=function(Rv,Ov){return Ov.returnIdpCredential=!0,Ou(Rv,ku,Ov)},nu=function(Rv,Ov){return Ov.returnIdpCredential=!0,Ou(Rv,Eu,Ov)},au=function(Rv,Ov){return Ov.returnIdpCredential=!0,Ov.autoCreate=!1,Ou(Rv,Tu,Ov)},ou=function(Rv){if(!Rv.oobCode)throw new ap("invalid-action-code")};Up.prototype.confirmPasswordReset=function(Rv,Ov){return Ou(this,gu,{oobCode:Rv,newPassword:Ov})},Up.prototype.checkActionCode=function(Rv){return Ou(this,iu,{oobCode:Rv})},Up.prototype.applyActionCode=function(Rv){return Ou(this,ru,{oobCode:Rv})};var ru={endpoint:"setAccountInfo",C:ou,Xa:"email"},iu={endpoint:"resetPassword",C:ou,U:function(Rv){if(!Rv.email||!Rv.requestType)throw new ap("internal-error")}},du={endpoint:"signupNewUser",C:function(Rv){if(Gp(Rv),!Rv.password)throw new ap("weak-password")},U:Qp,ta:!0},su={endpoint:"createAuthUri"},lu={endpoint:"deleteAccount",Va:["idToken"]},cu={endpoint:"setAccountInfo",Va:["idToken","deleteProvider"],C:function(Rv){if(!it(Rv.deleteProvider))throw new ap("internal-error")}},pu={endpoint:"getAccountInfo"},uu={endpoint:"getOobConfirmationCode",Va:["idToken","requestType"],C:function(Rv){if("VERIFY_EMAIL"!=Rv.requestType)throw new ap("internal-error")},Xa:"email"},hu={endpoint:"getOobConfirmationCode",Va:["requestType"],C:function(Rv){if("PASSWORD_RESET"!=Rv.requestType)throw new ap("internal-error");Gp(Rv)},Xa:"email"},fu={Ld:!0,endpoint:"getProjectConfig",de:"GET"},bu={Ld:!0,endpoint:"getRecaptchaParam",de:"GET",U:function(Rv){if(!Rv.recaptchaSiteKey)throw new ap("internal-error")}},gu={endpoint:"resetPassword",C:ou,Xa:"email"},mu={endpoint:"sendVerificationCode",Va:["phoneNumber","recaptchaToken"],Xa:"sessionInfo"},yu={endpoint:"setAccountInfo",Va:["idToken"],C:Hp,ta:!0},vu={endpoint:"setAccountInfo",Va:["idToken"],C:function(Rv){if(Hp(Rv),!Rv.password)throw new ap("weak-password")},U:Qp,ta:!0},_u={endpoint:"signupNewUser",U:Qp,ta:!0},ku={endpoint:"verifyAssertion",C:Zp,U:eu,ta:!0},Tu={endpoint:"verifyAssertion",C:Zp,U:function(Rv){if(Rv.errorMessage&&"USER_NOT_FOUND"==Rv.errorMessage)throw new ap("user-not-found");if(!Rv.idToken)throw new ap("internal-error")},ta:!0},Eu={endpoint:"verifyAssertion",C:function(Rv){if(Zp(Rv),!Rv.idToken)throw new ap("internal-error")},U:eu,ta:!0},Su={endpoint:"verifyCustomToken",C:function(Rv){if(!Rv.token)throw new ap("invalid-custom-token")},U:Qp,ta:!0},Iu={endpoint:"verifyPassword",C:function(Rv){if(Gp(Rv),!Rv.password)throw new ap("wrong-password")},U:Qp,ta:!0},Au={endpoint:"verifyPhoneNumber",C:Jp,U:Qp},Nu={endpoint:"verifyPhoneNumber",C:function(Rv){if(!Rv.idToken)throw new ap("internal-error");Jp(Rv)},U:function(Rv){if(Rv.temporaryProof)throw Rv.code="credential-already-in-use",wp(Rv);Qp(Rv)}},Ru={Oe:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Jp,U:Qp},Ou=function(Rv,Ov,Pv){if(!$l(Pv,Ov.Va))return yr(new ap("internal-error"));var Cv=Ov.de||"POST",wv;return mr(Pv).then(Ov.C).then(function(){return Ov.ta&&(Pv.returnSecureToken=!0),qp(Rv,Ov.endpoint,Cv,Pv,Ov.Oe,Ov.Ld||!1)}).then(function(Dv){return wv=Dv}).then(Ov.U).then(function(){if(!Ov.Xa)return wv;if(!(Ov.Xa in wv))throw new ap("internal-error");return wv[Ov.Xa]})},Pu=function(Rv,Ov){var Pv=(Rv.error&&Rv.error.errors&&Rv.error.errors[0]||{}).reason||"",Cv={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(Pv=Cv[Pv]?new ap(Cv[Pv]):null)return Pv;for(var wv in Pv=Rv.error&&Rv.error.message||"",Cv={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"},dn(Cv,Ov||{}),Ov=(Ov=Pv.match(/^[^\s]+\s*:\s*(.*)$/))&&1<Ov.length?Ov[1]:void 0,Cv)if(0===Pv.indexOf(wv))return new ap(Cv[wv],Ov);return!Ov&&Rv&&(Ov=Ll(Rv)),new ap("internal-error",Ov)},Cu=function(Rv){this.$=Rv};Cu.prototype.value=function(){return this.$},Cu.prototype.se=function(Rv){return this.$.style=Rv,this};var wu=function(Rv){this.$=Rv||{}};wu.prototype.value=function(){return this.$},wu.prototype.se=function(Rv){return this.$.style=Rv,this};var Du=function(Rv){this.Tf=Rv,this.tc=null,this.qd=Lu(this)},Uu=function(Rv){var Ov=new wu;return Ov.$.where=document.body,Ov.$.url=Rv.Tf,Ov.$.messageHandlersFilter=Pl("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),Ov.$.attributes=Ov.$.attributes||{},new Cu(Ov.$.attributes).se({position:"absolute",top:"-100px",width:"1px",height:"1px"}),Ov.$.dontclear=!0,Ov},Lu=function(Rv){return Bu().then(function(){return new hr(function(Ov,Pv){Pl("gapi.iframes.getContext")().open(Uu(Rv).value(),function(Cv){Rv.tc=Cv,Rv.tc.restyle({setHideOnLeave:!1});var wv=setTimeout(function(){Pv(Error("Network Error"))},Mu.get()),Dv=function(){clearTimeout(wv),Ov()};Cv.ping(Dv).then(Dv,function(){Pv(Error("Network Error"))})})})})};Du.prototype.sendMessage=function(Rv){var Ov=this;return this.qd.then(function(){return new hr(function(Pv){Ov.tc.send(Rv.type,Rv,Pv,Pl("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var Fu=function(Rv,Ov){Rv.qd.then(function(){Rv.tc.register("authEvent",Ov,Pl("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},xu=new Vl(3E4,6E4),Mu=new Vl(5E3,15E3),ju=null,Bu=function(){return ju?ju:ju=new hr(function(Rv,Ov){if(Wl()){var Pv=function(){Bl(),Pl("gapi.load")("gapi.iframes",{callback:Rv,ontimeout:function(){Bl(),Ov(Error("Network Error"))},timeout:xu.get()})};if(Pl("gapi.iframes.Iframe"))Rv();else if(Pl("gapi.load"))Pv();else{var Cv="__iframefcb"+Math.floor(1E6*Math.random()).toString();_e[Cv]=function(){Pl("gapi.load")?Pv():Ov(Error("Network Error"))},mr(zr("https://apis.google.com/js/api.js?onload="+Cv)).f(function(){Ov(Error("Network Error"))})}}else Ov(Error("Network Error"))}).f(function(Rv){throw ju=null,Rv})},Wu=function(Rv,Ov,Pv){this.B=Rv,this.m=Ov,this.w=Pv,this.Za=null,this.fc=$s(this.B,"/__/auth/iframe"),zs(this.fc,"apiKey",this.m),zs(this.fc,"appName",this.w)};Wu.prototype.Dd=function(Rv){return this.Za=Rv,this},Wu.prototype.toString=function(){return this.Za?zs(this.fc,"v",this.Za):this.fc.removeParameter("v"),this.fc.toString()};var Vu=function(Rv,Ov,Pv,Cv,wv){this.B=Rv,this.m=Ov,this.w=Pv,this.Je=Cv,this.Za=this.R=this.yd=null,this.Ub=wv};Vu.prototype.Dd=function(Rv){return this.Za=Rv,this},Vu.prototype.toString=function(){var Rv=$s(this.B,"/__/auth/handler");if(zs(Rv,"apiKey",this.m),zs(Rv,"appName",this.w),zs(Rv,"authType",this.Je),this.Ub.isOAuthProvider){zs(Rv,"providerId",this.Ub.providerId);var Ov=this.Ub,Pv=Fl(Ov.Sd),Cv;for(Cv in Pv)Pv[Cv]=Pv[Cv].toString();for(Ov=Ov.Df,Pv=on(Pv),Cv=0;Cv<Ov.length;Cv++){var wv=Ov[Cv];wv in Pv&&delete Pv[wv]}nn(Pv)||zs(Rv,"customParameters",Ll(Pv))}if("function"===typeof this.Ub.$d&&(Ov=this.Ub.$d(),Ov.length&&zs(Rv,"scopes",Ov.join(","))),this.yd?zs(Rv,"redirectUrl",this.yd):Rv.removeParameter("redirectUrl"),this.R?zs(Rv,"eventId",this.R):Rv.removeParameter("eventId"),this.Za?zs(Rv,"v",this.Za):Rv.removeParameter("v"),this.hc)for(var Dv in this.hc)this.hc.hasOwnProperty(Dv)&&!Qs(Rv,Dv)&&zs(Rv,Dv,this.hc[Dv]);return Rv.toString()};var Ku=function(Rv,Ov,Pv,Cv){this.B=Rv,this.m=Ov,this.w=Pv,this.We=(this.Fa=Cv||null)?Rl(this.Fa):null,Cv=this.Fa,this.df=new Wu(Rv,Ov,Pv).Dd(Cv).toString(),this.na=[],this.g=new Up(Ov,null,this.We),this.vc=this.xa=null},qu=function(Rv){var Ov=ul();return zp(Rv).then(function(Pv){a:{for(var Cv=Ys(Ov),wv=Cv.ka,Cv=Cv.ia,Dv=0;Dv<Pv.length;Dv++){var Uv=Pv[Dv],Lv=Cv,Fv=wv;if(0==Uv.indexOf("chrome-extension://")?Lv=Ys(Uv).ia==Lv&&"chrome-extension"==Fv:"http"!=Fv&&"https"!=Fv?Lv=!1:_l.test(Uv)?Lv=Lv==Uv:(Uv=Uv.split(".").join("\\."),Lv=new RegExp("^(.+\\."+Uv+"|"+Uv+")$","i").test(Lv)),Lv){Pv=!0;break a}}Pv=!1}if(!Pv)throw new sp(ul())})};j=Ku.prototype,j.Kb=function(){if(this.vc)return this.vc;var Rv=this;return this.vc=kl().then(function(){Rv.sc=new Du(Rv.df),Hu(Rv)})},j.$b=function(Rv,Ov,Pv){var Cv=new ap("popup-closed-by-user"),wv=new ap("web-storage-unsupported"),Dv=this,Uv=!1;return this.Ma().then(function(){Xu(Dv).then(function(Lv){Lv||(Rv&&ml(Rv),Ov(wv),Uv=!0)})}).f(function(){}).then(function(){if(!Uv)return vl(Rv)}).then(function(){if(!Uv)return Es(Pv).then(function(){Ov(Cv)})})},j.te=function(){var Rv=Ol();return!Ul(Rv)&&!jl(Rv)},j.ce=function(){return!1},j.Sb=function(Rv,Ov,Pv,Cv,wv,Dv,Uv){if(!Rv)return yr(new ap("popup-blocked"));if(Uv&&!Ul())return this.Ma().f(function(Fv){ml(Rv),wv(Fv)}),Cv(),mr();this.xa||(this.xa=qu(this.g));var Lv=this;return this.xa.then(function(){var Fv=Lv.Ma().f(function(xv){throw ml(Rv),wv(xv),xv});return Cv(),Fv}).then(function(){if(Pp(Pv),!Uv){var Fv=Gu(Lv.B,Lv.m,Lv.w,Ov,Pv,null,Dv,Lv.Fa);hl(Fv,Rv)}}).f(function(Fv){throw"auth/network-request-failed"==Fv.code&&(Lv.xa=null),Fv})},j.Tb=function(Rv,Ov,Pv){this.xa||(this.xa=qu(this.g));var Cv=this;return this.xa.then(function(){Pp(Ov);var wv=Gu(Cv.B,Cv.m,Cv.w,Rv,Ov,ul(),Pv,Cv.Fa);hl(wv)})},j.Ma=function(){var Rv=this;return this.Kb().then(function(){return Rv.sc.qd}).f(function(){throw Rv.xa=null,new ap("network-request-failed")})},j.we=function(){return!0};var Gu=function(Rv,Ov,Pv,Cv,wv,Dv,Uv,Lv,Fv){return Rv=new Vu(Rv,Ov,Pv,Cv,wv),Rv.yd=Dv,Rv.R=Uv,Dv=Rv.Dd(Lv),Dv.hc=on(Fv||null),Dv.toString()},Hu=function(Rv){if(!Rv.sc)throw Error("IfcHandler must be initialized!");Fu(Rv.sc,function(Ov){var Pv={};if(Ov&&Ov.authEvent){var Cv=!1;for(Ov=dp(Ov.authEvent),Pv=0;Pv<Rv.na.length;Pv++)Cv=Rv.na[Pv](Ov)||Cv;return Pv={},Pv.status=Cv?"ACK":"ERROR",mr(Pv)}return Pv.status="ERROR",mr(Pv)})},Xu=function(Rv){var Ov={type:"webStorageSupport"};return Rv.Kb().then(function(){return Rv.sc.sendMessage(Ov)}).then(function(Pv){if(Pv&&Pv.length&&"undefined"!==typeof Pv[0].webStorageSupport)return Pv[0].webStorageSupport;throw Error()})};Ku.prototype.bb=function(Rv){this.na.push(Rv)},Ku.prototype.Yb=function(Rv){Gt(this.na,function(Ov){return Ov==Rv})};var zu=function(Rv,Ov,Pv){if(zl(this,"type","recaptcha"),this.Uc=this.zb=null,this.Bb=!1,this.Qd=Rv,this.ya=Ov||{theme:"light",type:"image"},this.G=[],this.ya.sitekey)throw new ap("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.wc="invisible"===this.ya.size,!rr(Rv)||!this.wc&&rr(Rv).hasChildNodes())throw new ap("argument-error","reCAPTCHA container is either not found or already contains inner elements!");try{this.h=Pv||firebase.app()}catch(Uv){throw new ap("argument-error","No firebase.app.App instance is currently initialized.")}if(this.h.options&&this.h.options.apiKey)Rv=firebase.SDK_VERSION?Rl(firebase.SDK_VERSION):null,this.g=new Up(this.h.options&&this.h.options.apiKey,null,Rv);else throw new ap("invalid-api-key");var Cv=this;this.Pc=[];var wv=this.ya.callback;this.ya.callback=function(Uv){if(Cv.Cb(Uv),"function"===typeof wv)wv(Uv);else if("string"===typeof wv){var Lv=Pl(wv,_e);"function"===typeof Lv&&Lv(Uv)}};var Dv=this.ya["expired-callback"];this.ya["expired-callback"]=function(){if(Cv.Cb(null),"function"===typeof Dv)Dv();else if("string"===typeof Dv){var Uv=Pl(Dv,_e);"function"===typeof Uv&&Uv()}}};zu.prototype.Cb=function(Rv){for(var Ov=0;Ov<this.Pc.length;Ov++)try{this.Pc[Ov](Rv)}catch(Pv){}};var Qu=function(Rv,Ov){Gt(Rv.Pc,function(Pv){return Pv==Ov})};zu.prototype.b=function(Rv){var Ov=this;return this.G.push(Rv),kr(Rv,function(){Kt(Ov.G,Rv)}),Rv},zu.prototype.Lb=function(){var Rv=this;return this.zb?this.zb:this.zb=this.b(mr().then(function(){if(wl())return kl();throw new ap("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Yu()}).then(function(){return Ou(Rv.g,bu,{})}).then(function(Ov){Rv.ya.sitekey=Ov.recaptchaSiteKey}).f(function(Ov){throw Rv.zb=null,Ov}))},zu.prototype.render=function(){Ju(this);var Rv=this;return this.b(this.Lb().then(function(){if(null===Rv.Uc){var Ov=Rv.Qd;if(!Rv.wc){var Pv=rr(Ov),Ov=sr("DIV");Pv.appendChild(Ov)}Rv.Uc=grecaptcha.render(Ov,Rv.ya)}return Rv.Uc}))},zu.prototype.verify=function(){Ju(this);var Rv=this;return this.b(this.render().then(function(Ov){return new hr(function(Pv){var Cv=grecaptcha.getResponse(Ov);if(Cv)Pv(Cv);else{var wv=function(Dv){Dv&&(Qu(Rv,wv),Pv(Dv))};Rv.Pc.push(wv),Rv.wc&&grecaptcha.execute(Rv.Uc)}})}))};var Ju=function(Rv){if(Rv.Bb)throw new ap("internal-error","RecaptchaVerifier instance has been destroyed.")};zu.prototype.clear=function(){Ju(this),this.Bb=!0;for(var Rv=0;Rv<this.G.length;Rv++)this.G[Rv].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.wc)for(var Rv=rr(this.Qd),Ov;Ov=Rv.firstChild;)Rv.removeChild(Ov)};var Yu=function(){return new hr(function(Rv,Ov){if(!Wl())Ov(new ap("network-request-failed"));else if(_e.grecaptcha)Rv();else{var Pv="__rcb"+Math.floor(1E6*Math.random()).toString();_e[Pv]=function(){_e.grecaptcha?Rv():Ov(new ap("internal-error")),delete _e[Pv]},mr(zr("https://www.google.com/recaptcha/api.js?onload="+Pv+"&render=explicit")).f(function(){Ov(new ap("internal-error","Unable to load external reCAPTCHA dependencies!"))})}})},$u=function(Rv){if(this.D=Rv||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage,!this.D)throw new ap("internal-error","The React Native compatibility library was not found.")};j=$u.prototype,j.get=function(Rv){return mr(this.D.getItem(Rv)).then(function(Ov){return Ov&&xl(Ov)})},j.set=function(Rv,Ov){return mr(this.D.setItem(Rv,Ll(Ov)))},j.remove=function(Rv){return mr(this.D.removeItem(Rv))},j.cb=function(){},j.Ua=function(){};var Zu=function(){this.D={}};j=Zu.prototype,j.get=function(Rv){return mr(this.D[Rv])},j.set=function(Rv,Ov){return this.D[Rv]=Ov,mr()},j.remove=function(Rv){return delete this.D[Rv],mr()},j.cb=function(){},j.Ua=function(){};var _h=function(){if(!_f()){if("Node"==Il())throw new ap("internal-error","The LocalStorage compatibility library was not found.");throw new ap("web-storage-unsupported")}this.D=_e.localStorage||firebase.INTERNAL.node.localStorage},_f=function(){var Rv="Node"==Il(),Rv=_e.localStorage||Rv&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!Rv)return!1;try{return Rv.setItem("__sak","1"),Rv.removeItem("__sak"),!0}catch(Ov){return!1}};j=_h.prototype,j.get=function(Rv){var Ov=this;return mr().then(function(){var Pv=Ov.D.getItem(Rv);return xl(Pv)})},j.set=function(Rv,Ov){var Pv=this;return mr().then(function(){var Cv=Ll(Ov);null===Cv?Pv.remove(Rv):Pv.D.setItem(Rv,Cv)})},j.remove=function(Rv){var Ov=this;return mr().then(function(){Ov.D.removeItem(Rv)})},j.cb=function(Rv){_e.window&&to(_e.window,"storage",Rv)},j.Ua=function(Rv){_e.window&&ro(_e.window,"storage",Rv)};var _b=function(){this.D={}};j=_b.prototype,j.get=function(){return mr(null)},j.set=function(){return mr()},j.remove=function(){return mr()},j.cb=function(){},j.Ua=function(){};var _g=function(){if(!em()){if("Node"==Il())throw new ap("internal-error","The SessionStorage compatibility library was not found.");throw new ap("web-storage-unsupported")}this.D=_e.sessionStorage||firebase.INTERNAL.node.sessionStorage},em=function(){var Rv="Node"==Il(),Rv=_e.sessionStorage||Rv&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!Rv)return!1;try{return Rv.setItem("__sak","1"),Rv.removeItem("__sak"),!0}catch(Ov){return!1}};j=_g.prototype,j.get=function(Rv){var Ov=this;return mr().then(function(){var Pv=Ov.D.getItem(Rv);return xl(Pv)})},j.set=function(Rv,Ov){var Pv=this;return mr().then(function(){var Cv=Ll(Ov);null===Cv?Pv.remove(Rv):Pv.D.setItem(Rv,Cv)})},j.remove=function(Rv){var Ov=this;return mr().then(function(){Ov.D.removeItem(Rv)})},j.cb=function(){},j.Ua=function(){};var tm=function(Rv,Ov,Pv,Cv,wv,Dv){if(!window.indexedDB)throw new ap("web-storage-unsupported");this.Pe=Rv,this.pd=Ov,this.bd=Pv,this.Ae=Cv,this.$a=wv,this.da={},this.ac=[],this.Ob=0,this.ef=Dv||_e.indexedDB},am=function(Rv){return new hr(function(Ov,Pv){var Cv=Rv.ef.open(Rv.Pe,Rv.$a);Cv.onerror=function(wv){Pv(Error(wv.target.errorCode))},Cv.onupgradeneeded=function(wv){wv=wv.target.result;try{wv.createObjectStore(Rv.pd,{keyPath:Rv.bd})}catch(Dv){Pv(Dv)}},Cv.onsuccess=function(wv){Ov(wv.target.result)}})},om=function(Rv){return Rv.ge||(Rv.ge=am(Rv)),Rv.ge},rm=function(Rv,Ov){return Ov.objectStore(Rv.pd)},im=function(Rv,Ov,Pv){return Ov.transaction([Rv.pd],Pv?"readwrite":"readonly")},dm=function(Rv){return new hr(function(Ov,Pv){Rv.onsuccess=function(Cv){Cv&&Cv.target?Ov(Cv.target.result):Ov()},Rv.onerror=function(Cv){Pv(Error(Cv.target.errorCode))}})},nm;j=tm.prototype,j.set=function(Rv,Ov){var Pv=!1,wv=this,Cv;return kr(om(this).then(function(Dv){return Cv=Dv,Dv=rm(wv,im(wv,Cv,!0)),dm(Dv.get(Rv))}).then(function(Dv){var Uv=rm(wv,im(wv,Cv,!0));return Dv?(Dv.value=Ov,dm(Uv.put(Dv))):(wv.Ob++,Pv=!0,Dv={},Dv[wv.bd]=Rv,Dv[wv.Ae]=Ov,dm(Uv.add(Dv)))}).then(function(){wv.da[Rv]=Ov}),function(){Pv&&wv.Ob--})},j.get=function(Rv){var Ov=this;return om(this).then(function(Pv){return dm(rm(Ov,im(Ov,Pv,!1)).get(Rv))}).then(function(Pv){return Pv&&Pv.value})},j.remove=function(Rv){var Ov=!1,Pv=this;return kr(om(this).then(function(Cv){return Ov=!0,Pv.Ob++,dm(rm(Pv,im(Pv,Cv,!0))["delete"](Rv))}).then(function(){delete Pv.da[Rv]}),function(){Ov&&Pv.Ob--})},j.Pf=function(){var Rv=this;return om(this).then(function(Ov){var Pv=rm(Rv,im(Rv,Ov,!1));return Pv.getAll?dm(Pv.getAll()):new hr(function(Cv,wv){var Dv=[],Uv=Pv.openCursor();Uv.onsuccess=function(Lv){(Lv=Lv.target.result)?(Dv.push(Lv.value),Lv["continue"]()):Cv(Dv)},Uv.onerror=function(Lv){wv(Error(Lv.target.errorCode))}})}).then(function(Ov){var Pv={},Cv=[];if(0==Rv.Ob){for(Cv=0;Cv<Ov.length;Cv++)Pv[Ov[Cv][Rv.bd]]=Ov[Cv][Rv.Ae];Cv=fl(Rv.da,Pv),Rv.da=Pv}return Cv})},j.cb=function(Rv){0==this.ac.length&&this.Fd(),this.ac.push(Rv)},j.Ua=function(Rv){Gt(this.ac,function(Ov){return Ov==Rv}),0==this.ac.length&&this.Lc()},j.Fd=function(){var Rv=this;this.Lc();var Ov=function(){return Rv.td=Es(800).then(ut(Rv.Pf,Rv)).then(function(Pv){0<Pv.length&&xt(Rv.ac,function(Cv){Cv(Pv)})}).then(Ov).f(function(Pv){"STOP_EVENT"!=Pv.message&&Ov()}),Rv.td};Ov()},j.Lc=function(){this.td&&this.td.cancel("STOP_EVENT")};var sm=function(){this.Ud={Browser:cm,Node:pm,ReactNative:um}[Il()]},cm={T:_h,Id:_g},pm={T:_h,Id:_g},um={T:$u,Id:_b},lm,hm=function(Rv,Ov){this.Ne=Ov,zl(this,"verificationId",Rv)};hm.prototype.confirm=function(Rv){return Rv=Rp(this.verificationId,Rv),this.Ne(Rv)};var fm=function(Rv,Ov,Pv,Cv){return new Np(Rv).verifyPhoneNumber(Ov,Pv).then(function(wv){return new hm(wv,Cv)})},bm=function(Rv){var Ov={},Pv=Rv.email,Cv=Rv.newEmail;if(Rv=Rv.requestType,!Pv||!Rv)throw Error("Invalid provider user info!");Ov.fromEmail=Cv||null,Ov.email=Pv,zl(this,"operation",Rv),zl(this,"data",Zl(Ov))},gm=function(Rv,Ov,Pv,Cv,wv,Dv){if(this.xf=Rv,this.Ff=Ov,this.Ye=Pv,this.Ac=Cv,this.Jd=wv,this.Gf=!!Dv,this.mb=null,this.Na=this.Ac,this.Jd<this.Ac)throw Error("Proactive refresh lower bound greater than upper bound!")};gm.prototype.start=function(){this.Na=this.Ac,ym(this,!0)};var mm=function(Rv,Ov){return Ov?(Rv.Na=Rv.Ac,Rv.Ye()):(Ov=Rv.Na,Rv.Na*=2,Rv.Na>Rv.Jd&&(Rv.Na=Rv.Jd),Ov)},ym=function(Rv,Ov){Rv.stop(),Rv.mb=Es(mm(Rv,Ov)).then(function(){return Rv.Gf?mr():ql()}).then(function(){return Rv.xf()}).then(function(){ym(Rv,!0)}).f(function(Pv){Rv.Ff(Pv)&&ym(Rv,!1)})};gm.prototype.stop=function(){this.mb&&(this.mb.cancel(),this.mb=null)};var vm=function(Rv){var Ov={"facebook.com":km,"google.com":Em,"github.com":Tm,"twitter.com":Sm},Pv=Rv&&Rv.providerId;return Pv?Ov[Pv]?new Ov[Pv](Rv):new _m(Rv):null},_m=function(Rv){var Ov=xl(Rv.rawUserInfo||"{}");if(Rv=Rv.providerId,!Rv)throw Error("Invalid additional user info!");zl(this,"profile",Zl(Ov||{})),zl(this,"providerId",Rv)},km=function(Rv){if(_m.call(this,Rv),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};bt(km,_m);var Tm=function(Rv){if(_m.call(this,Rv),"github.com"!=this.providerId)throw Error("Invalid provider id!");zl(this,"username",this.profile&&this.profile.login||null)};bt(Tm,_m);var Em=function(Rv){if(_m.call(this,Rv),"google.com"!=this.providerId)throw Error("Invalid provider id!")};bt(Em,_m);var Sm=function(Rv){if(_m.call(this,Rv),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");zl(this,"username",Rv.screenName||null)};bt(Sm,_m);var Im=function(Rv,Ov,Pv,Cv){this.sf=Rv,this.qe=Ov,this.Hf=Pv,this.Zb=Cv,this.Z={},lm||(lm=new sm),Rv=lm;try{if(pl()){nm||(nm=new tm("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var wv=nm}else wv=new Rv.Ud.T;this.Ra=wv}catch(Dv){this.Ra=new Zu,this.Zb=!0}try{this.Nc=new Rv.Ud.Id}catch(Dv){this.Nc=new Zu}this.Gd=ut(this.ue,this),this.da={}},Nm=function(){return Am||(Am=new Im("firebase",":",!jl(Ol())&&Sl(),Ul())),Am},Am;j=Im.prototype,j.X=function(Rv,Ov){return this.sf+this.qe+Rv.name+(Ov?this.qe+Ov:"")},j.get=function(Rv,Ov){return(Rv.T?this.Ra:this.Nc).get(this.X(Rv,Ov))},j.remove=function(Rv,Ov){return Ov=this.X(Rv,Ov),Rv.T&&!this.Zb&&(this.da[Ov]=null),(Rv.T?this.Ra:this.Nc).remove(Ov)},j.set=function(Rv,Ov,Pv){var Cv=this.X(Rv,Pv),wv=this,Dv=Rv.T?this.Ra:this.Nc;return Dv.set(Cv,Ov).then(function(){return Dv.get(Cv)}).then(function(Uv){Rv.T&&!this.Zb&&(wv.da[Cv]=Uv)})},j.addListener=function(Rv,Ov,Pv){Rv=this.X(Rv,Ov),this.Zb||(this.da[Rv]=_e.localStorage.getItem(Rv)),nn(this.Z)&&this.Fd(),this.Z[Rv]||(this.Z[Rv]=[]),this.Z[Rv].push(Pv)},j.removeListener=function(Rv,Ov,Pv){Rv=this.X(Rv,Ov),this.Z[Rv]&&(Gt(this.Z[Rv],function(Cv){return Cv==Pv}),0==this.Z[Rv].length&&delete this.Z[Rv]),nn(this.Z)&&this.Lc()},j.Fd=function(){this.Ra.cb(this.Gd),this.Zb||pl()||Rm(this)};var Rm=function(Rv){Om(Rv),Rv.nd=setInterval(function(){for(var Ov in Rv.Z){var Pv=_e.localStorage.getItem(Ov),Cv=Rv.da[Ov];Pv!=Cv&&(Rv.da[Ov]=Pv,Pv=new Gn({type:"storage",key:Ov,target:window,oldValue:Cv,newValue:Pv,zf:!0}),Rv.ue(Pv))}},1E3)},Om=function(Rv){Rv.nd&&(clearInterval(Rv.nd),Rv.nd=null)};Im.prototype.Lc=function(){this.Ra.Ua(this.Gd),Om(this)},Im.prototype.ue=function(Rv){if(Rv&&Rv.Xe){var Ov=Rv.gb.key;if("undefined"===typeof Rv.gb.zf?Om(this):this.Ra.Ua(this.Gd),this.Hf){var Pv=_e.localStorage.getItem(Ov);Rv=Rv.gb.newValue,Rv!=Pv&&(Rv?_e.localStorage.setItem(Ov,Rv):Rv||_e.localStorage.removeItem(Ov))}this.da[Ov]=_e.localStorage.getItem(Ov),this.Nd(Ov)}else xt(Rv,ut(this.Nd,this))},Im.prototype.Nd=function(Rv){this.Z[Rv]&&xt(this.Z[Rv],function(Ov){Ov()})};var Pm=function(Rv,Ov){this.v=Rv,this.l=Ov||Nm()},Cm={name:"authEvent",T:!0},wm=function(Rv){return Rv.l.get(Cm,Rv.v).then(function(Ov){return dp(Ov)})};Pm.prototype.bb=function(Rv){this.l.addListener(Cm,this.v,Rv)},Pm.prototype.Yb=function(Rv){this.l.removeListener(Cm,this.v,Rv)};var Dm=function(Rv){this.l=Rv||Nm()},Um={name:"sessionId",T:!1};Dm.prototype.oc=function(Rv){return this.l.get(Um,Rv)};var Lm=function(Rv,Ov,Pv,Cv,wv,Dv){this.B=Rv,this.m=Ov,this.w=Pv,this.Fa=Cv||null,this.ve=Ov+":"+Pv,this.If=new Dm,this.Zd=new Pm(this.ve),this.ld=null,this.na=[],this.jf=wv||500,this.Bf=Dv||2E3,this.Jb=this.Dc=null},Fm=function(Rv){return new ap("invalid-cordova-configuration",Rv)};Lm.prototype.Ma=function(){return this.Lb?this.Lb:this.Lb=Tl().then(function(){if("function"!==typeof Pl("universalLinks.subscribe",_e))throw Fm("cordova-universal-links-plugin is not installed");if("undefined"===typeof Pl("BuildInfo.packageName",_e))throw Fm("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pl("cordova.plugins.browsertab.openUrl",_e))throw Fm("cordova-plugin-browsertab is not installed");if("function"!==typeof Pl("cordova.InAppBrowser.open",_e))throw Fm("cordova-plugin-inappbrowser is not installed")},function(){throw new ap("cordova-not-ready")})};var xm=function(){for(var Rv=20,Ov=[];0<Rv;)Ov.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),Rv--;return Ov.join("")},Mm=function(Rv){var Ov=new jn;return Ov.update(Rv),zt(Ov.digest())};j=Lm.prototype,j.$b=function(Rv,Ov){return Ov(new ap("operation-not-supported-in-this-environment")),mr()},j.Sb=function(){return yr(new ap("operation-not-supported-in-this-environment"))},j.we=function(){return!1},j.te=function(){return!0},j.ce=function(){return!0},j.Tb=function(Rv,Ov,Pv){if(this.Dc)return yr(new ap("redirect-operation-pending"));var Cv=this,wv=_e.document,Dv=null,Uv=null,Lv=null,Fv=null;return this.Dc=kr(mr().then(function(){return Pp(Ov),Bm(Cv)}).then(function(){return jm(Cv,Rv,Ov,Pv)}).then(function(){return new hr(function(xv,Mv){Uv=function(){var jv=Pl("cordova.plugins.browsertab.close",_e);return xv(),"function"===typeof jv&&jv(),Cv.Jb&&"function"===typeof Cv.Jb.close&&(Cv.Jb.close(),Cv.Jb=null),!1},Cv.bb(Uv),Lv=function(){Dv||(Dv=Es(Cv.Bf).then(function(){Mv(new ap("redirect-cancelled-by-user"))}))},Fv=function(){Kl()&&Lv()},wv.addEventListener("resume",Lv,!1),Ol().toLowerCase().match(/android/)||wv.addEventListener("visibilitychange",Fv,!1)}).f(function(xv){return Wm(Cv).then(function(){throw xv})})}),function(){Lv&&wv.removeEventListener("resume",Lv,!1),Fv&&wv.removeEventListener("visibilitychange",Fv,!1),Dv&&Dv.cancel(),Uv&&Cv.Yb(Uv),Cv.Dc=null})};var jm=function(Rv,Ov,Pv,Cv){var wv=xm(),Dv=new ip(Ov,Cv,null,wv,new ap("no-auth-event")),Uv=Pl("BuildInfo.packageName",_e);if("string"!==typeof Uv)throw new ap("invalid-cordova-configuration");var Lv=Pl("BuildInfo.displayName",_e),Fv={};if(Ol().toLowerCase().match(/iphone|ipad|ipod/))Fv.ibi=Uv;else if(Ol().toLowerCase().match(/android/))Fv.apn=Uv;else return yr(new ap("operation-not-supported-in-this-environment"));Lv&&(Fv.appDisplayName=Lv),wv=Mm(wv),Fv.sessionId=wv;var xv=Gu(Rv.B,Rv.m,Rv.w,Ov,Pv,null,Cv,Rv.Fa,Fv);return Rv.Ma().then(function(){var Mv=Rv.ve;return Rv.If.l.set(Cm,Dv.F(),Mv)}).then(function(){var Mv=Pl("cordova.plugins.browsertab.isAvailable",_e);if("function"!==typeof Mv)throw new ap("invalid-cordova-configuration");var jv=null;Mv(function(Bv){if(Bv){if(jv=Pl("cordova.plugins.browsertab.openUrl",_e),"function"!==typeof jv)throw new ap("invalid-cordova-configuration");jv(xv)}else{if(jv=Pl("cordova.InAppBrowser.open",_e),"function"!==typeof jv)throw new ap("invalid-cordova-configuration");Bv=jv;var Wv=Ol();Wv=Wv.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Wv.match(/(iPad|iPhone|iPod).*OS 8_\d/i),Rv.Jb=Bv(xv,Wv?"_blank":"_system","location=yes")}})})};Lm.prototype.Cb=function(Rv){for(var Ov=0;Ov<this.na.length;Ov++)try{this.na[Ov](Rv)}catch(Pv){}};var Bm=function(Rv){return Rv.ld||(Rv.ld=Rv.Ma().then(function(){return new hr(function(Ov){var Pv=function(Cv){return Ov(Cv),Rv.Yb(Pv),!1};Rv.bb(Pv),Vm(Rv)})})),Rv.ld},Wm=function(Rv){var Ov=null;return wm(Rv.Zd).then(function(Pv){return Ov=Pv,Pv=Rv.Zd,Pv.l.remove(Cm,Pv.v)}).then(function(){return Ov})},Vm=function(Rv){var Ov=Pl("universalLinks.subscribe",_e);if("function"!==typeof Ov)throw new ap("invalid-cordova-configuration");var Pv=new ip("unknown",null,null,null,new ap("no-auth-event")),Cv=!1,wv=Es(Rv.jf).then(function(){return Wm(Rv).then(function(){Cv||Rv.Cb(Pv)})}),Dv=function(Lv){Cv=!0,wv&&wv.cancel(),Wm(Rv).then(function(Fv){var xv=Pv;if(Fv&&Lv&&Lv.url){var xv=null,Mv=Lv.url,jv=Ys(Mv),Bv=Qs(jv,"link"),Wv=Qs(Ys(Bv),"link"),jv=Qs(jv,"deep_link_id");Mv=Qs(Ys(jv),"link")||jv||Wv||Bv||Mv,-1!=Mv.indexOf("/__/auth/callback")&&(xv=Ys(Mv),xv=xl(Qs(xv,"firebaseError")||null),xv=(xv="object"===typeof xv?op(xv):null)?new ip(Fv.ha,Fv.R,null,null,xv):new ip(Fv.ha,Fv.R,Mv,Fv.oc())),xv=xv||Pv}Rv.Cb(xv)})},Uv=_e.handleOpenURL;_e.handleOpenURL=function(Lv){if(0==Lv.indexOf(Pl("BuildInfo.packageName",_e)+"://")&&Dv({url:Lv}),"function"===typeof Uv)try{Uv(Lv)}catch(Fv){console.error(Fv)}},Ov(null,Dv)};Lm.prototype.bb=function(Rv){this.na.push(Rv),Bm(this).f(function(Ov){"auth/invalid-cordova-configuration"===Ov.code&&(Ov=new ip("unknown",null,null,null,new ap("no-auth-event")),Rv(Ov))})},Lm.prototype.Yb=function(Rv){Gt(this.na,function(Ov){return Ov==Rv})};var Km=function(Rv){this.v=Rv,this.l=Nm()},qm={name:"pendingRedirect",T:!1},Gm=function(Rv){return Rv.l.set(qm,"pending",Rv.v)},Hm=function(Rv){return Rv.l.remove(qm,Rv.v)},Xm=function(Rv){return Rv.l.get(qm,Rv.v).then(function(Ov){return"pending"==Ov})},zm=function(Rv,Ov,Pv){this.B=Rv,this.m=Ov,this.w=Pv,this.bc=[],this.kb=!1,this.Yc=ut(this.hd,this),this.Sa=new ny(this),this.ud=new sy(this),this.Pb=new Km(this.m+":"+this.w),this.Ba={},this.Ba.unknown=this.Sa,this.Ba.signInViaRedirect=this.Sa,this.Ba.linkViaRedirect=this.Sa,this.Ba.reauthViaRedirect=this.Sa,this.Ba.signInViaPopup=this.ud,this.Ba.linkViaPopup=this.ud,this.Ba.reauthViaPopup=this.ud,this.S=Qm(this.B,this.m,this.w)},Qm=function(Rv,Ov,Pv){var Cv=firebase.SDK_VERSION||null;return El()?new Lm(Rv,Ov,Pv,Cv):new Ku(Rv,Ov,Pv,Cv)};zm.prototype.reset=function(){this.kb=!1,this.S.Yb(this.Yc),this.S=Qm(this.B,this.m,this.w)},zm.prototype.Kb=function(){var Rv=this;this.kb||(this.kb=!0,this.S.bb(this.Yc));var Ov=this.S;return this.S.Ma().f(function(Pv){throw Rv.S==Ov&&Rv.reset(),Pv})};var Jm=function(Rv){Rv.S.te()&&Rv.Kb().f(function(Ov){var Pv=new ip("unknown",null,null,null,new ap("operation-not-supported-in-this-environment"));Zm(Ov)&&Rv.hd(Pv)}),Rv.S.ce()||ay(Rv.Sa)};zm.prototype.subscribe=function(Rv){if(Vt(this.bc,Rv)||this.bc.push(Rv),!this.kb){var Ov=this;Xm(this.Pb).then(function(Pv){Pv?Hm(Ov.Pb).then(function(){Ov.Kb().f(function(Cv){var wv=new ip("unknown",null,null,null,new ap("operation-not-supported-in-this-environment"));Zm(Cv)&&Ov.hd(wv)})}):Jm(Ov)}).f(function(){Jm(Ov)})}},zm.prototype.unsubscribe=function(Rv){Gt(this.bc,function(Ov){return Ov==Rv})},zm.prototype.hd=function(Rv){if(!Rv)throw new ap("invalid-auth-event");for(var Ov=!1,Pv=0,Cv;Pv<this.bc.length;Pv++)if(Cv=this.bc[Pv],Cv.Od(Rv.ha,Rv.R)){(Ov=this.Ba[Rv.ha])&&Ov.me(Rv,Cv),Ov=!0;break}return ay(this.Sa),Ov};var Ym=new Vl(2E3,1E4),$m=new Vl(3E4,6E4);zm.prototype.getRedirectResult=function(){return this.Sa.getRedirectResult()},zm.prototype.Sb=function(Rv,Ov,Pv,Cv,wv){var Dv=this;return this.S.Sb(Rv,Ov,Pv,function(){Dv.kb||(Dv.kb=!0,Dv.S.bb(Dv.Yc))},function(){Dv.reset()},Cv,wv)};var Zm=function(Rv){return Rv&&"auth/cordova-not-ready"==Rv.code};zm.prototype.Tb=function(Rv,Ov,Pv){var Cv=this,wv;return Gm(this.Pb).then(function(){return Cv.S.Tb(Rv,Ov,Pv).f(function(Dv){if(Zm(Dv))throw new ap("operation-not-supported-in-this-environment");return wv=Dv,Hm(Cv.Pb).then(function(){throw wv})}).then(function(){return Cv.S.we()?new hr(function(){}):Hm(Cv.Pb).then(function(){return Cv.getRedirectResult()}).then(function(){}).f(function(){})})})},zm.prototype.$b=function(Rv,Ov,Pv,Cv){return this.S.$b(Pv,function(wv){Rv.Wa(Ov,null,wv,Cv)},Ym.get())};var ey={},ty=function(Rv,Ov,Pv){var Cv=Ov+":"+Pv;return ey[Cv]||(ey[Cv]=new zm(Rv,Ov,Pv)),ey[Cv]},ny=function(Rv){this.l=Rv,this.sb=null,this.Wb=[],this.Vb=[],this.qb=null,this.xd=!1};ny.prototype.reset=function(){this.sb=null,this.qb&&(this.qb.cancel(),this.qb=null)},ny.prototype.me=function(Rv,Ov){if(!Rv)return yr(new ap("invalid-auth-event"));this.reset(),this.xd=!0;var Pv=Rv.ha,Cv=Rv.R,wv=Rv.getError()&&"auth/web-storage-unsupported"==Rv.getError().code,Dv=Rv.getError()&&"auth/operation-not-supported-in-this-environment"==Rv.getError().code;return"unknown"!=Pv||wv||Dv?Rv=Rv.W?this.vd(Rv,Ov):Ov.Db(Pv,Cv)?this.wd(Rv,Ov):yr(new ap("invalid-auth-event")):(iy(this,!1,null,null),Rv=mr()),Rv};var ay=function(Rv){Rv.xd||(Rv.xd=!0,iy(Rv,!1,null,null))};ny.prototype.vd=function(Rv){return iy(this,!0,null,Rv.getError()),mr()},ny.prototype.wd=function(Rv,Ov){var Pv=this;Ov=Ov.Db(Rv.ha,Rv.R);var Cv=Rv.vb,wv=Rv.oc(),Dv=!!Rv.ha.match(/Redirect$/);return Ov(Cv,wv).then(function(Uv){iy(Pv,Dv,Uv,null)}).f(function(Uv){iy(Pv,Dv,null,Uv)})};var oy=function(Rv,Ov){if(Rv.sb=function(){return yr(Ov)},Rv.Vb.length)for(var Pv=0;Pv<Rv.Vb.length;Pv++)Rv.Vb[Pv](Ov)},ry=function(Rv,Ov){if(Rv.sb=function(){return mr(Ov)},Rv.Wb.length)for(var Pv=0;Pv<Rv.Wb.length;Pv++)Rv.Wb[Pv](Ov)},iy=function(Rv,Ov,Pv,Cv){Ov?Cv?oy(Rv,Cv):ry(Rv,Pv):ry(Rv,{user:null}),Rv.Wb=[],Rv.Vb=[]};ny.prototype.getRedirectResult=function(){var Rv=this;return new hr(function(Ov,Pv){Rv.sb?Rv.sb().then(Ov,Pv):(Rv.Wb.push(Ov),Rv.Vb.push(Pv),dy(Rv))})};var dy=function(Rv){var Ov=new ap("timeout");Rv.qb&&Rv.qb.cancel(),Rv.qb=Es($m.get()).then(function(){Rv.sb||iy(Rv,!0,null,Ov)})},sy=function(Rv){this.l=Rv};sy.prototype.me=function(Rv,Ov){if(!Rv)return yr(new ap("invalid-auth-event"));var Pv=Rv.ha,Cv=Rv.R;return Rv.W?this.vd(Rv,Ov):Ov.Db(Pv,Cv)?this.wd(Rv,Ov):yr(new ap("invalid-auth-event"))},sy.prototype.vd=function(Rv,Ov){return Ov.Wa(Rv.ha,null,Rv.getError(),Rv.R),mr()},sy.prototype.wd=function(Rv,Ov){var Pv=Rv.R,Cv=Rv.ha,wv=Ov.Db(Cv,Pv),Dv=Rv.vb;return Rv=Rv.oc(),wv(Dv,Rv).then(function(Uv){Ov.Wa(Cv,Uv,null,Pv)}).f(function(Uv){Ov.Wa(Cv,null,Uv,Pv)})};var ly=function(Rv){this.g=Rv,this.Ca=this.ba=null,this.Ia=0};ly.prototype.F=function(){return{apiKey:this.g.m,refreshToken:this.ba,accessToken:this.Ca,expirationTime:this.Ia}};var cy=function(Rv,Ov){var Pv=Ov.idToken,Cv=Ov.refreshToken;Ov=py(Ov.expiresIn),Rv.Ca=Pv,Rv.Ia=Ov,Rv.ba=Cv},py=function(Rv){return ft()+1E3*parseInt(Rv,10)},uy=function(Rv,Ov){return Kp(Rv.g,Ov).then(function(Pv){return Rv.Ca=Pv.access_token,Rv.Ia=py(Pv.expires_in),Rv.ba=Pv.refresh_token,{accessToken:Rv.Ca,expirationTime:Rv.Ia,refreshToken:Rv.ba}}).f(function(Pv){throw"auth/user-token-expired"==Pv.code&&(Rv.ba=null),Pv})};ly.prototype.getToken=function(Rv){return Rv=!!Rv,this.Ca&&!this.ba?yr(new ap("user-token-expired")):Rv||!this.Ca||ft()>this.Ia-3E4?this.ba?uy(this,{grant_type:"refresh_token",refresh_token:this.ba}):mr(null):mr({accessToken:this.Ca,expirationTime:this.Ia,refreshToken:this.ba})};var hy=function(Rv,Ov,Pv,Cv,wv){Ql(this,{uid:Rv,displayName:Cv||null,photoURL:wv||null,email:Pv||null,providerId:Ov})},fy=function(Rv,Ov){for(var Pv in qn.call(this,Rv),Ov)this[Pv]=Ov[Pv]};bt(fy,qn);var by=function(Rv,Ov,Pv){this.G=[],this.m=Rv.apiKey,this.w=Rv.appName,this.B=Rv.authDomain||null,Rv=firebase.SDK_VERSION?Rl(firebase.SDK_VERSION):null,this.g=new Up(this.m,null,Rv),this.la=new ly(this.g),_y(this,Ov.idToken),cy(this.la,Ov),zl(this,"refreshToken",this.la.ba),Sy(this,Pv||{}),ls.call(this),this.Ec=!1,this.B&&Cl()&&(this.s=ty(this.B,this.m,this.w)),this.Kc=[],this.ma=null,this.ob=my(this),this.xb=ut(this.jd,this)};bt(by,ls),by.prototype.jd=function(){this.ob.mb&&(this.ob.stop(),this.ob.start())};var gy=function(Rv){try{return firebase.app(Rv.w).auth()}catch(Ov){throw new ap("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+Rv.w+"'!")}},my=function(Rv){return new gm(function(){return Rv.getIdToken(!0)},function(Ov){return Ov&&"auth/network-request-failed"==Ov.code},function(){var Ov=Rv.la.Ia-ft()-3E5;return 0<Ov?Ov:0},3E4,96E4,!1)},yy=function(Rv){Rv.Bb||Rv.ob.mb||(Rv.ob.start(),ro(Rv,"tokenChanged",Rv.xb),to(Rv,"tokenChanged",Rv.xb))},vy=function(Rv){ro(Rv,"tokenChanged",Rv.xb),Rv.ob.stop()},_y=function(Rv,Ov){Rv.he=Ov,zl(Rv,"_lat",Ov)},ky=function(Rv,Ov){Gt(Rv.Kc,function(Pv){return Pv==Ov})},Ty=function(Rv){for(var Ov=[],Pv=0;Pv<Rv.Kc.length;Pv++)Ov.push(Rv.Kc[Pv](Rv));return _r(Ov).then(function(){return Rv})},Ey=function(Rv){Rv.s&&!Rv.Ec&&(Rv.Ec=!0,Rv.s.subscribe(Rv))},Sy=function(Rv,Ov){Ql(Rv,{uid:Ov.uid,displayName:Ov.displayName||null,photoURL:Ov.photoURL||null,email:Ov.email||null,emailVerified:Ov.emailVerified||!1,phoneNumber:Ov.phoneNumber||null,isAnonymous:Ov.isAnonymous||!1,providerData:[]})};zl(by.prototype,"providerId","firebase");var Iy=function(){},Ay=function(Rv){return mr().then(function(){if(Rv.Bb)throw new ap("app-deleted")})},Ny=function(Rv){return jt(Rv.providerData,function(Ov){return Ov.providerId})},Ry=function(Rv,Ov){Ov&&(Oy(Rv,Ov.providerId),Rv.providerData.push(Ov))},Oy=function(Rv,Ov){Gt(Rv.providerData,function(Pv){return Pv.providerId==Ov})},Py=function(Rv,Ov,Pv){("uid"!=Ov||Pv)&&Rv.hasOwnProperty(Ov)&&zl(Rv,Ov,Pv)};by.prototype.copy=function(Rv){var Ov=this;Ov!=Rv&&(Ql(this,{uid:Rv.uid,displayName:Rv.displayName,photoURL:Rv.photoURL,email:Rv.email,emailVerified:Rv.emailVerified,phoneNumber:Rv.phoneNumber,isAnonymous:Rv.isAnonymous,providerData:[]}),xt(Rv.providerData,function(Pv){Ry(Ov,Pv)}),this.la=Rv.la,zl(this,"refreshToken",this.la.ba))},by.prototype.reload=function(){var Rv=this;return this.b(Ay(this).then(function(){return Cy(Rv).then(function(){return Ty(Rv)}).then(Iy)}))};var Cy=function(Rv){return Rv.getIdToken().then(function(Ov){var Pv=Rv.isAnonymous;return Dy(Rv,Ov).then(function(){return Pv||Py(Rv,"isAnonymous",!1),Ov})})};by.prototype.getIdToken=function(Rv){var Ov=this;return this.b(Ay(this).then(function(){return Ov.la.getToken(Rv)}).then(function(Pv){if(!Pv)throw new ap("internal-error");return Pv.accessToken!=Ov.he&&(_y(Ov,Pv.accessToken),Ov.Oa()),Py(Ov,"refreshToken",Pv.refreshToken),Pv.accessToken}))},by.prototype.getToken=function(Rv){return Gl["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Gl["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.getIdToken(Rv)};var wy=function(Rv,Ov){Ov.idToken&&Rv.he!=Ov.idToken&&(cy(Rv.la,Ov),Rv.Oa(),_y(Rv,Ov.idToken),Py(Rv,"refreshToken",Rv.la.ba))};by.prototype.Oa=function(){this.dispatchEvent(new fy("tokenChanged"))};var Dy=function(Rv,Ov){return Ou(Rv.g,pu,{idToken:Ov}).then(ut(Rv.yf,Rv))};by.prototype.yf=function(Rv){if(Rv=Rv.users,!Rv||!Rv.length)throw new ap("internal-error");Rv=Rv[0],Sy(this,{uid:Rv.localId,displayName:Rv.displayName,photoURL:Rv.photoUrl,email:Rv.email,emailVerified:!!Rv.emailVerified,phoneNumber:Rv.phoneNumber});for(var Ov=Uy(Rv),Pv=0;Pv<Ov.length;Pv++)Ry(this,Ov[Pv]);Py(this,"isAnonymous",!(this.email&&Rv.passwordHash)&&!(this.providerData&&this.providerData.length))};var Uy=function(Rv){return(Rv=Rv.providerUserInfo)&&Rv.length?jt(Rv,function(Ov){return new hy(Ov.rawId,Ov.providerId,Ov.email,Ov.displayName,Ov.photoUrl)}):[]};by.prototype.reauthenticateAndRetrieveDataWithCredential=function(Rv){var Ov=this,Pv=null;return this.b(Rv.od(this.g,this.uid).then(function(Cv){return wy(Ov,Cv),Pv=Fy(Ov,Cv,"reauthenticate"),Ov.ma=null,Ov.reload()}).then(function(){return Pv}),!0)},by.prototype.reauthenticateWithCredential=function(Rv){return this.reauthenticateAndRetrieveDataWithCredential(Rv).then(function(){})};var Ly=function(Rv,Ov){return Cy(Rv).then(function(){if(Vt(Ny(Rv),Ov))return Ty(Rv).then(function(){throw new ap("provider-already-linked")})})};by.prototype.linkAndRetrieveDataWithCredential=function(Rv){var Ov=this,Pv=null;return this.b(Ly(this,Rv.providerId).then(function(){return Ov.getIdToken()}).then(function(Cv){return Rv.zc(Ov.g,Cv)}).then(function(Cv){return Pv=Fy(Ov,Cv,"link"),xy(Ov,Cv)}).then(function(){return Pv}))},by.prototype.linkWithCredential=function(Rv){return this.linkAndRetrieveDataWithCredential(Rv).then(function(Ov){return Ov.user})},by.prototype.linkWithPhoneNumber=function(Rv,Ov){var Pv=this;return this.b(Ly(this,"phone").then(function(){return fm(gy(Pv),Rv,Ov,ut(Pv.linkAndRetrieveDataWithCredential,Pv))}))},by.prototype.reauthenticateWithPhoneNumber=function(Rv,Ov){var Pv=this;return this.b(mr().then(function(){return fm(gy(Pv),Rv,Ov,ut(Pv.reauthenticateAndRetrieveDataWithCredential,Pv))}),!0)};var Fy=function(Rv,Ov,Pv){var Cv=Op(Ov);return Ov=vm(Ov),Jl({user:Rv,credential:Cv,additionalUserInfo:Ov,operationType:Pv})},xy=function(Rv,Ov){return wy(Rv,Ov),Rv.reload().then(function(){return Rv})};j=by.prototype,j.updateEmail=function(Rv){var Ov=this;return this.b(this.getIdToken().then(function(Pv){return Ov.g.updateEmail(Pv,Rv)}).then(function(Pv){return wy(Ov,Pv),Ov.reload()}))},j.updatePhoneNumber=function(Rv){var Ov=this;return this.b(this.getIdToken().then(function(Pv){return Rv.zc(Ov.g,Pv)}).then(function(Pv){return wy(Ov,Pv),Ov.reload()}))},j.updatePassword=function(Rv){var Ov=this;return this.b(this.getIdToken().then(function(Pv){return Ov.g.updatePassword(Pv,Rv)}).then(function(Pv){return wy(Ov,Pv),Ov.reload()}))},j.updateProfile=function(Rv){if(void 0===Rv.displayName&&void 0===Rv.photoURL)return Ay(this);var Ov=this;return this.b(this.getIdToken().then(function(Pv){return Ov.g.updateProfile(Pv,{displayName:Rv.displayName,photoUrl:Rv.photoURL})}).then(function(Pv){return wy(Ov,Pv),Py(Ov,"displayName",Pv.displayName||null),Py(Ov,"photoURL",Pv.photoUrl||null),xt(Ov.providerData,function(Cv){"password"===Cv.providerId&&(zl(Cv,"displayName",Ov.displayName),zl(Cv,"photoURL",Ov.photoURL))}),Ty(Ov)}).then(Iy))},j.unlink=function(Rv){var Ov=this;return this.b(Cy(this).then(function(Pv){return Vt(Ny(Ov),Rv)?$p(Ov.g,Pv,[Rv]).then(function(Cv){var wv={};return xt(Cv.providerUserInfo||[],function(Dv){wv[Dv.providerId]=!0}),xt(Ny(Ov),function(Dv){wv[Dv]||Oy(Ov,Dv)}),wv[Np.PROVIDER_ID]||zl(Ov,"phoneNumber",null),Ty(Ov)}):Ty(Ov).then(function(){throw new ap("no-such-provider")})}))},j["delete"]=function(){var Rv=this;return this.b(this.getIdToken().then(function(Ov){return Ou(Rv.g,lu,{idToken:Ov})}).then(function(){Rv.dispatchEvent(new fy("userDeleted"))})).then(function(){for(var Ov=0;Ov<Rv.G.length;Ov++)Rv.G[Ov].cancel("app-deleted");Rv.G=[],Rv.Bb=!0,vy(Rv),zl(Rv,"refreshToken",null),Rv.s&&Rv.s.unsubscribe(Rv)})},j.Od=function(Rv,Ov){return"linkViaPopup"==Rv&&(this.ga||null)==Ov&&this.fa||"reauthViaPopup"==Rv&&(this.ga||null)==Ov&&this.fa||"linkViaRedirect"==Rv&&(this.Aa||null)==Ov||"reauthViaRedirect"==Rv&&(this.Aa||null)==Ov},j.Wa=function(Rv,Ov,Pv,Cv){"linkViaPopup"!=Rv&&"reauthViaPopup"!=Rv||Cv!=(this.ga||null)||(Pv&&this.Qa?this.Qa(Pv):Ov&&!Pv&&this.fa&&this.fa(Ov),this.I&&(this.I.cancel(),this.I=null),delete this.fa,delete this.Qa)},j.Db=function(Rv,Ov){return"linkViaPopup"==Rv&&Ov==(this.ga||null)?ut(this.Wd,this):"reauthViaPopup"==Rv&&Ov==(this.ga||null)?ut(this.Xd,this):"linkViaRedirect"==Rv&&(this.Aa||null)==Ov?ut(this.Wd,this):"reauthViaRedirect"==Rv&&(this.Aa||null)==Ov?ut(this.Xd,this):null},j.nc=function(){return Ml(this.uid+":::")},j.linkWithPopup=function(Rv){var Ov=this;return My(this,"linkViaPopup",Rv,function(){return Ly(Ov,Rv.providerId).then(function(){return Ty(Ov)})},!1)},j.reauthenticateWithPopup=function(Rv){return My(this,"reauthViaPopup",Rv,function(){return mr()},!0)};var My=function(Rv,Ov,Pv,Cv,wv){if(!Cl())return yr(new ap("operation-not-supported-in-this-environment"));if(Rv.ma&&!wv)return yr(Rv.ma);var Dv=np(Pv.providerId),Uv=Rv.nc(),Lv=null;(!Ul()||Sl())&&Rv.B&&Pv.isOAuthProvider&&(Lv=Gu(Rv.B,Rv.m,Rv.w,Ov,Pv,null,Uv,firebase.SDK_VERSION||null));var Fv=yl(Lv,Dv&&Dv.Rb,Dv&&Dv.Qb);return Cv=Cv().then(function(){if(By(Rv),!wv)return Rv.getIdToken().then(function(){})}).then(function(){return Rv.s.Sb(Fv,Ov,Pv,Uv,!!Lv)}).then(function(){return new hr(function(xv,Mv){Rv.Wa(Ov,null,new ap("cancelled-popup-request"),Rv.ga||null),Rv.fa=xv,Rv.Qa=Mv,Rv.ga=Uv,Rv.I=Rv.s.$b(Rv,Ov,Fv,Uv)})}).then(function(xv){return Fv&&ml(Fv),xv?Jl(xv):null}).f(function(xv){throw Fv&&ml(Fv),xv}),Rv.b(Cv,wv)};by.prototype.linkWithRedirect=function(Rv){var Ov=this;return jy(this,"linkViaRedirect",Rv,function(){return Ly(Ov,Rv.providerId)},!1)},by.prototype.reauthenticateWithRedirect=function(Rv){return jy(this,"reauthViaRedirect",Rv,function(){return mr()},!0)};var jy=function(Rv,Ov,Pv,Cv,wv){if(!Cl())return yr(new ap("operation-not-supported-in-this-environment"));if(Rv.ma&&!wv)return yr(Rv.ma);var Dv=null,Uv=Rv.nc();return Cv=Cv().then(function(){if(By(Rv),!wv)return Rv.getIdToken().then(function(){})}).then(function(){return Rv.Aa=Uv,Ty(Rv)}).then(function(Lv){return Rv.Ta&&(Lv=Rv.Ta,Lv=Lv.l.set(Gy,Rv.F(),Lv.v)),Lv}).then(function(){return Rv.s.Tb(Ov,Pv,Uv)}).f(function(Lv){if(Dv=Lv,Rv.Ta)return Hy(Rv.Ta);throw Dv}).then(function(){if(Dv)throw Dv}),Rv.b(Cv,wv)},By=function(Rv){if(!Rv.s||!Rv.Ec){if(Rv.s&&!Rv.Ec)throw new ap("internal-error");throw new ap("auth-domain-config-required")}};by.prototype.Wd=function(Rv,Ov){var Pv=this;this.I&&(this.I.cancel(),this.I=null);var Cv=null,wv=this.getIdToken().then(function(Dv){return nu(Pv.g,{requestUri:Rv,sessionId:Ov,idToken:Dv})}).then(function(Dv){return Cv=Fy(Pv,Dv,"link"),xy(Pv,Dv)}).then(function(){return Cv});return this.b(wv)},by.prototype.Xd=function(Rv,Ov){var Pv=this;this.I&&(this.I.cancel(),this.I=null);var Cv=null,wv=mr().then(function(){return cp(au(Pv.g,{requestUri:Rv,sessionId:Ov}),Pv.uid)}).then(function(Dv){return Cv=Fy(Pv,Dv,"reauthenticate"),wy(Pv,Dv),Pv.ma=null,Pv.reload()}).then(function(){return Cv});return this.b(wv,!0)},by.prototype.sendEmailVerification=function(){var Rv=this;return this.b(this.getIdToken().then(function(Ov){return Rv.g.sendEmailVerification(Ov)}).then(function(Ov){if(Rv.email!=Ov)return Rv.reload()}).then(function(){}))},by.prototype.b=function(Rv,Ov){var Pv=this,Cv=Wy(this,Rv,Ov);return this.G.push(Cv),kr(Cv,function(){Kt(Pv.G,Cv)}),Cv};var Wy=function(Rv,Ov,Pv){return Rv.ma&&!Pv?(Ov.cancel(),yr(Rv.ma)):Ov.f(function(Cv){throw Cv&&("auth/user-disabled"==Cv.code||"auth/user-token-expired"==Cv.code)&&(Rv.ma||Rv.dispatchEvent(new fy("userInvalidated")),Rv.ma=Cv),Cv})};by.prototype.toJSON=function(){return this.F()},by.prototype.F=function(){var Rv={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.w,authDomain:this.B,stsTokenManager:this.la.F(),redirectEventId:this.Aa||null};return xt(this.providerData,function(Ov){Rv.providerData.push(Yl(Ov))}),Rv};var Vy=function(Rv){if(!Rv.apiKey)return null;var Ov={apiKey:Rv.apiKey,authDomain:Rv.authDomain,appName:Rv.appName},Pv={};if(Rv.stsTokenManager&&Rv.stsTokenManager.accessToken&&Rv.stsTokenManager.expirationTime)Pv.idToken=Rv.stsTokenManager.accessToken,Pv.refreshToken=Rv.stsTokenManager.refreshToken||null,Pv.expiresIn=(Rv.stsTokenManager.expirationTime-ft())/1E3;else return null;var Cv=new by(Ov,Pv,Rv);return Rv.providerData&&xt(Rv.providerData,function(wv){wv&&Ry(Cv,Jl(wv))}),Rv.redirectEventId&&(Cv.Aa=Rv.redirectEventId),Cv},Ky=function(Rv,Ov,Pv){var Cv=new by(Rv,Ov);return Pv&&(Cv.Ta=Pv),Cv.reload().then(function(){return Cv})},qy=function(Rv){this.v=Rv,this.l=Nm()},Gy={name:"redirectUser",T:!1},Hy=function(Rv){return Rv.l.remove(Gy,Rv.v)},Xy=function(Rv,Ov){return Rv.l.get(Gy,Rv.v).then(function(Pv){return Pv&&Ov&&(Pv.authDomain=Ov),Vy(Pv||{})})},zy=function(Rv){this.v=Rv,this.l=Nm()},Qy={name:"authUser",T:!0},Jy=function(Rv,Ov){return Rv.l.set(Qy,Ov.F(),Rv.v)},Yy=function(Rv){return Rv.l.remove(Qy,Rv.v)},$y=function(Rv,Ov){return Rv.l.get(Qy,Rv.v).then(function(Pv){return Pv&&Ov&&(Pv.authDomain=Ov),Vy(Pv||{})})},Zy=function(Rv){if(this.Ga=!1,zl(this,"app",Rv),this.h().options&&this.h().options.apiKey)Rv=firebase.SDK_VERSION?Rl(firebase.SDK_VERSION):null,this.g=new Up(this.h().options&&this.h().options.apiKey,null,Rv);else throw new ap("invalid-api-key");this.G=[],this.Da=[],this.wb=[],this.uf=firebase.INTERNAL.createSubscribe(ut(this.ff,this)),this.gc=void 0,this.wf=firebase.INTERNAL.createSubscribe(ut(this.hf,this)),av(this,null),Rv=this.h().options.apiKey;var Ov=this.h().name;this.ua=new zy(Rv+":"+Ov),Rv=this.h().options.apiKey,Ov=this.h().name,this.rb=new qy(Rv+":"+Ov),this.ic=this.b(rv(this)),this.ra=this.b(iv(this)),this.xc=!1,this.gd=ut(this.Of,this),this.ze=ut(this.ib,this),this.xb=ut(this.jd,this),this.xe=ut(this.bf,this),this.ye=ut(this.cf,this),tv(this),this.INTERNAL={},this.INTERNAL["delete"]=ut(this["delete"],this),this.Ja=0};Zy.prototype.toJSON=function(){return{apiKey:this.h().options.apiKey,authDomain:this.h().options.authDomain,appName:this.h().name,currentUser:sv(this)&&sv(this).F()}};var ev=function(Rv){return Rv.Qe||yr(new ap("auth-domain-config-required"))},tv=function(Rv){var Ov=Rv.h().options.authDomain,Pv=Rv.h().options.apiKey;Ov&&Cl()&&(Rv.Qe=Rv.ic.then(function(){if(!Rv.Ga)return Rv.s=ty(Ov,Pv,Rv.h().name),Rv.s.subscribe(Rv),sv(Rv)&&Ey(sv(Rv)),Rv.Xb&&(Ey(Rv.Xb),Rv.Xb=null),Rv.s}))};j=Zy.prototype,j.Od=function(Rv,Ov){return"unknown"===Rv||"signInViaRedirect"===Rv||!("signInViaPopup"!==Rv)&&this.ga==Ov&&!!this.fa},j.Wa=function(Rv,Ov,Pv,Cv){"signInViaPopup"==Rv&&this.ga==Cv&&(Pv&&this.Qa?this.Qa(Pv):Ov&&!Pv&&this.fa&&this.fa(Ov),this.I&&(this.I.cancel(),this.I=null),delete this.fa,delete this.Qa)},j.Db=function(Rv,Ov){return"signInViaRedirect"==Rv||"signInViaPopup"==Rv&&this.ga==Ov&&this.fa?ut(this.Se,this):null},j.Se=function(Rv,Ov){var Pv=this;Rv={requestUri:Rv,sessionId:Ov},this.I&&(this.I.cancel(),this.I=null);var Cv=null,wv=null,Dv=tu(Pv.g,Rv).then(function(Uv){return Cv=Op(Uv),wv=vm(Uv),Uv});return Rv=Pv.ic.then(function(){return Dv}).then(function(Uv){return nv(Pv,Uv)}).then(function(){return Jl({user:sv(Pv),credential:Cv,additionalUserInfo:wv,operationType:"signIn"})}),this.b(Rv)},j.nc=function(){return Ml()},j.signInWithPopup=function(Rv){if(!Cl())return yr(new ap("operation-not-supported-in-this-environment"));var Ov=this,Pv=np(Rv.providerId),Cv=this.nc(),wv=null;(!Ul()||Sl())&&this.h().options.authDomain&&Rv.isOAuthProvider&&(wv=Gu(this.h().options.authDomain,this.h().options.apiKey,this.h().name,"signInViaPopup",Rv,null,Cv,firebase.SDK_VERSION||null));var Dv=yl(wv,Pv&&Pv.Rb,Pv&&Pv.Qb),Pv=ev(this).then(function(Uv){return Uv.Sb(Dv,"signInViaPopup",Rv,Cv,!!wv)}).then(function(){return new hr(function(Uv,Lv){Ov.Wa("signInViaPopup",null,new ap("cancelled-popup-request"),Ov.ga),Ov.fa=Uv,Ov.Qa=Lv,Ov.ga=Cv,Ov.I=Ov.s.$b(Ov,"signInViaPopup",Dv,Cv)})}).then(function(Uv){return Dv&&ml(Dv),Uv?Jl(Uv):null}).f(function(Uv){throw Dv&&ml(Dv),Uv});return this.b(Pv)},j.signInWithRedirect=function(Rv){if(!Cl())return yr(new ap("operation-not-supported-in-this-environment"));var Ov=this,Pv=ev(this).then(function(){return Ov.s.Tb("signInViaRedirect",Rv)});return this.b(Pv)},j.getRedirectResult=function(){if(!Cl())return yr(new ap("operation-not-supported-in-this-environment"));var Rv=this,Ov=ev(this).then(function(){return Rv.s.getRedirectResult()}).then(function(Pv){return Pv?Jl(Pv):null});return this.b(Ov)};var nv=function(Rv,Ov){var Pv={apiKey:Rv.h().options.apiKey,authDomain:Rv.h().options.authDomain,appName:Rv.h().name};return Rv.ic.then(function(){return Ky(Pv,Ov,Rv.rb)}).then(function(Cv){return sv(Rv)&&Cv.uid==sv(Rv).uid?(sv(Rv).copy(Cv),Rv.ib(Cv)):(av(Rv,Cv),Ey(Cv),Rv.ib(Cv))}).then(function(){Rv.Oa()})},av=function(Rv,Ov){sv(Rv)&&(ky(sv(Rv),Rv.ze),ro(sv(Rv),"tokenChanged",Rv.xb),ro(sv(Rv),"userDeleted",Rv.xe),ro(sv(Rv),"userInvalidated",Rv.ye),vy(sv(Rv))),Ov&&(Ov.Kc.push(Rv.ze),to(Ov,"tokenChanged",Rv.xb),to(Ov,"userDeleted",Rv.xe),to(Ov,"userInvalidated",Rv.ye),0<Rv.Ja&&yy(Ov)),zl(Rv,"currentUser",Ov)};Zy.prototype.signOut=function(){var Rv=this,Ov=this.ra.then(function(){return sv(Rv)?(av(Rv,null),Yy(Rv.ua).then(function(){Rv.Oa()})):mr()});return this.b(Ov)};var ov=function(Rv){var Ov=Rv.h().options.authDomain,Ov=Xy(Rv.rb,Ov).then(function(Pv){return(Rv.Xb=Pv)&&(Pv.Ta=Rv.rb),Hy(Rv.rb)});return Rv.b(Ov)},rv=function(Rv){var Ov=Rv.h().options.authDomain,Pv=ov(Rv).then(function(){return $y(Rv.ua,Ov)}).then(function(Cv){return Cv?(Cv.Ta=Rv.rb,Rv.Xb&&(Rv.Xb.Aa||null)==(Cv.Aa||null)?Cv:Cv.reload().then(function(){return Jy(Rv.ua,Cv).then(function(){return Cv})}).f(function(wv){return"auth/network-request-failed"==wv.code?Cv:Yy(Rv.ua)})):null}).then(function(Cv){av(Rv,Cv||null)});return Rv.b(Pv)},iv=function(Rv){return Rv.ic.then(function(){return Rv.getRedirectResult()}).f(function(){}).then(function(){if(!Rv.Ga)return Rv.gd()}).f(function(){}).then(function(){if(!Rv.Ga){Rv.xc=!0;var Ov=Rv.ua;Ov.l.addListener(Qy,Ov.v,Rv.gd)}})};j=Zy.prototype,j.Of=function(){var Rv=this,Ov=this.h().options.authDomain;return $y(this.ua,Ov).then(function(Pv){if(!Rv.Ga){var Cv;if(Cv=sv(Rv)&&Pv){Cv=sv(Rv).uid;var wv=Pv.uid;Cv=void 0===Cv||null===Cv||""===Cv||void 0===wv||null===wv||""===wv?!1:Cv==wv}if(Cv)return sv(Rv).copy(Pv),sv(Rv).getIdToken();(sv(Rv)||Pv)&&(av(Rv,Pv),Pv&&(Ey(Pv),Pv.Ta=Rv.rb),Rv.s&&Rv.s.subscribe(Rv),Rv.Oa())}})},j.ib=function(Rv){return Jy(this.ua,Rv)},j.jd=function(){this.Oa(),this.ib(sv(this))},j.bf=function(){this.signOut()},j.cf=function(){this.signOut()};var dv=function(Rv,Ov){var Pv=null,Cv=null;return Rv.b(Ov.then(function(wv){return Pv=Op(wv),Cv=vm(wv),nv(Rv,wv)}).then(function(){return Jl({user:sv(Rv),credential:Pv,additionalUserInfo:Cv,operationType:"signIn"})}))};j=Zy.prototype,j.ff=function(Rv){var Ov=this;this.addAuthTokenListener(function(){Rv.next(sv(Ov))})},j.hf=function(Rv){var Ov=this;cv(this,function(){Rv.next(sv(Ov))})},j.onIdTokenChanged=function(Rv,Ov,Pv){var Cv=this;return this.xc&&firebase.Promise.resolve().then(function(){st(Rv)?Rv(sv(Cv)):st(Rv.next)&&Rv.next(sv(Cv))}),this.uf(Rv,Ov,Pv)},j.onAuthStateChanged=function(Rv,Ov,Pv){var Cv=this;return this.xc&&firebase.Promise.resolve().then(function(){Cv.gc=Cv.getUid(),st(Rv)?Rv(sv(Cv)):st(Rv.next)&&Rv.next(sv(Cv))}),this.wf(Rv,Ov,Pv)},j.getIdToken=function(Rv){var Ov=this,Pv=this.ra.then(function(){return sv(Ov)?sv(Ov).getIdToken(Rv).then(function(Cv){return{accessToken:Cv}}):null});return this.b(Pv)},j.signInWithCustomToken=function(Rv){var Ov=this;return this.ra.then(function(){return dv(Ov,Ou(Ov.g,Su,{token:Rv}))}).then(function(Pv){return Pv=Pv.user,Py(Pv,"isAnonymous",!1),Ov.ib(Pv)}).then(function(){return sv(Ov)})},j.signInWithEmailAndPassword=function(Rv,Ov){var Pv=this;return this.ra.then(function(){return dv(Pv,Ou(Pv.g,Iu,{email:Rv,password:Ov}))}).then(function(Cv){return Cv.user})},j.createUserWithEmailAndPassword=function(Rv,Ov){var Pv=this;return this.ra.then(function(){return dv(Pv,Ou(Pv.g,du,{email:Rv,password:Ov}))}).then(function(Cv){return Cv.user})},j.signInWithCredential=function(Rv){return this.signInAndRetrieveDataWithCredential(Rv).then(function(Ov){return Ov.user})},j.signInAndRetrieveDataWithCredential=function(Rv){var Ov=this;return this.ra.then(function(){return dv(Ov,Rv.Eb(Ov.g))})},j.signInAnonymously=function(){var Rv=this;return this.ra.then(function(){var Ov=sv(Rv);return Ov&&Ov.isAnonymous?Ov:dv(Rv,Rv.g.signInAnonymously()).then(function(Pv){return Pv=Pv.user,Py(Pv,"isAnonymous",!0),Rv.ib(Pv)}).then(function(){return sv(Rv)})})},j.h=function(){return this.app};var sv=function(Rv){return Rv.currentUser};Zy.prototype.getUid=function(){return sv(this)&&sv(this).uid||null};var lv=function(Rv){return sv(Rv)&&sv(Rv)._lat||null};j=Zy.prototype,j.Oa=function(){if(this.xc){for(var Rv=0;Rv<this.Da.length;Rv++)this.Da[Rv]&&this.Da[Rv](lv(this));if(this.gc!==this.getUid()&&this.wb.length)for(this.gc=this.getUid(),Rv=0;Rv<this.wb.length;Rv++)this.wb[Rv]&&this.wb[Rv](lv(this))}},j.Ie=function(Rv){this.addAuthTokenListener(Rv),this.Ja++,0<this.Ja&&sv(this)&&yy(sv(this))},j.Cf=function(Rv){var Ov=this;xt(this.Da,function(Pv){Pv==Rv&&Ov.Ja--}),0>this.Ja&&(this.Ja=0),0==this.Ja&&sv(this)&&vy(sv(this)),this.removeAuthTokenListener(Rv)},j.addAuthTokenListener=function(Rv){var Ov=this;this.Da.push(Rv),this.b(this.ra.then(function(){Ov.Ga||Vt(Ov.Da,Rv)&&Rv(lv(Ov))}))},j.removeAuthTokenListener=function(Rv){Gt(this.Da,function(Ov){return Ov==Rv})};var cv=function(Rv,Ov){Rv.wb.push(Ov),Rv.b(Rv.ra.then(function(){!Rv.Ga&&Vt(Rv.wb,Ov)&&Rv.gc!==Rv.getUid()&&(Rv.gc=Rv.getUid(),Ov(lv(Rv)))}))};j=Zy.prototype,j["delete"]=function(){this.Ga=!0;for(var Rv=0;Rv<this.G.length;Rv++)this.G[Rv].cancel("app-deleted");return this.G=[],this.ua&&(Rv=this.ua,Rv.l.removeListener(Qy,Rv.v,this.gd)),this.s&&this.s.unsubscribe(this),firebase.Promise.resolve()},j.b=function(Rv){var Ov=this;return this.G.push(Rv),kr(Rv,function(){Kt(Ov.G,Rv)}),Rv},j.fetchProvidersForEmail=function(Rv){return this.b(Xp(this.g,Rv))},j.verifyPasswordResetCode=function(Rv){return this.checkActionCode(Rv).then(function(Ov){return Ov.data.email})},j.confirmPasswordReset=function(Rv,Ov){return this.b(this.g.confirmPasswordReset(Rv,Ov).then(function(){}))},j.checkActionCode=function(Rv){return this.b(this.g.checkActionCode(Rv).then(function(Ov){return new bm(Ov)}))},j.applyActionCode=function(Rv){return this.b(this.g.applyActionCode(Rv).then(function(){}))},j.sendPasswordResetEmail=function(Rv){return this.b(this.g.sendPasswordResetEmail(Rv).then(function(){}))},j.signInWithPhoneNumber=function(Rv,Ov){return this.b(fm(this,Rv,Ov,ut(this.signInAndRetrieveDataWithCredential,this)))};var pv="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),uv=function(Rv,Ov){return{name:Rv||"",N:"a valid string",optional:!!Ov,O:et}},hv=function(){return{name:"opt_forceRefresh",N:"a boolean",optional:!0,O:tt}},fv=function(Rv,Ov){return{name:Rv||"",N:"a valid object",optional:!!Ov,O:lt}},bv=function(Rv,Ov){return{name:Rv||"",N:"a function",optional:!!Ov,O:st}},gv=function(){return{name:"",N:"null",optional:!1,O:rt}},mv=function(){return{name:"",N:"an HTML element",optional:!1,O:function(Rv){return!!(Rv&&Rv instanceof Element)}}},yv=function(){return{name:"auth",N:"an instance of Firebase Auth",optional:!0,O:function(Rv){return!!(Rv&&Rv instanceof Zy)}}},vv=function(){return{name:"app",N:"an instance of Firebase App",optional:!0,O:function(Rv){return!!(Rv&&Rv instanceof firebase.app.App)}}},_v=function(Rv){return{name:Rv?Rv+"Credential":"credential",N:Rv?"a valid "+Rv+" credential":"a valid credential",optional:!1,O:function(Ov){if(!Ov)return!1;var Pv=!Rv||Ov.providerId===Rv;return Ov.Eb&&Pv}}},kv=function(){return{name:"authProvider",N:"a valid Auth provider",optional:!1,O:function(Rv){return!!(Rv&&Rv.providerId&&Rv.hasOwnProperty&&Rv.hasOwnProperty("isOAuthProvider"))}}},Tv=function(){return{name:"applicationVerifier",N:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,O:function(Rv){return!!(Rv&&et(Rv.type)&&st(Rv.verify))}}},Ev=function(Rv,Ov,Pv,Cv){return{name:Pv||"",N:Rv.N+" or "+Ov.N,optional:!!Cv,O:function(wv){return Rv.O(wv)||Ov.O(wv)}}},Sv=function(Rv,Ov){for(var Pv in Ov){var Cv=Ov[Pv].name;Rv[Cv]=Av(Cv,Rv[Pv],Ov[Pv].a)}},Iv=function(Rv,Ov,Pv,Cv){Rv[Ov]=Av(Ov,Pv,Cv)},Av=function(Rv,Ov,Pv){if(!Pv)return Ov;var Cv=Nv(Rv);for(var wv in Rv=function(){var Dv=Array.prototype.slice.call(arguments);a:{for(var Uv=Array.prototype.slice.call(Dv),Lv=0,Fv=!1,xv=0;xv<Pv.length;xv++)if(Pv[xv].optional)Fv=!0;else{if(Fv)throw new ap("internal-error","Argument validator encountered a required argument after an optional argument.");Lv++}if(Fv=Pv.length,Uv.length<Lv||Fv<Uv.length)Uv="Expected "+(Lv==Fv?1==Lv?"1 argument":Lv+" arguments":Lv+"-"+Fv+" arguments")+" but got "+Uv.length+".";else{for(Lv=0;Lv<Uv.length;Lv++)if(Fv=Pv[Lv].optional&&void 0===Uv[Lv],!Pv[Lv].O(Uv[Lv])&&!Fv){if(Uv=Pv[Lv],0>Lv||Lv>=pv.length)throw new ap("internal-error","Argument validator received an unsupported number of arguments.");Uv=pv[Lv]+" argument "+(Uv.name?"\""+Uv.name+"\" ":"")+"must be "+Uv.N+".";break a}Uv=null}}if(Uv)throw new ap("argument-error",Cv+" failed: "+Uv);return Ov.apply(this,Dv)},Ov)Rv[wv]=Ov[wv];for(wv in Ov.prototype)Rv.prototype[wv]=Ov.prototype[wv];return Rv},Nv=function(Rv){return Rv=Rv.split("."),Rv[Rv.length-1]};Sv(Zy.prototype,{applyActionCode:{name:"applyActionCode",a:[uv("code")]},checkActionCode:{name:"checkActionCode",a:[uv("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[uv("code"),uv("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[uv("email"),uv("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[uv("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Ev(fv(),bv(),"nextOrObserver"),bv("opt_error",!0),bv("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[Ev(fv(),bv(),"nextOrObserver"),bv("opt_error",!0),bv("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[uv("email")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[_v()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[_v()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[uv("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[uv("email"),uv("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[uv("phoneNumber"),Tv()]},signInWithPopup:{name:"signInWithPopup",a:[kv()]},signInWithRedirect:{name:"signInWithRedirect",a:[kv()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[uv(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[uv("code")]}}),Sv(by.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[hv()]},getToken:{name:"getToken",a:[hv()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[_v()]},linkWithCredential:{name:"linkWithCredential",a:[_v()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[uv("phoneNumber"),Tv()]},linkWithPopup:{name:"linkWithPopup",a:[kv()]},linkWithRedirect:{name:"linkWithRedirect",a:[kv()]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[_v()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[_v()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[uv("phoneNumber"),Tv()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[kv()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[kv()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[uv(null,!0)]},unlink:{name:"unlink",a:[uv("provider")]},updateEmail:{name:"updateEmail",a:[uv("email")]},updatePassword:{name:"updatePassword",a:[uv("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[_v("phone")]},updateProfile:{name:"updateProfile",a:[fv("profile")]}}),Sv(hr.prototype,{f:{name:"catch"},then:{name:"then"}}),Sv(hm.prototype,{confirm:{name:"confirm",a:[uv("verificationCode")]}}),Iv(Sp,"credential",function(Rv,Ov){return new Ep(Rv,Ov)},[uv("email"),uv("password")]),Sv(bp.prototype,{addScope:{name:"addScope",a:[uv("scope")]},setCustomParameters:{name:"setCustomParameters",a:[fv("customOAuthParameters")]}}),Iv(bp,"credential",gp,[Ev(uv(),fv(),"token")]),Sv(mp.prototype,{addScope:{name:"addScope",a:[uv("scope")]},setCustomParameters:{name:"setCustomParameters",a:[fv("customOAuthParameters")]}}),Iv(mp,"credential",yp,[Ev(uv(),fv(),"token")]),Sv(vp.prototype,{addScope:{name:"addScope",a:[uv("scope")]},setCustomParameters:{name:"setCustomParameters",a:[fv("customOAuthParameters")]}}),Iv(vp,"credential",_p,[Ev(uv(),Ev(fv(),gv()),"idToken"),Ev(uv(),gv(),"accessToken",!0)]),Sv(kp.prototype,{setCustomParameters:{name:"setCustomParameters",a:[fv("customOAuthParameters")]}}),Iv(kp,"credential",Tp,[Ev(uv(),fv(),"token"),uv("secret",!0)]),Sv(fp.prototype,{addScope:{name:"addScope",a:[uv("scope")]},credential:{name:"credential",a:[Ev(uv(),gv(),"idToken",!0),Ev(uv(),gv(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[fv("customOAuthParameters")]}}),Iv(Np,"credential",Rp,[uv("verificationId"),uv("verificationCode")]),Sv(Np.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[uv("phoneNumber"),Tv()]}}),Sv(ap.prototype,{toJSON:{name:"toJSON",a:[uv(null,!0)]}}),Sv(Cp.prototype,{toJSON:{name:"toJSON",a:[uv(null,!0)]}}),Sv(sp.prototype,{toJSON:{name:"toJSON",a:[uv(null,!0)]}}),Sv(zu.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if("undefined"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var Rv={Auth:Zy,Error:ap};Iv(Rv,"EmailAuthProvider",Sp,[]),Iv(Rv,"FacebookAuthProvider",bp,[]),Iv(Rv,"GithubAuthProvider",mp,[]),Iv(Rv,"GoogleAuthProvider",vp,[]),Iv(Rv,"TwitterAuthProvider",kp,[]),Iv(Rv,"OAuthProvider",fp,[uv("providerId")]),Iv(Rv,"PhoneAuthProvider",Np,[yv()]),Iv(Rv,"RecaptchaVerifier",zu,[Ev(uv(),mv(),"recaptchaContainer"),fv("recaptchaParameters",!0),vv()]),firebase.INTERNAL.registerService("auth",function(Ov,Pv){return Ov=new Zy(Ov),Pv({INTERNAL:{getUid:ut(Ov.getUid,Ov),getToken:ut(Ov.getIdToken,Ov),addAuthTokenListener:ut(Ov.Ie,Ov),removeAuthTokenListener:ut(Ov.Cf,Ov)}}),Ov},Rv,function(Ov,Pv){if("create"===Ov)try{Pv.auth()}catch(Cv){}}),firebase.INTERNAL.extendNamespace({User:by})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).call(this),function(){function n(j){return void 0!==j}function ba(){}function ca(j){j.Vb=function(){return j.Ye?j.Ye:j.Ye=new j}}function da(j){var $=typeof j;if("object"==$){if(j){if(j instanceof Array)return"array";if(j instanceof Object)return $;var _e=Object.prototype.toString.call(j);if("[object Window]"==_e)return"object";if("[object Array]"==_e||"number"==typeof j.length&&"undefined"!=typeof j.splice&&"undefined"!=typeof j.propertyIsEnumerable&&!j.propertyIsEnumerable("splice"))return"array";if("[object Function]"==_e||"undefined"!=typeof j.call&&"undefined"!=typeof j.propertyIsEnumerable&&!j.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==$&&"undefined"==typeof j.call)return"object";return $}function ea(j){return"array"==da(j)}function fa(j){var $=da(j);return"array"==$||"object"==$&&"number"==typeof j.length}function p(j){return"string"==typeof j}function ga(j){return"number"==typeof j}function ha(j){return"function"==da(j)}function ia(j){var $=typeof j;return"object"==$&&null!=j||"function"==$}function ja(j){return j.call.apply(j.bind,arguments)}function ka(j,$){if(!j)throw Error();if(2<arguments.length){var et=Array.prototype.slice.call(arguments,2);return function(){var tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(tt,et),j.apply($,tt)}}return function(){return j.apply($,arguments)}}function q(){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function la(j,$){function _e(){}_e.prototype=$.prototype,j.wg=$.prototype,j.prototype=new _e,j.prototype.constructor=j,j.sg=function(et,tt){for(var at=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)at[ot-2]=arguments[ot];return $.prototype[tt].apply(et,at)}}function ma(a){if(a+="",/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(j){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(j,$,_e){switch(typeof $){case"string":pa($,_e);break;case"number":_e.push(isFinite($)&&!isNaN($)?$:"null");break;case"boolean":_e.push($);break;case"undefined":_e.push("null");break;case"object":if(null==$){_e.push("null");break}if(ea($)){var et=$.length;_e.push("[");for(var tt="",nt=0;nt<et;nt++)_e.push(tt),tt=$[nt],oa(j,j.Fd?j.Fd.call($,nt+"",tt):tt,_e),tt=",";_e.push("]");break}for(nt in _e.push("{"),et="",$)Object.prototype.hasOwnProperty.call($,nt)&&(tt=$[nt],"function"!=typeof tt&&(_e.push(et),pa(nt,_e),_e.push(":"),oa(j,j.Fd?j.Fd.call($,nt,tt):tt,_e),et=","));_e.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof $);}}function pa(j,$){$.push("\"",j.replace(ra,function(_e){if(_e in qa)return qa[_e];var et=_e.charCodeAt(0),tt="\\u";return 16>et?tt+="000":256>et?tt+="00":4096>et&&(tt+="0"),qa[_e]=tt+et.toString(16)}),"\"")}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var j=1;j<this.Wa;++j)this.zd[j]=0;this.Pd=this.$b=0,this.reset()}function ua(j,$,_e){_e||(_e=0);var et=j.Af;if(p($))for(var tt=0;16>tt;tt++)et[tt]=$.charCodeAt(_e)<<24|$.charCodeAt(_e+1)<<16|$.charCodeAt(_e+2)<<8|$.charCodeAt(_e+3),_e+=4;else for(tt=0;16>tt;tt++)et[tt]=$[_e]<<24|$[_e+1]<<16|$[_e+2]<<8|$[_e+3],_e+=4;for(tt=16;80>tt;tt++){var nt=et[tt-3]^et[tt-8]^et[tt-14]^et[tt-16];et[tt]=4294967295&(nt<<1|nt>>>31)}$=j.M[0],_e=j.M[1];for(var at=j.M[2],ot=j.M[3],rt=j.M[4],tt=0,it;80>tt;tt++)40>tt?20>tt?(nt=ot^_e&(at^ot),it=1518500249):(nt=_e^at^ot,it=1859775393):60>tt?(nt=_e&at|ot&(_e|at),it=2400959708):(nt=_e^at^ot,it=3395469782),nt=4294967295&($<<5|$>>>27)+nt+rt+it+et[tt],rt=ot,ot=at,at=4294967295&(_e<<30|_e>>>2),_e=$,$=nt;j.M[0]=4294967295&j.M[0]+$,j.M[1]=4294967295&j.M[1]+_e,j.M[2]=4294967295&j.M[2]+at,j.M[3]=4294967295&j.M[3]+ot,j.M[4]=4294967295&j.M[4]+rt}function Da(j,$){var _e=Ea(j,$,void 0);return 0>_e?null:p(j)?j.charAt(_e):j[_e]}function Ea(j,$,_e){for(var et=j.length,tt=p(j)?j.split(""):j,nt=0;nt<et;nt++)if(nt in tt&&$.call(_e,tt[nt],nt,j))return nt;return-1}function Fa(j,$){var _e=xa(j,$);0<=_e&&t.splice.call(j,_e,1)}function Ga(j,$,_e){return 2>=arguments.length?t.slice.call(j,$):t.slice.call(j,$,_e)}function Ha(j,$){j.sort($||Ia)}function Ia(j,$){return j>$?1:j<$?-1:0}function v(j,$){for(var _e in j)$.call(void 0,j[_e],_e,j)}function Ja(j,$){var _e={},et;for(et in j)_e[et]=$.call(void 0,j[et],et,j);return _e}function Ka(j,$){for(var _e in j)if(!$.call(void 0,j[_e],_e,j))return!1;return!0}function La(j){var $=0,_e;for(_e in j)$++;return $}function Ma(j){for(var $ in j)return $}function Na(j){var $=[],_e=0,et;for(et in j)$[_e++]=j[et];return $}function Oa(j){var $=[],_e=0,et;for(et in j)$[_e++]=et;return $}function Pa(j,$){for(var _e in j)if(j[_e]==$)return!0;return!1}function Qa(j,$,_e){for(var et in j)if($.call(_e,j[et],et,j))return et}function Ra(j,$){var _e=Qa(j,$,void 0);return _e&&j[_e]}function Sa(j){for(var $ in j)return!1;return!0}function Ta(j){var $={},_e;for(_e in j)$[_e]=j[_e];return $}function ab(j,$){if(!fa(j))throw Error("encodeByteArray takes an array as a parameter");bb();for(var _e=$?Za:Ya,et=[],tt=0;tt<j.length;tt+=3){var nt=j[tt],at=tt+1<j.length,ot=at?j[tt+1]:0,rt=tt+2<j.length,it=rt?j[tt+2]:0,nt=(3&nt)<<4|ot>>4,ot=(15&ot)<<2|it>>6,it=63&it;rt||(it=64,at||(ot=64)),et.push(_e[nt>>2],_e[nt],_e[ot],_e[it])}return et.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var j=0;65>j;j++)Ya[j]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j),Za[j]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(j),$a[Za[j]]=j,62<=j&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)]=j)}}function cb(j,$){if(!j)throw db($)}function db(j){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)}function eb(j,$){return Object.prototype.hasOwnProperty.call(j,$)}function w(j,$){if(Object.prototype.hasOwnProperty.call(j,$))return j[$]}function fb(j,$){for(var _e in j)Object.prototype.hasOwnProperty.call(j,_e)&&$(_e,j[_e])}function gb(j){var $=[];return fb(j,function(_e,et){ea(et)?ya(et,function(tt){$.push(encodeURIComponent(_e)+"="+encodeURIComponent(tt))}):$.push(encodeURIComponent(_e)+"="+encodeURIComponent(et))}),$.length?"&"+$.join("&"):""}function ib(){var j=this;this.reject=this.resolve=null,this.ra=new hb(function($,_e){j.resolve=$,j.reject=_e})}function jb(j,$){return function(_e,et){_e?j.reject(_e):j.resolve(et),ha($)&&(kb(j.ra),1===$.length?$(_e):$(_e,et))}}function kb(j){j.then(void 0,ba)}function lb(j){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(j):ma(j)}function x(j){if("undefined"!==typeof JSON&&n(JSON.stringify))j=JSON.stringify(j);else{var $=[];oa(new na,j,$),j=$.join("")}return j}function mb(j){for(var $=[],_e=0,et=0,tt;et<j.length;et++)tt=j.charCodeAt(et),55296<=tt&&56319>=tt&&(tt-=55296,et++,cb(et<j.length,"Surrogate pair missing trail surrogate."),tt=65536+(tt<<10)+(j.charCodeAt(et)-56320)),128>tt?$[_e++]=tt:(2048>tt?$[_e++]=192|tt>>6:(65536>tt?$[_e++]=224|tt>>12:($[_e++]=240|tt>>18,$[_e++]=128|63&tt>>12),$[_e++]=128|63&tt>>6),$[_e++]=128|63&tt);return $}function nb(j){for(var $=0,_e=0,et;_e<j.length;_e++)et=j.charCodeAt(_e),128>et?$++:2048>et?$+=2:55296<=et&&56319>=et?($+=4,_e++):$+=3;return $}function y(j,$,_e,et){var tt;if(et<$?tt="at least "+$:et>_e&&(tt=0===_e?"none":"no more than "+_e),tt)throw Error(j+" failed: Was called with "+et+(1===et?" argument.":" arguments.")+" Expects "+tt+".")}function A(j,$,_e){var et="";switch($){case 1:et=_e?"first":"First";break;case 2:et=_e?"second":"Second";break;case 3:et=_e?"third":"Third";break;case 4:et=_e?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return j=j+" failed: "+(et+" argument ")}function B(j,$,_e,et){if((!et||n(_e))&&!ha(_e))throw Error(A(j,$,et)+"must be a valid function.")}function ob(j,$,_e){if(n(_e)&&(!ia(_e)||null===_e))throw Error(A(j,$,!0)+"must be a valid context object.")}function pb(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"")}function C(j,$){this.name=j,this.R=$}function qb(j,$){return new C(j,$)}function rb(j,$){return sb(j.name,$.name)}function tb(j,$){return sb(j,$)}function ub(j){this.uc=j,this.Cd="firebase:"}function vb(){this.pc={}}function wb(j){try{if("undefined"!==typeof window&&"undefined"!==typeof window[j]){var $=window[j];return $.setItem("firebase:sentinel","cache"),$.removeItem("firebase:sentinel"),new ub($)}}catch(_e){}return new vb}function zb(j,$,_e,et,tt){this.host=j.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=$,this.pe=_e,this.qg=et,this.gf=tt||"",this.$a=xb.get("host:"+j)||this.host}function Ab(j,$){$!==j.$a&&(j.$a=$,"s-"===j.$a.substr(0,2)&&xb.set("host:"+j.host,j.$a))}function Bb(j,$,_e){if(D("string"===typeof $,"typeof type must == string"),D("object"===typeof _e,"typeof params must == object"),$===Cb)$=(j.Sc?"wss://":"ws://")+j.$a+"/.ws?";else if($===Db)$=(j.Sc?"https://":"http://")+j.$a+"/.lp?";else throw Error("Unknown connection type: "+$);j.host!==j.$a&&(_e.ns=j.pe);var et=[];return v(_e,function(tt,nt){et.push(nt+"="+tt)}),$+et.join("&")}function Eb(j,$){return j&&"object"===typeof j?(D(".sv"in j,"Unexpected leaf node or priority contents"),$[j[".sv"]]):j}function Fb(j,$){var _e=new Gb;return Hb(j,new E(""),function(et,tt){Ib(_e,et,Jb(tt,$))}),_e}function Jb(j,$){var _e=j.C().H(),_e=Eb(_e,$),et;if(j.J()){var tt=Eb(j.Ca(),$);return tt!==j.Ca()||_e!==j.C().H()?new Kb(tt,G(_e)):j}return et=j,_e!==j.C().H()&&(et=et.fa(new Kb(_e))),j.O(H,function(nt,at){var ot=Jb(at,$);ot!==at&&(et=et.T(nt,ot))}),et}function Nb(j){try{var $;bb();for(var _e=$a,et=[],tt=0;tt<j.length;){var nt=_e[j.charAt(tt++)],at=tt<j.length?_e[j.charAt(tt)]:0;++tt;var ot=tt<j.length?_e[j.charAt(tt)]:64;++tt;var rt=tt<j.length?_e[j.charAt(tt)]:64;if(++tt,null==nt||null==at||null==ot||null==rt)throw Error();et.push(nt<<2|at>>4),64!=ot&&(et.push(240&at<<4|ot>>2),64!=rt&&et.push(192&ot<<6|rt))}if(8192>et.length)$=String.fromCharCode.apply(null,et);else{for(j="",_e=0;_e<et.length;_e+=8192)j+=String.fromCharCode.apply(null,Ga(et,_e,_e+8192));$=j}return $}catch(it){I("base64Decode failed: ",it)}return null}function Ob(j){var $=mb(j);j=new ta,j.update($);var $=[],_e=8*j.Pd;56>j.$b?j.update(j.zd,56-j.$b):j.update(j.zd,j.Wa-(j.$b-56));for(var et=j.Wa-1;56<=et;et--)j.Wd[et]=255&_e,_e/=256;for(ua(j,j.Wd),et=_e=0;5>et;et++)for(var tt=24;0<=tt;tt-=8)$[_e]=255&j.M[et]>>tt,++_e;return ab($)}function Pb(){for(var $="",_e=0;_e<arguments.length;_e++)$=fa(arguments[_e])?$+Pb.apply(null,arguments[_e]):"object"===typeof arguments[_e]?$+x(arguments[_e]):$+arguments[_e],$+=" ";return $}function Sb(j,$){cb(!$||!0===j||!1===j,"Can't turn on custom loggers persistently."),!0===j?("undefined"!==typeof console&&("function"===typeof console.log?Qb=q(console.log,console):"object"===typeof console.log&&(Qb=function(_e){console.log(_e)})),$&&yb.set("logging_enabled",!0)):ha(j)?Qb=j:(Qb=null,yb.remove("logging_enabled"))}function I(){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var $=Pb.apply(null,arguments);Qb($)}}function Tb(j){return function(){I(j,arguments)}}function Ub(){if("undefined"!==typeof console){var $="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);"undefined"===typeof console.error?console.log($):console.error($)}}function Vb(){var $=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+$)}function J(){if("undefined"!==typeof console){var $="FIREBASE WARNING: "+Pb.apply(null,arguments);"undefined"===typeof console.warn?console.log($):console.warn($)}}function Wb(j){var at=j,$,_e,et,tt,nt;if(nt=_e=j=$="",et=!0,tt="https",p(at)){var ot=at.indexOf("//");for(0<=ot&&(tt=at.substring(0,ot-1),at=at.substring(ot+2)),ot=at.indexOf("/"),-1===ot&&(ot=at.length),$=at.substring(0,ot),nt="",at=at.substring(ot).split("/"),ot=0;ot<at.length;ot++)if(0<at[ot].length){var rt=at[ot];try{rt=decodeURIComponent(rt.replace(/\+/g," "))}catch(it){}nt+="/"+rt}at=$.split("."),3===at.length?(j=at[1],_e=at[0].toLowerCase()):2===at.length&&(j=at[0]),ot=$.indexOf(":"),0<=ot&&(et="https"===tt||"wss"===tt)}return"firebase"===j&&Vb($+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),_e&&"undefined"!=_e||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),et||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb($,et,_e,"ws"===tt||"wss"===tt),path:new E(nt)}}function Xb(j){return ga(j)&&(j!=j||j==Number.POSITIVE_INFINITY||j==Number.NEGATIVE_INFINITY)}function Yb(j){if("complete"===document.readyState)j();else{var $=!1,_e=function(){document.body?$||($=!0,j()):setTimeout(_e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",_e,!1),window.addEventListener("load",_e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&_e()}),window.attachEvent("onload",_e))}}function sb(j,$){if(j===$)return 0;if("[MIN_NAME]"===j||"[MAX_NAME]"===$)return-1;if("[MIN_NAME]"===$||"[MAX_NAME]"===j)return 1;var _e=Zb(j),et=Zb($);return null===_e?null===et?j<$?-1:1:1:null===et?-1:0==_e-et?j.length-$.length:_e-et}function $b(j,$){if($&&j in $)return $[j];throw Error("Missing required key ("+j+") in object: "+x($))}function ac(j){if("object"!==typeof j||null===j)return x(j);var $=[],_e;for(_e in j)$.push(_e);$.sort(),_e="{";for(var et=0;et<$.length;et++)0!==et&&(_e+=","),_e+=x($[et]),_e+=":",_e+=ac(j[$[et]]);return _e+"}"}function bc(j,$){if(j.length<=$)return[j];for(var _e=[],et=0;et<j.length;et+=$)et+$>j?_e.push(j.substring(et,j.length)):_e.push(j.substring(et,et+$));return _e}function cc(j,$){if(ea(j))for(var _e=0;_e<j.length;++_e)$(_e,j[_e]);else v(j,$)}function dc(j){D(!Xb(j),"Invalid JSON number");var $,_e,et,tt;for(0===j?(et=_e=0,$=-Infinity===1/j?1:0):($=0>j,j=Math.abs(j),j>=Math.pow(2,-1022)?(et=Math.min(Math.floor(Math.log(j)/Math.LN2),1023),_e=et+1023,et=Math.round(j*Math.pow(2,52-et)-Math.pow(2,52))):(_e=0,et=Math.round(j/Math.pow(2,-1074)))),tt=[],j=52;j;--j)tt.push(et%2?1:0),et=Math.floor(et/2);for(j=11;j;--j)tt.push(_e%2?1:0),_e=Math.floor(_e/2);for(tt.push($?1:0),tt.reverse(),$=tt.join(""),_e="",j=0;64>j;j+=8)et=parseInt($.substr(j,8),2).toString(16),1===et.length&&(et="0"+et),_e+=et;return _e.toLowerCase()}function Zb(j){return ec.test(j)&&(j=+j,-2147483648<=j&&2147483647>=j)?j:null}function fc(j){try{j()}catch($){setTimeout(function(){throw J("Exception was thrown by user callback.",$.stack||""),$},Math.floor(0))}}function gc(j,$,_e){Object.defineProperty(j,$,{get:_e})}function hc(j,$){var _e=setTimeout(j,$);return"object"===typeof _e&&_e.unref&&_e.unref(),_e}function ic(j){var $={},_e={},et={},tt="";try{var nt=j.split("."),$=lb(Nb(nt[0])||""),_e=lb(Nb(nt[1])||""),tt=nt[2],et=_e.d||{};delete _e.d}catch(at){}return{tg:$,Je:_e,data:et,mg:tt}}function jc(j){j=ic(j);var $=j.Je;return!!j.mg&&!!$&&"object"===typeof $&&$.hasOwnProperty("iat")}function kc(j){return j=ic(j).Je,"object"===typeof j&&!0===w(j,"admin")}function lc(){}function nc(j){return q(j.compare,j)}function pc(j){D(!j.e()&&".priority"!==K(j),"Can't create PathIndex with empty path or .priority key"),this.bc=j}function rc(){}function sc(){}function uc(){}function xc(j,$){this.od=j,this.cc=$}function yc(j,$,_e){var et=Ja(j.od,function(tt,nt){var at=w(j.cc,nt);if(D(at,"Missing index implementation for "+nt),tt===mc){if(at.xc($.R)){for(var ot=[],rt=_e.Wb(qb),it=M(rt);it;)it.name!=$.name&&ot.push(it),it=M(rt);return ot.push($),zc(ot,nc(at))}return mc}return at=_e.get($.name),ot=tt,at&&(ot=ot.remove(new C($.name,at))),ot.Oa($,$.R)});return new xc(et,j.cc)}function Ac(j,$,_e){var et=Ja(j.od,function(tt){if(tt===mc)return tt;var nt=_e.get($.name);return nt?tt.remove(new C($.name,nt)):tt});return new xc(et,j.cc)}function Kb(j,$){this.B=j,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=$||L,Cc(this.aa),this.Db=null}function Gc(){this.set={}}function Hc(j,$){v(j.set,function(_e,et){$(et,_e)})}function Ic(j){D(ea(j)&&0<j.length,"Requires a non-empty array"),this.Bf=j,this.Dc={}}function Jc(j,$){D(Da(j.Bf,function(_e){return _e===$}),"Unknown event: "+$)}function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&!pb()){var j=this;window.addEventListener("online",function(){j.hc||(j.hc=!0,j.Ge("online",!0))},!1),window.addEventListener("offline",function(){j.hc&&(j.hc=!1,j.Ge("online",!1))},!1)}}function Mc(){Ic.call(this,["visible"]);var j,$;if("undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"===typeof document.hidden?"undefined"===typeof document.mozHidden?"undefined"===typeof document.msHidden?"undefined"!==typeof document.webkitHidden&&($="webkitvisibilitychange",j="webkitHidden"):($="msvisibilitychange",j="msHidden"):($="mozvisibilitychange",j="mozHidden"):($="visibilitychange",j="hidden")),this.Mb=!0,$){var _e=this;document.addEventListener($,function(){var et=!document[j];et!==_e.Mb&&(_e.Mb=et,_e.Ge("visible",et))},!1)}}function E(j,$){if(1==arguments.length){this.o=j.split("/");for(var _e=0,et=0;et<this.o.length;et++)0<this.o[et].length&&(this.o[_e]=this.o[et],_e++);this.o.length=_e,this.Y=0}else this.o=j,this.Y=$}function P(j,$){var _e=K(j);if(null===_e)return $;if(_e===K($))return P(N(j),N($));throw Error("INTERNAL ERROR: innerPath ("+$+") is not within outerPath ("+j+")")}function Nc(j,$){for(var _e=j.slice(),et=$.slice(),tt=0,nt;tt<_e.length&&tt<et.length;tt++)if(nt=sb(_e[tt],et[tt]),0!==nt)return nt;return _e.length===et.length?0:_e.length<et.length?-1:1}function K(j){return j.Y>=j.o.length?null:j.o[j.Y]}function Ec(j){return j.o.length-j.Y}function N(j){var $=j.Y;return $<j.o.length&&$++,new E(j.o,$)}function Oc(j){return j.Y<j.o.length?j.o[j.o.length-1]:null}function Pc(j,$){this.Qa=j.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=$;for(var _e=0;_e<this.Qa.length;_e++)this.Ha+=nb(this.Qa[_e]);Qc(this)}function Qc(j){if(768<j.Ha)throw Error(j.Qe+"has a key path longer than 768 bytes ("+j.Ha+").");if(32<j.Qa.length)throw Error(j.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(j))}function Rc(j){return 0==j.Qa.length?"":"in property '"+j.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(j,$,_e){this.ud=j?j:"",this.Pc=$?$:null,this.A=_e?_e:new Sc}function Uc(j,$){for(var _e=$ instanceof E?$:new E($),et=j,tt;null!==(tt=K(_e));)et=new Tc(tt,et,w(et.A.children,tt)||new Sc),_e=N(_e);return et}function Vc(j,$){D("undefined"!==typeof $,"Cannot set value to undefined"),j.A.value=$,Wc(j)}function Xc(j,$,_e,et){_e&&!et&&$(j),j.O(function(tt){Xc(tt,$,!0,et)}),_e&&et&&$(j)}function Yc(j,$){for(var _e=j.parent();null!==_e&&!$(_e);)_e=_e.parent()}function Wc(j){if(null!==j.Pc){var $=j.Pc,_e=j.ud,et=j.e(),tt=eb($.A.children,_e);et&&tt?(delete $.A.children[_e],$.A.bd--,Wc($)):et||tt||($.A.children[_e]=j.A,$.A.bd++,Wc($))}}function Zc(j,$){this.La=j,this.ba=$?$:$c}function ad(j,$){for(var et=j.ba,tt=null,_e;!et.e();){if(_e=j.La($,et.key),0===_e){if(et.left.e())return tt?tt.key:null;for(et=et.left;!et.right.e();)et=et.right;return et.key}0>_e?et=et.left:0<_e&&(tt=et,et=et.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(j,$,_e,et,tt){for(this.Hd=tt||null,this.le=et,this.Pa=[],tt=1;!j.e();)if(tt=$?_e(j.key,$):1,et&&(tt*=-1),0>tt)j=this.le?j.left:j.right;else if(0===tt){this.Pa.push(j);break}else this.Pa.push(j),j=this.le?j.right:j.left}function M(j){if(0===j.Pa.length)return null;var $=j.Pa.pop(),_e;if(_e=j.Hd?j.Hd($.key,$.value):{key:$.key,value:$.value},j.le)for($=$.left;!$.e();)j.Pa.push($),$=$.right;else for($=$.right;!$.e();)j.Pa.push($),$=$.left;return _e}function cd(j){if(0===j.Pa.length)return null;var $;return $=j.Pa,$=$[$.length-1],j.Hd?j.Hd($.key,$.value):{key:$.key,value:$.value}}function dd(j,$,_e,et,tt){this.key=j,this.value=$,this.color=null==_e||_e,this.left=null==et?$c:et,this.right=null==tt?$c:tt}function ed(j){return j.left.e()?j:ed(j.left)}function hd(j){return j.left.e()?$c:(j.left.ea()||j.left.left.ea()||(j=id(j)),j=j.X(null,null,null,hd(j.left),null),gd(j))}function gd(j){return j.right.ea()&&!j.left.ea()&&(j=ld(j)),j.left.ea()&&j.left.left.ea()&&(j=jd(j)),j.left.ea()&&j.right.ea()&&(j=kd(j)),j}function id(j){return j=kd(j),j.right.left.ea()&&(j=j.X(null,null,null,null,jd(j.right)),j=ld(j),j=kd(j)),j}function ld(j){return j.right.X(null,null,j.color,j.X(null,null,!0,null,j.right.left),null)}function jd(j){return j.left.X(null,null,j.color,null,j.X(null,null,!0,j.left.right,null))}function kd(j){return j.X(null,null,!j.color,j.left.X(null,null,!j.left.color,null,null),j.right.X(null,null,!j.right.color,null,null))}function md(){}function O(j,$,_e){this.k=j,(this.aa=$)&&Cc(this.aa),j.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=_e,this.Db=null}function pd(j,$){var _e;return _e=(_e=od(j,$))?(_e=_e.Gc())&&_e.name:j.k.Gc(),_e?new C(_e,j.k.get(_e)):null}function qd(j,$){var _e;return _e=(_e=od(j,$))?(_e=_e.ec())&&_e.name:j.k.ec(),_e?new C(_e,j.k.get(_e)):null}function od(j,$){return $===tc?null:j.yb.get($.toString())}function G(j,$){if(null===j)return L;var _e=null;if("object"===typeof j&&".priority"in j?_e=j[".priority"]:"undefined"!==typeof $&&(_e=$),D(null===_e||"string"===typeof _e||"number"===typeof _e||"object"===typeof _e&&".sv"in _e,"Invalid priority type found: "+typeof _e),"object"===typeof j&&".value"in j&&null!==j[".value"]&&(j=j[".value"]),"object"!==typeof j||".sv"in j)return new Kb(j,G(_e));if(j instanceof Array){var et=L,tt=j;return v(tt,function(dt,st){if(eb(tt,st)&&"."!==st.substring(0,1)){var lt=G(dt);(lt.J()||!lt.e())&&(et=et.T(st,lt))}}),et.fa(G(_e))}var nt=[],at=!1,ot=j;if(fb(ot,function(dt){if("string"!==typeof dt||"."!==dt.substring(0,1)){var st=G(ot[dt]);st.e()||(at=at||!st.C().e(),nt.push(new C(dt,st)))}}),0==nt.length)return L;var rt=zc(nt,rb,function(dt){return dt.name},tb);if(at){var it=zc(nt,nc(H));return new O(rt,G(_e),new xc({".priority":it},{".priority":H}))}return new O(rt,G(_e),Bc)}function sd(j){this.count=parseInt(Math.log(j+1)/rd,10),this.Oe=this.count-1,this.Cf=j+1&parseInt(Array(this.count+1).join("1"),2)}function td(j){var $=!(j.Cf&1<<j.Oe);return j.Oe--,$}function zc(j,$,_e,et){function tt(at,ot){var rt=ot-at;if(0==rt)return null;if(1==rt){var it=j[at],dt=_e?_e(it):it;return new dd(dt,it.R,!1,null,null)}var it=parseInt(rt/2,10)+at,rt=tt(at,it),st=tt(it+1,ot),it=j[it],dt=_e?_e(it):it;return new dd(dt,it.R,!1,rt,st)}j.sort($);var nt=function(at){function ot(pt,ut){var ht=dt-pt,ft=dt;dt-=pt;var ft=tt(ht+1,ft),ht=j[ht],bt=_e?_e(ht):ht,ft=new dd(bt,ht.R,ut,null,ft);rt?rt.left=ft:it=ft,rt=ft}for(var rt=null,it=null,dt=j.length,st=0;st<at.count;++st){var lt=td(at),ct=Math.pow(2,at.count-(st+1));lt?ot(ct,!1):(ot(ct,!1),ot(ct,!0))}return it}(new sd(j.length));return null===nt?new Zc(et||$):new Zc(et||$,nt)}function Fc(j){return"number"===typeof j?"number:"+dc(j):"string:"+j}function Cc(j){if(j.J()){var $=j.H();D("string"===typeof $||"number"===typeof $||"object"===typeof $&&eb($,".sv"),"Priority must be a string or number.")}else D(j===qc||j.e(),"priority of unexpected type.");D(j===qc||j.C().e(),"Priority nodes can't have a priority of their own.")}function ud(){O.call(this,new Zc(tb),L,Bc)}function vd(j,$){this.value=j,this.children=$||wd}function xd(j){var $=R;return v(j,function(_e,et){$=$.set(new E(et),_e)}),$}function yd(j,$,_e){if(null!=j.value&&_e(j.value))return{path:Q,value:j.value};if($.e())return null;var et=K($);return j=j.children.get(et),null===j?null:($=yd(j,N($),_e),null==$?null:{path:new E(et).n($.path),value:$.value})}function zd(j,$){return yd(j,$,function(){return!0})}function Ad(j,$,_e){if($.e())return _e;var et=K($);return $=Ad(j.children.get(et)||R,N($),_e),et=$.e()?j.children.remove(et):j.children.Oa(et,$),new vd(j.value,et)}function Bd(j,$){return Cd(j,Q,$)}function Cd(j,$,_e){var et={};return j.children.ha(function(tt,nt){et[tt]=Cd(nt,$.n(tt),_e)}),_e($,j.value,et)}function Dd(j,$,_e){return Ed(j,$,Q,_e)}function Ed(j,$,_e,et){var tt=!!j.value&&et(_e,j.value);return tt?tt:$.e()?null:(tt=K($),(j=j.children.get(tt))?Ed(j,N($),_e.n(tt),et):null)}function Fd(j,$,_e){Gd(j,$,Q,_e)}function Gd(j,$,_e,et){if($.e())return j;j.value&&et(_e,j.value);var tt=K($);return(j=j.children.get(tt))?Gd(j,N($),_e.n(tt),et):R}function Hd(j,$){Id(j,Q,$)}function Id(j,$,_e){j.children.ha(function(et,tt){Id(tt,$.n(et),_e)}),j.value&&_e($,j.value)}function Jd(j,$){j.children.ha(function(_e,et){et.value&&$(_e,et.value)})}function Md(j){return p(j)&&0!==j.length&&!Kd.test(j)}function Nd(j){return null===j||p(j)||ga(j)&&!Xb(j)||ia(j)&&eb(j,".sv")}function Od(j,$,_e,et){et&&!n($)||Pd(A(j,1,et),$,_e)}function Pd(j,$,_e){if(_e instanceof E&&(_e=new Pc(_e,j)),!n($))throw Error(j+"contains undefined "+Rc(_e));if(ha($))throw Error(j+"contains a function "+Rc(_e)+" with contents: "+$.toString());if(Xb($))throw Error(j+"contains "+$.toString()+" "+Rc(_e));if(p($)&&$.length>10485760/3&&10485760<nb($))throw Error(j+"contains a string greater than 10485760 utf8 bytes "+Rc(_e)+" ('"+$.substring(0,50)+"...')");if(ia($)){var et=!1,tt=!1;if(fb($,function(nt,at){if(".value"===nt)et=!0;else if(".priority"!==nt&&".sv"!==nt&&(tt=!0,!Md(nt)))throw Error(j+" contains an invalid key ("+nt+") "+Rc(_e)+".  Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"");_e.push(nt),Pd(j,at,_e),_e.pop()}),et&&tt)throw Error(j+" contains \".value\" child "+Rc(_e)+" in addition to actual children.")}}function Qd(j,$){var _e,et;for(_e=0;_e<$.length;_e++){et=$[_e];for(var tt=et.slice(),nt=0;nt<tt.length;nt++)if((".priority"!==tt[nt]||nt!==tt.length-1)&&!Md(tt[nt]))throw Error(j+"contains an invalid key ("+tt[nt]+") in path "+et.toString()+". Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"")}for($.sort(Nc),tt=null,_e=0;_e<$.length;_e++){if(et=$[_e],null!==tt&&tt.contains(et))throw Error(j+"contains a path "+tt.toString()+" that is ancestor of another path "+et.toString());tt=et}}function Rd(j,$,_e){var et=A(j,1,!1);if(!ia($)||ea($))throw Error(et+" must be an object containing the children to replace.");var tt=[];fb($,function(nt,at){var ot=new E(nt);if(Pd(et,at,_e.n(ot)),".priority"===Oc(ot)&&!Nd(at))throw Error(et+"contains an invalid value for '"+ot.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");tt.push(ot)}),Qd(et,tt)}function Sd(j,$,_e){if(Xb(_e))throw Error(A(j,$,!1)+"is "+_e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(_e))throw Error(A(j,$,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(j,$,_e){if(!_e||n($))switch($){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(j,1,_e)+"must be a valid event type: \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".");}}function Ud(j,$){if(n($)&&!Md($))throw Error(A(j,2,!0)+"was an invalid key: \""+$+"\".  Firebase keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").")}function Vd(j,$){if(!p($)||0===$.length||Ld.test($))throw Error(A(j,1,!1)+"was an invalid path: \""+$+"\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"")}function Wd(j,$){if(".info"===K($))throw Error(j+" failed: Can't modify data under /.info/")}function Xd(j,$){var _e=$.path.toString(),et;if(!(et=!p($.jc.host)||0===$.jc.host.length||!Md($.jc.pe))&&(et=0!==_e.length)&&(_e&&(_e=_e.replace(/^\/*\.info(\/|$)/,"/")),et=!p(_e)||0===_e.length||Ld.test(_e)),et)throw Error(A(j,1,!1)+"must be a valid firebase URL and the path can't contain \".\", \"#\", \"$\", \"[\", or \"]\".")}function Gb(){this.k=this.B=null}function Ib(j,$,_e){if($.e())j.B=_e,j.k=null;else if(null!==j.B)j.B=j.B.F($,_e);else{null==j.k&&(j.k=new Gc);var et=K($);j.k.contains(et)||j.k.add(et,new Gb),j=j.k.get(et),$=N($),Ib(j,$,_e)}}function Yd(j,$){if($.e())return j.B=null,j.k=null,!0;if(null!==j.B){if(j.B.J())return!1;var _e=j.B;return j.B=null,_e.O(H,function(et,tt){Ib(j,new E(et),tt)}),Yd(j,$)}return null===j.k||(_e=K($),$=N($),j.k.contains(_e)&&Yd(j.k.get(_e),$)&&j.k.remove(_e),!!j.k.e()&&(j.k=null,!0))}function Hb(j,$,_e){null===j.B?j.O(function(et,tt){var nt=new E($.toString()+"/"+et);Hb(tt,nt,_e)}):_e($,j.B)}function Zd(j,$){this.type=$d,this.source=j,this.path=$}function ae(j,$,_e){this.type=be,this.source=j,this.path=$,this.children=_e}function de(j,$,_e){this.type=ee,this.source=fe,this.path=j,this.Ob=$,this.Id=_e}function ce(j,$,_e){this.type=ge,this.source=j,this.path=$,this.Ga=_e}function he(j,$,_e,et){this.ee=j,this.Se=$,this.Hb=_e,this.Ee=et,D(!et||$,"Tagged queries must be from server.")}function je(j,$,_e){this.A=j,this.da=$,this.Sb=_e}function ke(j){return j.da}function le(j){return j.Sb}function me(j,$){return $.e()?j.da&&!j.Sb:ne(j,K($))}function ne(j,$){return j.da&&!j.Sb||j.A.Da($)}function oe(j,$){this.N=j,this.Ld=$}function pe(j,$,_e,et){return new oe(new je($,_e,et),j.Ld)}function qe(j){return j.N.da?j.N.j():null}function re(j){return j.Ld.da?j.Ld.j():null}function se(){}function ue(j,$,_e){this.xf=j,this.Ka=$,this.yd=_e}function ve(j,$){this.Sd=j,this.Df=$}function we(j){this.U=j}function De(j,$,_e,et,tt,nt){var at=$.N;if(null!=et.lc(_e))return $;var ot;if(_e.e())D(ke($.w()),"If change path is empty, we must have complete server data"),le($.w())?(tt=re($),et=et.rc(tt instanceof O?tt:L)):et=et.Aa(re($)),nt=j.U.ya($.N.j(),et,nt);else{var rt=K(_e);if(".priority"==rt)D(1==Ec(_e),"Can't have a priority with additional path components"),nt=at.j(),ot=$.w().j(),et=et.ad(_e,nt,ot),nt=null==et?at.j():j.U.fa(nt,et);else{var it=N(_e);ne(at,rt)?(ot=$.w().j(),et=et.ad(_e,at.j(),ot),et=null==et?at.j().Q(rt):at.j().Q(rt).F(it,et)):et=et.qc(rt,$.w()),nt=null==et?at.j():j.U.F(at.j(),rt,et,it,tt,nt)}}return pe($,nt,at.da||_e.e(),j.U.Na())}function ze(j,$,_e,et,tt,nt,at,ot){var rt=$.w();if(at=at?j.U:j.U.Ub(),_e.e())et=at.ya(rt.j(),et,null);else if(at.Na()&&!rt.Sb)et=rt.j().F(_e,et),et=at.ya(rt.j(),et,null);else{var it=K(_e);if(!me(rt,_e)&&1<Ec(_e))return $;var dt=N(_e);et=rt.j().Q(it).F(dt,et),et=".priority"==it?at.fa(rt.j(),et):at.F(rt.j(),it,et,dt,te,null)}return rt=rt.da||_e.e(),$=new oe($.N,new je(et,rt,at.Na())),De(j,$,_e,tt,new ue(tt,$,nt),ot)}function ye(j,$,_e,et,tt,nt,at){var ot=$.N;if(tt=new ue(tt,$,nt),_e.e())at=j.U.ya($.N.j(),et,at),j=pe($,at,!0,j.U.Na());else if(nt=K(_e),".priority"===nt)at=j.U.fa($.N.j(),et),j=pe($,at,ot.da,ot.Sb);else{_e=N(_e);var rt=ot.j().Q(nt);if(!_e.e()){var it=tt.Te(nt);et=null==it?L:".priority"===Oc(_e)&&it.P(_e.parent()).e()?it:it.F(_e,et)}rt.Z(et)?j=$:(at=j.U.F(ot.j(),nt,et,_e,tt,at),j=pe($,at,ot.da,j.U.Na()))}return j}function Ae(j,$,_e,et,tt,nt,at){var ot=$;return Hd(et,function(rt,it){var dt=_e.n(rt);ne($.N,K(dt))&&(ot=ye(j,ot,dt,it,tt,nt,at))}),Hd(et,function(rt,it){var dt=_e.n(rt);ne($.N,K(dt))||(ot=ye(j,ot,dt,it,tt,nt,at))}),ot}function Fe(j,$){return Hd($,function(_e,et){j=j.F(_e,et)}),j}function Be(j,$,_e,et,tt,nt,at,ot){if($.w().j().e()&&!ke($.w()))return $;var rt=$;_e=_e.e()?et:Ad(R,_e,et);var it=$.w().j();return _e.children.ha(function(dt,st){if(it.Da(dt)){var lt=$.w().j().Q(dt),lt=Fe(lt,st);rt=ze(j,rt,new E(dt),lt,tt,nt,at,ot)}}),_e.children.ha(function(dt,st){var lt=!ne($.w(),dt)&&null==st.value;it.Da(dt)||lt||(lt=$.w().j().Q(dt),lt=Fe(lt,st),rt=ze(j,rt,new E(dt),lt,tt,nt,at,ot))}),rt}function Ce(j,$,_e,et,tt,nt,at){if(null!=tt.lc(_e))return $;var ot=le($.w()),rt=$.w();if(null!=et.value){if(_e.e()&&rt.da||me(rt,_e))return ze(j,$,_e,rt.j().P(_e),tt,nt,ot,at);if(_e.e()){var it=R;return rt.j().O(tc,function(dt,st){it=it.set(new E(dt),st)}),Be(j,$,_e,it,tt,nt,ot,at)}return $}return it=R,Hd(et,function(dt){var st=_e.n(dt);me(rt,st)&&(it=it.set(dt,rt.j().P(st)))}),Be(j,$,_e,it,tt,nt,ot,at)}function Ge(j){this.V=j,this.g=j.m.g}function He(j,$,_e,et){var tt=[],nt=[];return ya($,function(at){at.type===Ie&&j.g.nd(at.qe,at.Ja)&&nt.push(new S(Je,at.Ja,at.Xa))}),Ke(j,tt,Le,$,et,_e),Ke(j,tt,Me,$,et,_e),Ke(j,tt,Je,nt,et,_e),Ke(j,tt,Ie,$,et,_e),Ke(j,tt,Ne,$,et,_e),tt}function Ke(j,$,_e,et,tt,nt){et=za(et,function(at){return at.type===_e}),Ha(et,q(j.Ff,j)),ya(et,function(at){var ot=Oe(j,at,nt);ya(tt,function(rt){rt.nf(at.type)&&$.push(rt.createEvent(ot,j.V))})})}function Oe(j,$,_e){return"value"!==$.type&&"child_removed"!==$.type&&($.Dd=_e.Ve($.Xa,$.Ja,j.g)),$}function Pe(j,$){this.V=j;var _e=j.m,et=new Qe(_e.g),_e=T(_e)?new Qe(_e.g):_e.xa?new Re(_e):new Se(_e);this.hf=new we(_e);var tt=$.w(),nt=$.N,at=et.ya(L,tt.j(),null),ot=_e.ya(L,nt.j(),null);this.Ka=new oe(new je(ot,nt.da,_e.Na()),new je(at,tt.da,et.Na())),this.Za=[],this.Jf=new Ge(j)}function Te(j){return j.V}function Ve(j,$){var _e=j.Ka.N,et=[];return _e.j().J()||_e.j().O(H,function(tt,nt){et.push(new S(Me,nt,tt))}),_e.da&&et.push(Ee(_e.j())),Ue(j,et,_e.j(),$)}function Ue(j,$,_e,et){return He(j.Jf,$,_e,et?[et]:j.Za)}function We(j,$,_e,et){this.ae=$,this.Md=_e,this.Dd=et,this.hd=j}function Xe(j,$,_e){this.ae=j,this.error=$,this.path=_e}function Ye(){this.vb=[]}function Ze(j,$){for(var _e=null,et=0;et<$.length;et++){var tt=$[et],nt=tt.Yb();null===_e||nt.Z(_e.Yb())||(j.vb.push(_e),_e=null),null===_e&&(_e=new $e(nt)),_e.add(tt)}_e&&j.vb.push(_e)}function af(j,$,_e){Ze(j,_e),bf(j,function(et){return et.Z($)})}function cf(j,$,_e){Ze(j,_e),bf(j,function(et){return et.contains($)||$.contains(et)})}function bf(j,$){for(var _e=!0,et=0,tt;et<j.vb.length;et++)if(tt=j.vb[et],tt)if(tt=tt.Yb(),$(tt)){for(var tt=j.vb[et],nt=0,at;nt<tt.jd.length;nt++)if(at=tt.jd[nt],null!==at){tt.jd[nt]=null;var ot=at.Tb();Qb&&I("event: "+at.toString()),fc(ot)}j.vb[et]=null}else _e=!1;_e&&(j.vb=[])}function $e(j){this.qa=j,this.jd=[]}function Qe(j){this.g=j}function Se(j){this.he=new Qe(j.g),this.g=j.g;var $;j.ka?($=ef(j),$=j.g.Ec(ff(j),$)):$=j.g.Hc(),this.Uc=$,j.na?($=gf(j),j=j.g.Ec(hf(j),$)):j=j.g.Fc(),this.vc=j}function Re(j){this.sa=new Se(j),this.g=j.g,D(j.xa,"Only valid if limit has been set"),this.oa=j.oa,this.Ib=!jf(j)}function kf(j,$,_e,et,tt,nt){var at;if(j.Ib){var ot=nc(j.g);at=function(lt,ct){return ot(ct,lt)}}else at=nc(j.g);D($.Eb()==j.oa,"");var rt=new C(_e,et),it=j.Ib?pd($,j.g):qd($,j.g),dt=j.sa.matches(rt);if($.Da(_e)){for(var st=$.Q(_e),it=tt.fe(j.g,it,j.Ib);null!=it&&(it.name==_e||$.Da(it.name));)it=tt.fe(j.g,it,j.Ib);return(tt=null==it?1:at(it,rt),dt&&!et.e()&&0<=tt)?(null!=nt&&df(nt,new S(Ie,et,_e,st)),$.T(_e,et)):(null!=nt&&df(nt,new S(Le,st,_e)),$=$.T(_e,L),null!=it&&j.sa.matches(it)?(null!=nt&&df(nt,new S(Me,it.R,it.name)),$.T(it.name,it.R)):$)}return et.e()?$:dt&&0<=at(it,rt)?(null!=nt&&(df(nt,new S(Le,it.R,it.name)),df(nt,new S(Me,et,_e))),$.T(_e,et).T(it.name,L)):$}function S(j,$,_e,et){this.type=j,this.Ja=$,this.Xa=_e,this.qe=et,this.Dd=void 0}function Ee(j){return new S(Ne,j)}function xe(){this.fb={}}function df(j,$){var _e=$.type,et=$.Xa;D(_e==Me||_e==Ie||_e==Le,"Only child changes supported for tracking"),D(".priority"!==et,"Only non-priority child changes can be tracked.");var tt=w(j.fb,et);if(tt){var nt=tt.type;if(_e==Me&&nt==Le)j.fb[et]=new S(Ie,$.Ja,et,tt.Ja);else if(_e==Le&&nt==Me)delete j.fb[et];else if(_e==Le&&nt==Ie)j.fb[et]=new S(Le,tt.qe,et);else if(_e==Ie&&nt==Me)j.fb[et]=new S(Me,$.Ja,et);else if(_e==Ie&&nt==Ie)j.fb[et]=new S(Ie,$.Ja,et,tt.qe);else throw Mb("Illegal combination of changes: "+$+" occurred after "+tt)}else j.fb[et]=$}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}function jf(j){return""===j.mb?j.ka:"l"===j.mb}function ff(j){return D(j.ka,"Only valid if start has been set"),j.dc}function ef(j){return D(j.ka,"Only valid if start has been set"),j.Kb?j.zb:"[MIN_NAME]"}function hf(j){return D(j.na,"Only valid if end has been set"),j.ac}function gf(j){return D(j.na,"Only valid if end has been set"),j.Rb?j.xb:"[MAX_NAME]"}function nf(j){var $=new lf;return $.xa=j.xa,$.oa=j.oa,$.ka=j.ka,$.dc=j.dc,$.Kb=j.Kb,$.zb=j.zb,$.na=j.na,$.ac=j.ac,$.Rb=j.Rb,$.xb=j.xb,$.g=j.g,$.mb=j.mb,$}function of(j,$){var _e=nf(j);return _e.g=$,_e}function pf(j){var $={};if(j.ka&&($.sp=j.dc,j.Kb&&($.sn=j.zb)),j.na&&($.ep=j.ac,j.Rb&&($.en=j.xb)),j.xa){$.l=j.oa;var _e=j.mb;""===_e&&(_e=jf(j)?"l":"r"),$.vf=_e}return j.g!==H&&($.i=j.g.toString()),$}function T(j){return!(j.ka||j.na||j.xa)}function qf(j){return T(j)&&j.g==H}function rf(j){var $={};if(qf(j))return $;var _e;return j.g===H?_e="$priority":j.g===wc?_e="$value":j.g===tc?_e="$key":(D(j.g instanceof pc,"Unrecognized index type!"),_e=j.g.toString()),$.orderBy=x(_e),j.ka&&($.startAt=x(j.dc),j.Kb&&($.startAt+=","+x(j.zb))),j.na&&($.endAt=x(j.ac),j.Rb&&($.endAt+=","+x(j.xb))),j.xa&&(jf(j)?$.limitToFirst=j.oa:$.limitToLast=j.oa),$}function sf(j){this.W=j}function uf(j,$,_e){if($.e())return new sf(new vd(_e));var et=zd(j.W,$);if(null!=et){var tt=et.path,et=et.value;return $=P(tt,$),et=et.F($,_e),new sf(j.W.set(tt,et))}return j=Ad(j.W,$,new vd(_e)),new sf(j)}function vf(j,$,_e){var et=j;return fb(_e,function(tt,nt){et=uf(et,$.n(tt),nt)}),et}function wf(j,$){var _e=zd(j.W,$);return null==_e?null:j.W.get(_e.path).P(P(_e.path,$))}function xf(j){var $=[],_e=j.W.value;return null==_e?j.W.children.ha(function(et,tt){null!=tt.value&&$.push(new C(et,tt.value))}):_e.J()||_e.O(H,function(et,tt){$.push(new C(et,tt))}),$}function yf(j,$){if($.e())return j;var _e=wf(j,$);return null==_e?new sf(j.W.subtree($)):new sf(new vd(_e))}function zf(j,$,_e){if(null!=$.value)return _e.F(j,$.value);var et=null;return $.children.ha(function(tt,nt){".priority"===tt?(D(null!==nt.value,"Priority writes must always be leaf nodes"),et=nt.value):_e=zf(j.n(tt),nt,_e)}),_e.P(j).e()||null===et||(_e=_e.F(j.n(".priority"),et)),_e}function Af(){this.Jd=L}function Bf(j){this.oc=j}function Cf(j,$){j.oc.INTERNAL.addAuthTokenListener($)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(j,$){for(var _e=0,et;_e<j.la.length;_e++)if(et=j.la[_e],et.Zc===$)return et;return null}function Ff(j,$){return j.Ga?j.path.contains($):!!Qa(j.children,function(_e,et){return j.path.n(et).contains($)})}function Hf(j){return j.visible}function Gf(j,$,_e){for(var et=tf,tt=0,nt;tt<j.length;++tt)if(nt=j[tt],$(nt)){var at=nt.path;if(nt.Ga)_e.contains(at)?(at=P(_e,at),et=uf(et,at,nt.Ga)):at.contains(_e)&&(at=P(at,_e),et=uf(et,Q,nt.Ga.P(at)));else if(nt.children)_e.contains(at)?(at=P(_e,at),et=vf(et,at,nt.children)):at.contains(_e)&&((at=P(at,_e),at.e())?et=vf(et,Q,nt.children):(nt=w(nt.children,K(at)))&&(nt=nt.P(N(at)),et=uf(et,Q,nt)));else throw Mb("WriteRecord should have .snap or .children")}return et}function If(j,$){this.Lb=j,this.W=$}function Jf(j,$){this.rf={},this.Vc=new Kf(j),this.va=$;var _e=1E4+2E4*Math.random();hc(q(this.lf,this),Math.floor(_e))}function Lf(){this.tc={}}function Mf(j,$,_e){n(_e)||(_e=1),eb(j.tc,$)||(j.tc[$]=0),j.tc[$]+=_e}function Kf(j){this.Ef=j,this.rd=null}function Pf(j){return j=j.toString(),Nf[j]||(Nf[j]=new Lf),Nf[j]}function Qf(j,$){var _e=j.toString();return Of[_e]||(Of[_e]=$()),Of[_e]}function Rf(j,$,_e){this.f=Tb("p:rest:"),this.L=j,this.Gb=$,this.$c=_e,this.$={}}function Sf(j,$){return n($)?"tag$"+$:(D(qf(j.m),"should have a tag if it's not a default query."),j.path.toString())}function Tf(j,$,_e,et){_e=_e||{},_e.format="export",j.$c.getToken(!1).then(function(tt){(tt=tt&&tt.accessToken)&&(_e.auth=tt);var nt=(j.L.Sc?"https://":"http://")+j.L.host+$+"?"+gb(_e);j.f("Sending REST request for "+nt);var at=new XMLHttpRequest;at.onreadystatechange=function(){if(et&&4===at.readyState){j.f("REST Response for "+nt+" received. status:",at.status,"response:",at.responseText);var ot=null;if(200<=at.status&&300>at.status){try{ot=lb(at.responseText)}catch(rt){J("Failed to parse JSON response for "+nt+": "+at.responseText)}et(null,ot)}else 401!==at.status&&404!==at.status&&J("Got unsuccessful REST response for "+nt+" Status: "+at.status),et(at.status);et=null}},at.open("GET",nt,!0),at.send()})}function Uf(j){this.te=j,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(j,$,_e){j.Yd=$,j.Fb=_e,j.Yd<j.Qb&&(j.Fb(),j.Fb=null)}function Wf(j,$,_e){for(j.Bd[$]=_e;j.Bd[j.Qb];){var et=j.Bd[j.Qb];delete j.Bd[j.Qb];for(var tt=0;tt<et.length;++tt)if(et[tt]){fc(function(){j.te(et[tt])})}if(j.Qb===j.Yd){j.Fb&&(clearTimeout(j.Fb),j.Fb(),j.Fb=null);break}j.Qb++}}function Yf(j,$,_e,et){this.Zd=j,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf($),j={v:"5"},"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(j.r="f"),_e&&(j.s=_e),et&&(j.ls=et),this.Ke=Bb($,Cb,j)}function ag(j,$){if(j.frames.push($),j.frames.length==j.Fe){var _e=j.frames.join("");j.frames=null,_e=lb(_e),j.Xf(_e)}}function $f(j){clearInterval(j.zc),j.zc=setInterval(function(){j.Ia&&bg(j,"0"),$f(j)},Math.floor(45E3))}function bg(j,$){try{j.Ia.send($)}catch(_e){j.f("Exception thrown from WebSocket.send():",_e.message||_e.data,"Closing connection."),setTimeout(q(j.bb,j),0)}}function cg(j,$,_e,et){this.Zd=j,this.f=Tb(j),this.jc=$,this.pb=this.qb=0,this.Va=Pf($),this.tf=_e,this.wc=!1,this.Cb=et,this.Yc=function(tt){return Bb($,Db,tt)}}function gg(j,$){var _e=x($).length;j.pb+=_e,Mf(j.Va,"bytes_received",_e)}function fg(j,$,_e,et){if(this.Yc=et,this.ib=_e,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1E8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=j,window["pRTLPCB"+this.Qd]=$,j=document.createElement("iframe"),j.style.display="none",document.body){document.body.appendChild(j);try{j.contentWindow.document||I("No IE domain setting required")}catch(tt){j.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";j.contentDocument?j.gb=j.contentDocument:j.contentWindow?j.gb=j.contentWindow.document:j.document&&(j.gb=j.document),this.Ea=j,j="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(j="<script>document.domain=\""+document.domain+"\";</script>"),j="<html><body>"+j+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(j),this.Ea.gb.close()}catch(tt){I("frame writing exception"),tt.stack&&I(tt.stack),I(tt)}}function ig(j){if(j.Ud&&j.Kd&&j.ve.count()<(0<j.Qc.length?2:1)){j.$d++;for(var $={id:j.Vf,pw:j.Wf,ser:j.$d},$=j.Yc($),_e="",et=0;0<j.Qc.length&&1870>=j.Qc[0].Pe.length+30+_e.length;){var tt=j.Qc.shift(),_e=_e+"&seg"+et+"="+tt.jg+"&ts"+et+"="+tt.pg+"&d"+et+"="+tt.Pe;et++}return jg(j,$+_e,j.$d),!0}return!1}function jg(j,$,_e){function et(){j.ve.remove(_e),ig(j)}j.ve.add(_e,1);var tt=setTimeout(et,Math.floor(25E3));hg(j,$,function(){clearTimeout(tt),et()})}function hg(j,$,_e){setTimeout(function(){try{if(j.Kd){var et=j.Ea.gb.createElement("script");et.type="text/javascript",et.async=!0,et.src=$,et.onload=et.onreadystatechange=function(){var tt=et.readyState;tt&&"loaded"!==tt&&"complete"!==tt||(et.onload=et.onreadystatechange=null,et.parentNode&&et.parentNode.removeChild(et),_e())},et.onerror=function(){I("Long-poll script failed to load: "+$),j.Kd=!1,j.close()},j.Ea.gb.body.appendChild(et)}}catch(tt){}},Math.floor(1))}function kg(j){lg(this,j)}function lg(j,$){var _e=Yf&&Yf.isAvailable(),et=_e&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if($.qg&&(_e||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),et=!0),et)j.Wc=[Yf];else{var tt=j.Wc=[];cc(mg,function(nt,at){at&&at.isAvailable()&&tt.push(at)})}}function ng(j){if(0<j.Wc.length)return j.Wc[0];throw Error("No transports available")}function og(j,$,_e,et,tt,nt,at){this.id=j,this.f=Tb("c:"+this.id+":"),this.te=_e,this.Lc=et,this.ia=tt,this.se=nt,this.L=$,this.Ad=[],this.Le=0,this.sf=new kg($),this.Ua=0,this.Cb=at,this.f("Connection created"),pg(this)}function pg(j){var $=ng(j.sf);j.I=new $("c:"+j.id+":"+j.Le++,j.L,void 0,j.Cb),j.xe=$.responsesRequiredToBeHealthy||0;var _e=qg(j,j.I),et=rg(j,j.I);j.Xc=j.I,j.Rc=j.I,j.D=null,j.Bb=!1,setTimeout(function(){j.I&&j.I.open(_e,et)},Math.floor(0)),$=$.healthyTimeout||0,0<$&&(j.md=hc(function(){j.md=null,j.Bb||(j.I&&102400<j.I.pb?(j.f("Connection exceeded healthy timeout but has received "+j.I.pb+" bytes.  Marking connection healthy."),j.Bb=!0,j.I.sd()):j.I&&10240<j.I.qb?j.f("Connection exceeded healthy timeout but has sent "+j.I.qb+" bytes.  Leaving connection alive."):(j.f("Closing unhealthy connection after timeout."),j.close()))},Math.floor($)))}function rg(j,$){return function(_e){$===j.I?(j.I=null,_e||0!==j.Ua?1===j.Ua&&j.f("Realtime connection lost."):(j.f("Realtime connection failed."),"s-"===j.L.$a.substr(0,2)&&(xb.remove("host:"+j.L.host),j.L.$a=j.L.host)),j.close()):$===j.D?(j.f("Secondary connection lost."),_e=j.D,j.D=null,j.Xc!==_e&&j.Rc!==_e||j.close()):j.f("closing an old connection")}}function qg(j,$){return function(_e){if(2!=j.Ua)if($===j.Rc){var et=$b("t",_e);if(_e=$b("d",_e),"c"!=et)"d"==et&&j.wd(_e);else if(et=$b("t",_e),"d"in _e)if(_e=_e.d,"h"===et){var et=_e.ts,tt=_e.v,nt=_e.h;j.qf=_e.s,Ab(j.L,nt),0==j.Ua&&(j.I.start(),sg(j,j.I,et),"5"!==tt&&J("Protocol version mismatch detected"),_e=j.sf,(_e=1<_e.Wc.length?_e.Wc[1]:null)&&tg(j,_e))}else if("n"===et){for(j.f("recvd end transmission on primary"),j.Rc=j.D,_e=0;_e<j.Ad.length;++_e)j.wd(j.Ad[_e]);j.Ad=[],ug(j)}else"s"===et?(j.f("Connection shutdown command received. Shutting down..."),j.se&&(j.se(_e),j.se=null),j.ia=null,j.close()):"r"===et?(j.f("Reset packet received.  New host: "+_e),Ab(j.L,_e),1===j.Ua?j.close():(vg(j),pg(j))):"e"===et?Ub("Server Error: "+_e):"o"===et?(j.f("got pong on primary."),wg(j),xg(j)):Ub("Unknown control packet command: "+et)}else if($!==j.D)j.f("message on old connection");else if(et=$b("t",_e),_e=$b("d",_e),"c"==et)"t"in _e&&(_e=_e.t,"a"===_e?yg(j):"r"===_e?(j.f("Got a reset on secondary, closing it"),j.D.close(),j.Xc!==j.D&&j.Rc!==j.D||j.close()):"o"===_e&&(j.f("got pong on secondary."),j.pf--,yg(j)));else if("d"==et)j.Ad.push(_e);else throw Error("Unknown protocol layer: "+et)}}function ug(j){j.Xc===j.D&&j.Rc===j.D&&(j.f("cleaning up and promoting a connection: "+j.D.Zd),j.I=j.D,j.D=null)}function yg(j){0>=j.pf?(j.f("Secondary connection is healthy."),j.Bb=!0,j.D.sd(),j.D.start(),j.f("sending client ack on secondary"),j.D.send({t:"c",d:{t:"a",d:{}}}),j.f("Ending transmission on primary"),j.I.send({t:"c",d:{t:"n",d:{}}}),j.Xc=j.D,ug(j)):(j.f("sending ping on secondary."),j.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(j){j.Bb||(j.xe--,0>=j.xe&&(j.f("Primary connection is healthy."),j.Bb=!0,j.I.sd()))}function tg(j,$){j.D=new $("c:"+j.id+":"+j.Le++,j.L,j.qf),j.pf=$.responsesRequiredToBeHealthy||0,j.D.open(qg(j,j.D),rg(j,j.D)),hc(function(){j.D&&(j.f("Timed out trying to upgrade."),j.D.close())},Math.floor(6E4))}function sg(j,$,_e){j.f("Realtime connection established."),j.I=$,j.Ua=1,j.Lc&&(j.Lc(_e,j.qf),j.Lc=null),0===j.xe?(j.f("Primary connection is healthy."),j.Bb=!0):hc(function(){xg(j)},Math.floor(5E3))}function xg(j){j.Bb||1!==j.Ua||(j.f("sending ping on primary."),zg(j,{t:"c",d:{t:"p",d:{}}}))}function zg(j,$){if(1!==j.Ua)throw"Connection is not connected";j.Xc.send($)}function vg(j){j.f("Shutting down all connections"),j.I&&(j.I.close(),j.I=null),j.D&&(j.D.close(),j.D=null),j.md&&(clearTimeout(j.md),j.md=null)}function Ag(j,$,_e,et,tt,nt){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1E3,this.td=3E5,this.Gb=$,this.Jc=_e,this.ue=et,this.L=j,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=tt,this.de=!1,this.ke=0,nt)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=nt,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===j.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}function Eg(j,$){var _e=$.eg,et=_e.path.toString(),tt=_e.ja();j.f("Listen on "+et+" for "+tt);var nt={p:et};$.tag&&(nt.q=pf(_e.m),nt.t=$.tag),nt.h=$.ld(),j.ua("q",nt,function(at){var ot=at.d,rt=at.s;if(ot&&"object"===typeof ot&&eb(ot,"w")){var it=w(ot,"w");ea(it)&&0<=xa(it,"no_index")&&J("Using an unspecified index. Consider adding \".indexOn\": \""+_e.m.g.toString()+"\" at "+_e.path.toString()+" to your security rules for better performance")}(j.$[et]&&j.$[et][tt])===$&&(j.f("listen response",at),"ok"!==rt&&Fg(j,et,tt),$.G&&$.G(rt,ot))})}function Gg(j){if(j.ma&&j.ob){var $=j.ob,_e=jc($)?"auth":"gauth",et={cred:$};null===j.Vd?et.noauth=!0:"object"===typeof j.Vd&&(et.authvar=j.Vd),j.ua(_e,et,function(tt){var nt=tt.s;tt=tt.d||"error",j.ob===$&&("ok"===nt?j.ke=0:Hg(j,nt,tt))})}}function Ig(j,$,_e,et,tt){_e={p:_e,d:et},j.f("onDisconnect "+$,_e),j.ua($,_e,function(nt){tt&&setTimeout(function(){tt(nt.s,nt.d)},Math.floor(0))})}function Jg(j,$,_e,et,tt,nt){et={p:_e,d:et},n(nt)&&(et.h=nt),j.pa.push({action:$,mf:et,G:tt}),j.Oc++,$=j.pa.length-1,j.ma?Kg(j,$):j.f("Buffering put: "+_e)}function Kg(j,$){var _e=j.pa[$].action,et=j.pa[$].mf,tt=j.pa[$].G;j.pa[$].fg=j.ma,j.ua(_e,et,function(nt){j.f(_e+" response",nt),delete j.pa[$],j.Oc--,0===j.Oc&&(j.pa=[]),tt&&tt(nt.s,nt.d)})}function Cg(j,$){D(!j.Fa,"Scheduling a connect when we're already connected/ing?"),j.ub&&clearTimeout(j.ub),j.ub=setTimeout(function(){j.ub=null,Ng(j)},Math.floor($))}function Ng(j){if(Og(j)){j.f("Making a connection attempt"),j.me=new Date().getTime(),j.Ac=null;var $=q(j.wd,j),_e=q(j.Lc,j),et=q(j.df,j),tt=j.id+":"+Dg++,nt=j.Cb,at=!1,ot=null,rt=function(){ot?ot.close():(at=!0,et())};j.Fa={close:rt,ua:function(dt){D(ot,"sendRequest call when we're not connected not allowed."),ot.ua(dt)}};var it=j.de;j.de=!1,j.$c.getToken(it).then(function(dt){at?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),j.ob=dt&&dt.accessToken,ot=new og(tt,j.L,$,_e,et,function(st){J(st+" ("+j.L.toString()+")"),j.ab("server_kill")},nt))}).then(null,function(dt){j.f("Failed to get token: "+dt),at||rt()})}}function Lg(j,$,_e){_e=_e?Aa(_e,function(et){return ac(et)}).join("$"):"default",(j=Fg(j,$,_e))&&j.G&&j.G("permission_denied")}function Fg(j,$,_e){$=new E($).toString();var et;return n(j.$[$])?(et=j.$[$][_e],delete j.$[$][_e],0===La(j.$[$])&&delete j.$[$]):et=void 0,et}function Hg(j,$,_e){I("Auth token revoked: "+$+"/"+_e),j.ob=null,j.de=!0,j.Fa.close(),("invalid_token"===$||"permission_denied"===$)&&(j.ke++,3<=j.ke&&(j.Sa=3E4,j=j.$c,$="Provided authentication credentials for the app named \""+j.oc.name+"\" are invalid. This usually indicates your app was not initialized correctly. ",$="credential"in j.oc.options?$+"Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":"serviceAccount"in j.oc.options?$+"Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":$+"Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.",J($)))}function Mg(j){Gg(j),v(j.$,function(_e){v(_e,function(et){Eg(j,et)})});for(var $=0;$<j.pa.length;$++)j.pa[$]&&Kg(j,$);for(;j.Kc.length;)$=j.Kc.shift(),Ig(j,$.action,$.we,$.data,$.G)}function Og(j){var $;return $=Lc.Vb().hc,Sa(j.qd)&&$}function Pg(j){j instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=j,this.ba=new U(j,Q),this.INTERNAL=new Rg(this)}function Tg(j,$){null===j.ta&&Vb("Cannot call "+$+" on a deleted database.")}function Rg(j){this.Ya=j}function V(j,$,_e){this.A=j,this.V=$,this.g=_e}function Vg(j,$,_e){this.Pb=j,this.rb=$,this.tb=_e||null}function Wg(j,$,_e){this.ga=j,this.rb=$,this.tb=_e}function Xg(){this.za={}}function Zg(j){return za(Na(j.za),function($){return!T($.V.m)})}function $g(j,$){if(T($.m))return Yg(j);var _e=$.ja();return w(j.za,_e)}function Yg(j){return Ra(j.za,function($){return T($.V.m)})||null}function ah(j){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=j}function bh(j,$,_e,et,tt){var nt=j.jb,at=tt;return D(et>nt.Bc,"Stacking an older write on top of newer ones"),n(at)||(at=!0),nt.la.push({path:$,Ga:_e,Zc:et,visible:at}),at&&(nt.S=uf(nt.S,$,_e)),nt.Bc=et,tt?ch(j,new ce(fe,$,_e)):[]}function dh(j,$,_e,et){var tt=j.jb;return D(et>tt.Bc,"Stacking an older merge on top of newer ones"),tt.la.push({path:$,children:_e,Zc:et,visible:!0}),tt.S=vf(tt.S,$,_e),tt.Bc=et,_e=xd(_e),ch(j,new ae(fe,$,_e))}function eh(j,$,_e){_e=_e||!1;var et=Ef(j.jb,$);if(j.jb.Ed($)){var tt=R;return null==et.Ga?fb(et.children,function(nt,at){tt=tt.set(new E(nt),at)}):tt=tt.set(Q,!0),ch(j,new de(et.path,tt,_e))}return[]}function fh(j,$,_e){return _e=xd(_e),ch(j,new ae(ie,$,_e))}function gh(j,$,_e,et){if(et=hh(j,et),null!=et){var tt=ih(et);return et=tt.path,tt=tt.Hb,$=P(et,$),_e=new ce(new he(!1,!0,tt,!0),$,_e),jh(j,et,_e)}return[]}function kh(j,$,_e,et){if(et=hh(j,et)){var tt=ih(et);return et=tt.path,tt=tt.Hb,$=P(et,$),_e=xd(_e),_e=new ae(new he(!1,!0,tt,!0),$,_e),jh(j,et,_e)}return[]}function oh(j){return Bd(j,function($,_e,et){if(_e&&null!=Yg(_e))return[Yg(_e)];var tt=[];return _e&&(tt=Zg(_e)),v(et,function(nt){tt=tt.concat(nt)}),tt})}function sh(j,$){for(var _e=0,et;_e<$.length;++_e)if(et=$[_e],!T(et.m)){var et=lh(et),tt=j.ic[et];delete j.ic[et],delete j.De["_"+tt]}}function qh(j){return T(j.m)&&!qf(j.m)?j.wb():j}function nh(j,$,_e){var et=$.path,tt=rh(j,$);if(_e=ph(j,_e),$=j.Cc.Ae(qh($),tt,_e.ld,_e.G),et=j.wa.subtree(et),tt)D(null==Yg(et.value),"If we're adding a query, it shouldn't be shadowed");else for(tt=Bd(et,function(nt,at,ot){if(!nt.e()&&at&&null!=Yg(at))return[Te(Yg(at))];var rt=[];return at&&(rt=rt.concat(Aa(Zg(at),function(it){return it.V}))),v(ot,function(it){rt=rt.concat(it)}),rt}),et=0;et<tt.length;++et)_e=tt[et],j.Cc.Od(qh(_e),rh(j,_e));return $}function ph(j,$){var _e=$.V,et=rh(j,_e);return{ld:function(){return($.w()||L).hash()},G:function(tt){if("ok"===tt){if(et){var nt=_e.path;if(tt=hh(j,et)){var at=ih(tt);tt=at.path,at=at.Hb,nt=P(tt,nt),nt=new Zd(new he(!1,!0,at,!0),nt),tt=jh(j,tt,nt)}else tt=[]}else tt=ch(j,new Zd(ie,_e.path));return tt}return nt="Unknown Error","too_big"===tt?nt="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==tt?nt="Client doesn't have permission to access the desired data.":"unavailable"==tt&&(nt="The service is unavailable"),nt=Error(tt+" at "+_e.path.toString()+": "+nt),nt.code=tt.toUpperCase(),j.kb(_e,null,nt)}}}function lh(j){return j.path.toString()+"$"+j.ja()}function ih(j){var $=j.indexOf("$");return D(-1!==$&&$<j.length-1,"Bad queryKey."),{Hb:j.substr($+1),path:new E(j.substr(0,$))}}function hh(j,$){var _e=j.De,et="_"+$;return et in _e?_e[et]:void 0}function rh(j,$){var _e=lh($);return w(j.ic,_e)}function jh(j,$,_e){var et=j.wa.get($);return D(et,"Missing sync point for query tag that we're tracking"),et.eb(_e,new If($,j.jb),null)}function ch(j,$){return th(j,$,j.wa,null,new If(Q,j.jb))}function th(j,$,_e,et,tt){if($.path.e())return uh(j,$,_e,et,tt);var nt=_e.get(Q);null==et&&null!=nt&&(et=nt.hb(Q));var at=[],ot=K($.path),rt=$.Mc(ot);if((_e=_e.children.get(ot))&&rt)var it=et?et.Q(ot):null,ot=tt.n(ot),at=at.concat(th(j,rt,_e,it,ot));return nt&&(at=at.concat(nt.eb($,tt,et))),at}function uh(j,$,_e,et,tt){var nt=_e.get(Q);null==et&&null!=nt&&(et=nt.hb(Q));var at=[];return _e.children.ha(function(ot,rt){var it=et?et.Q(ot):null,dt=tt.n(ot),st=$.Mc(ot);st&&(at=at.concat(uh(j,st,rt,it,dt)))}),nt&&(at=at.concat(nt.eb($,tt,et))),at}function Qg(j,$,_e){this.app=_e;var et=new Bf(_e);if(this.L=j,this.Va=Pf(j),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,$||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),et),setTimeout(q(this.Jc,this,!0),0);else{if($=_e.options.databaseAuthVariableOverride,"undefined"!==da($)&&null!==$){if("object"!==da($))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x($)}catch(nt){throw Error("Invalid authOverride provided: "+nt)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),et,$)}var tt=this;Cf(et,function(nt){tt.va.kf(nt)}),this.og=Qf(j,q(function(){return new Jf(this.Va,this.va)},this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(nt,at,ot,rt){return at=[],ot=tt.ie.j(nt.path),ot.e()||(at=ch(tt.pd,new ce(ie,nt.path,ot)),setTimeout(function(){rt("ok")},0)),at},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(nt,at,ot,rt){return tt.va.$e(nt,ot,at,function(it,dt){var st=rt(it,dt);cf(tt.ca,nt.path,st)}),[]},Od:function(nt,at){tt.va.uf(nt,at)}})}function wh(j){return j=j.ie.j(new E(".info/serverTimeOffset")).H()||0,new Date().getTime()+j}function xh(j){return j=j={timestamp:wh(j)},j.timestamp=j.timestamp||new Date().getTime(),j}function vh(j,$,_e){$=new E("/.info/"+$),_e=G(_e);var et=j.ie;et.Jd=et.Jd.F($,_e),_e=ch(j.pd,new ce(ie,$,_e)),cf(j.ca,$,_e)}function zh(j){j.f("onDisconnectEvents");var $=xh(j),_e=[];Hb(Fb(j.ia,$),Q,function(et,tt){_e=_e.concat(ch(j.K,new ce(ie,et,tt)));var nt=Bh(j,et);yh(j,nt)}),j.ia=new Gb,cf(j.ca,Q,_e)}function Ch(j,$,_e,et){var tt=G(_e);j.va.re($.toString(),tt.H(!0),function(nt,at){"ok"===nt&&Ib(j.ia,$,tt),Ah(et,nt,at)})}function Dh(j,$,_e,et,tt){var nt=G(_e,et);j.va.re($.toString(),nt.H(!0),function(at,ot){"ok"===at&&Ib(j.ia,$,nt),Ah(tt,at,ot)})}function Eh(j,$,_e,et){var tt=!0,nt;for(nt in _e)tt=!1;tt?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(et,"ok")):j.va.cf($.toString(),_e,function(at,ot){if("ok"===at)for(var rt in _e){var it=G(_e[rt]);Ib(j.ia,$.n(rt),it)}Ah(et,at,ot)})}function Fh(j,$,_e){_e=".info"===K($.path)?j.pd.Nb($,_e):j.K.Nb($,_e),af(j.ca,$.path,_e)}function Ah(j,$,_e){j&&fc(function(){if("ok"==$)j(null);else{var et=($||"error").toUpperCase(),tt=et;_e&&(tt+=": "+_e),tt=Error(tt),tt.code=et,j(tt)}})}function Gh(j,$,_e,et,tt){function nt(){}j.f("transaction on "+$);var at=new U(j,$);if(at.gc("value",nt),_e={path:$,update:_e,G:et,status:null,ef:Lb(),He:tt,of:0,Rd:function(){at.Ic("value",nt)},Td:null,Ba:null,cd:null,dd:null,ed:null},et=j.K.Aa($,void 0)||L,_e.cd=et,et=_e.update(et.H()),n(et)){Pd("transaction failed: Data returned ",et,_e.path),_e.status=1,tt=Uc(j.mc,$);var ot=tt.Ca()||[];ot.push(_e),Vc(tt,ot),"object"===typeof et&&null!==et&&eb(et,".priority")?(ot=w(et,".priority"),D(Nd(ot),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ot=(j.K.Aa($)||L).C().H(),tt=xh(j),et=G(et,ot),tt=Jb(et,tt),_e.dd=et,_e.ed=tt,_e.Ba=j.vd++,_e=bh(j.K,$,tt,_e.Ba,_e.He),cf(j.ca,$,_e),Hh(j)}else _e.Rd(),_e.dd=null,_e.ed=null,_e.G&&(j=new V(_e.cd,new U(j,_e.path),H),_e.G(null,!1,j))}function Hh(j,$){var _e=$||j.mc;if($||Ih(j,_e),null!==_e.Ca()){var et=Jh(j,_e);D(0<et.length,"Sending zero length transaction queue"),Ca(et,function(tt){return 1===tt.status})&&Kh(j,_e.path(),et)}else _e.kd()&&_e.O(function(tt){Hh(j,tt)})}function Kh(j,$,_e){for(var et=Aa(_e,function(rt){return rt.Ba}),tt=j.K.Aa($,et)||L,et=tt,tt=tt.hash(),nt=0,at;nt<_e.length;nt++){at=_e[nt],D(1===at.status,"tryToSendTransactionQueue_: items in queue should all be run."),at.status=2,at.of++;var ot=P($,at.path),et=et.F(ot,at.dd)}et=et.H(!0),j.va.put($.toString(),et,function(rt){j.f("transaction put response",{path:$.toString(),status:rt});var it=[];if("ok"===rt){for(rt=[],nt=0;nt<_e.length;nt++){if(_e[nt].status=3,it=it.concat(eh(j.K,_e[nt].Ba)),_e[nt].G){var dt=_e[nt].ed,st=new U(j,_e[nt].path);rt.push(q(_e[nt].G,null,null,!0,new V(dt,st,H)))}_e[nt].Rd()}for(Ih(j,Uc(j.mc,$)),Hh(j),cf(j.ca,$,it),nt=0;nt<rt.length;nt++)fc(rt[nt])}else{if("datastale"===rt)for(nt=0;nt<_e.length;nt++)_e[nt].status=4===_e[nt].status?5:1;else for(J("transaction at "+$.toString()+" failed: "+rt),nt=0;nt<_e.length;nt++)_e[nt].status=5,_e[nt].Td=rt;yh(j,$)}},tt)}function yh(j,$){var _e=Lh(j,$),et=_e.path(),_e=Jh(j,_e);return Mh(j,_e,et),et}function Mh(j,$,_e){if(0!==$.length){for(var et=[],tt=[],nt=za($,function(ct){return 1===ct.status}),nt=Aa(nt,function(ct){return ct.Ba}),at=0;at<$.length;at++){var ot=$[at],rt=P(_e,ot.path),it=!1,dt;if(D(null!==rt,"rerunTransactionsUnderNode_: relativePath should not be null."),5===ot.status)it=!0,dt=ot.Td,tt=tt.concat(eh(j.K,ot.Ba,!0));else if(1===ot.status)if(25<=ot.of)it=!0,dt="maxretry",tt=tt.concat(eh(j.K,ot.Ba,!0));else{var st=j.K.Aa(ot.path,nt)||L;ot.cd=st;var lt=$[at].update(st.H());n(lt)?(Pd("transaction failed: Data returned ",lt,ot.path),rt=G(lt),"object"===typeof lt&&null!=lt&&eb(lt,".priority")||(rt=rt.fa(st.C())),st=ot.Ba,lt=xh(j),lt=Jb(rt,lt),ot.dd=rt,ot.ed=lt,ot.Ba=j.vd++,Fa(nt,st),tt=tt.concat(bh(j.K,ot.path,lt,ot.Ba,ot.He)),tt=tt.concat(eh(j.K,st,!0))):(it=!0,dt="nodata",tt=tt.concat(eh(j.K,ot.Ba,!0)))}cf(j.ca,_e,tt),tt=[],it&&($[at].status=3,setTimeout($[at].Rd,Math.floor(0)),$[at].G&&("nodata"===dt?(ot=new U(j,$[at].path),et.push(q($[at].G,null,null,!1,new V($[at].cd,ot,H)))):et.push(q($[at].G,null,Error(dt),!1,null))))}for(Ih(j,j.mc),at=0;at<et.length;at++)fc(et[at]);Hh(j)}}function Lh(j,$){for(var et=j.mc,_e;null!==(_e=K($))&&null===et.Ca();)et=Uc(et,_e),$=N($);return et}function Jh(j,$){var _e=[];return Nh(j,$,_e),_e.sort(function(et,tt){return et.ef-tt.ef}),_e}function Nh(j,$,_e){var et=$.Ca();if(null!==et)for(var tt=0;tt<et.length;tt++)_e.push(et[tt]);$.O(function(nt){Nh(j,nt,_e)})}function Ih(j,$){var _e=$.Ca();if(_e){for(var et=0,tt=0;tt<_e.length;tt++)3!==_e[tt].status&&(_e[et]=_e[tt],et++);_e.length=et,Vc($,0<_e.length?_e:null)}$.O(function(nt){Ih(j,nt)})}function Bh(j,$){var _e=Lh(j,$).path(),et=Uc(j.mc,$);return Yc(et,function(tt){Oh(j,tt)}),Oh(j,et),Xc(et,function(tt){Oh(j,tt)}),_e}function Oh(j,$){var _e=$.Ca();if(null!==_e){for(var et=[],tt=[],nt=-1,at=0;at<_e.length;at++)4!==_e[at].status&&(2===_e[at].status?(D(nt===at-1,"All SENT items should be at beginning of queue."),nt=at,_e[at].status=4,_e[at].Td="set"):(D(1===_e[at].status,"Unexpected transaction status in abort"),_e[at].Rd(),tt=tt.concat(eh(j.K,_e[at].Ba,!0)),_e[at].G&&et.push(q(_e[at].G,null,Error("set"),!1,null))));for(-1===nt?Vc($,null):_e.length=nt+1,cf(j.ca,$.path(),tt),at=0;at<et.length;at++)fc(et[at])}}function Ug(){this.lb={},this.wf=!1}function Ph(j,$){this.committed=j,this.snapshot=$}function X(j,$,_e,et){this.u=j,this.path=$,this.m=_e,this.Nc=et}function Qh(j){var $=null,_e=null;if(j.ka&&($=ff(j)),j.na&&(_e=hf(j)),j.g===tc){if(j.ka){if("[MIN_NAME]"!=ef(j))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof $)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(j.na){if("[MAX_NAME]"!=gf(j))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof _e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(j.g===H){if(null!=$&&!Nd($)||null!=_e&&!Nd(_e))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(D(j.g instanceof pc||j.g===wc,"unknown index type."),null!=$&&"object"===typeof $||null!=_e&&"object"===typeof _e)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(j){if(j.ka&&j.na&&j.xa&&(!j.xa||""===j.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(j,$){if(!0===j.Nc)throw Error($+": You can't combine multiple orderBy calls.")}function Th(j,$,_e){var et={cancel:null,Ma:null};if($&&_e)et.cancel=$,B(j,3,et.cancel,!0),et.Ma=_e,ob(j,4,et.Ma);else if($)if("object"===typeof $&&null!==$)et.Ma=$;else if("function"===typeof $)et.cancel=$;else throw Error(A(j,3,!0)+" must either be a cancel callback or a context object.");return et}function Y(j,$){this.ta=j,this.qa=$}function U(j,$){if(!(j instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,j,$,mf,!1),this.then=void 0,this["catch"]=void 0}var aa=this,g,qa={'"':"\\\"","\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ra=/\uffff/.test("\uFFFF")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(j,$){if(null!=j){n($)||($=j.length);for(var _e=$-this.Wa,et=0,tt=this.Wd,nt=this.$b;et<$;){if(0==nt)for(;et<=_e;)ua(this,j,et),et+=this.Wa;if(p(j)){for(;et<$;)if(tt[nt]=j.charCodeAt(et),++nt,++et,nt==this.Wa){ua(this,tt),nt=0;break}}else for(;et<$;)if(tt[nt]=j[et],++nt,++et,nt==this.Wa){ua(this,tt),nt=0;break}}this.$b=nt,this.Pd+=$}};var r;a:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break a}}r=""}var t=Array.prototype,xa=t.indexOf?function(j,$,_e){return t.indexOf.call(j,$,_e)}:function(j,$,_e){if(_e=null==_e?0:0>_e?Math.max(0,j.length+_e):_e,p(j))return p($)&&1==$.length?j.indexOf($,_e):-1;for(;_e<j.length;_e++)if(_e in j&&j[_e]===$)return _e;return-1},ya=t.forEach?function(j,$,_e){t.forEach.call(j,$,_e)}:function(j,$,_e){for(var et=j.length,tt=p(j)?j.split(""):j,nt=0;nt<et;nt++)nt in tt&&$.call(_e,tt[nt],nt,j)},za=t.filter?function(j,$,_e){return t.filter.call(j,$,_e)}:function(j,$,_e){for(var et=j.length,tt=[],nt=0,at=p(j)?j.split(""):j,ot=0;ot<et;ot++)if(ot in at){var rt=at[ot];$.call(_e,rt,ot,j)&&(tt[nt++]=rt)}return tt},Aa=t.map?function(j,$,_e){return t.map.call(j,$,_e)}:function(j,$,_e){for(var et=j.length,tt=Array(et),nt=p(j)?j.split(""):j,at=0;at<et;at++)at in nt&&(tt[at]=$.call(_e,nt[at],at,j));return tt},Ba=t.reduce?function(j,$,_e,et){for(var tt=[],nt=1,at=arguments.length;nt<at;nt++)tt.push(arguments[nt]);return et&&(tt[0]=q($,et)),t.reduce.apply(j,tt)}:function(j,$,_e,et){var tt=_e;return ya(j,function(nt,at){tt=$.call(et,tt,nt,at,j)}),tt},Ca=t.every?function(j,$,_e){return t.every.call(j,$,_e)}:function(j,$,_e){for(var et=j.length,tt=p(j)?j.split(""):j,nt=0;nt<et;nt++)if(nt in tt&&!$.call(_e,tt[nt],nt,j))return!1;return!0},Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&-1==r.indexOf("Trident")&&-1==r.indexOf("MSIE"),Xa=-1!=r.toLowerCase().indexOf("webkit");(function(){var j="",$;return Ua&&aa.opera?(j=aa.opera.version,ha(j)?j():j):(Wa?$=/rv\:([^\);]+)(\)|;)/:Va?$=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&($=/WebKit\/(\S+)/),$&&(j=(j=$.exec(r))?j[1]:""),Va&&($=($=aa.document)?$.documentMode:void 0,$>parseFloat(j))?$+"":j)})();var Ya=null,Za=null,$a=null,hb=firebase.Promise;g=ub.prototype,g.set=function(j,$){null==$?this.uc.removeItem(this.Cd+j):this.uc.setItem(this.Cd+j,x($))},g.get=function(j){return j=this.uc.getItem(this.Cd+j),null==j?null:lb(j)},g.remove=function(j){this.uc.removeItem(this.Cd+j)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(j,$){null==$?delete this.pc[j]:this.pc[j]=$},vb.prototype.get=function(j){return eb(this.pc,j)?this.pc[j]:null},vb.prototype.remove=function(j){delete this.pc[j]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");zb.prototype.toString=function(){var j=(this.Sc?"https://":"http://")+this.host;return this.gf&&(j+="<"+this.gf+">"),j};var Lb=function(){var j=1;return function(){return j++}}(),D=cb,Mb=db,Qb=null,Rb=!0,ec=/^-?\d{1,10}$/,mc={};lc.prototype.nd=function(j,$){return 0!==this.compare(new C("[MIN_NAME]",j),new C("[MIN_NAME]",$))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(j){return!j.P(this.bc).e()},g.compare=function(j,$){var _e=j.R.P(this.bc),et=$.R.P(this.bc),_e=_e.sc(et);return 0===_e?sb(j.name,$.name):_e},g.Ec=function(j,$){var _e=G(j),_e=L.F(this.bc,_e);return new C($,_e)},g.Fc=function(){var j=L.F(this.bc,qc);return new C("[MAX_NAME]",j)},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(j,$){var _e=j.R.C(),et=$.R.C(),_e=_e.sc(et);return 0===_e?sb(j.name,$.name):_e},g.xc=function(j){return!j.C().e()},g.nd=function(j,$){return!j.C().Z($.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(j,$){var _e=G(j);return new C($,new Kb("[PRIORITY-POST]",_e))},g.toString=function(){return".priority"};var H=new rc;la(sc,lc),g=sc.prototype,g.compare=function(j,$){return sb(j.name,$.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(j){return D(p(j),"KeyIndex indexValue must always be a string."),new C(j,L)},g.toString=function(){return".key"};var tc=new sc;la(uc,lc),g=uc.prototype,g.compare=function(j,$){var _e=j.R.sc($.R);return 0===_e?sb(j.name,$.name):_e},g.xc=function(){return!0},g.nd=function(j,$){return!j.Z($)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(j,$){var _e=G(j);return new C($,_e)},g.toString=function(){return".value"};var wc=new uc;xc.prototype.get=function(j){var $=w(this.od,j);if(!$)throw Error("No index defined for "+j);return $===mc?null:$};var Bc=new xc({".priority":mc},{".priority":H}),Dc=["object","boolean","number","string"];g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(j){return new Kb(this.B,j)},g.Q=function(j){return".priority"===j?this.aa:L},g.P=function(j){return j.e()?this:".priority"===K(j)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(j,$){return".priority"===j?this.fa($):$.e()&&".priority"!==j?this:L.T(j,$).fa(this.aa)},g.F=function(j,$){var _e=K(j);return null===_e?$:$.e()&&".priority"!==_e?this:(D(".priority"!==_e||1===Ec(j),".priority must be the last token in a path"),this.T(_e,L.F(N(j),$)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(j){return j&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var j="";this.aa.e()||(j+="priority:"+Fc(this.aa.H())+":");var $=typeof this.B,j=j+($+":"),j="number"===$?j+dc(this.B):j+this.B;this.Db=Ob(j)}return this.Db},g.Ca=function(){return this.B},g.sc=function(j){if(j===L)return 1;if(j instanceof O)return-1;D(j.J(),"Unknown node type");var $=typeof j.B,_e=typeof this.B,et=xa(Dc,$),tt=xa(Dc,_e);return D(0<=et,"Unknown leaf type: "+$),D(0<=tt,"Unknown leaf type: "+_e),et===tt?"object"===_e?0:this.B<j.B?-1:this.B===j.B?0:1:tt-et},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(j){return j===this||!!j.J()&&this.B===j.B&&this.aa.Z(j.aa)},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(j,$){this.set[j]=null===$||$},g.contains=function(j){return eb(this.set,j)},g.get=function(j){return this.contains(j)?this.set[j]:void 0},g.remove=function(j){delete this.set[j]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var j=[];return v(this.set,function($,_e){j.push(_e)}),j},Ic.prototype.Ge=function(j){var _e=this.Dc[j]||[];var et=_e.length;if(0<et){for(var tt=Array(et),nt=0;nt<et;nt++)tt[nt]=_e[nt];_e=tt}else _e=[];for(et=0;et<_e.length;et++)_e[et].Ie.apply(_e[et].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(j,$,_e){Jc(this,j),this.Dc[j]=this.Dc[j]||[],this.Dc[j].push({Ie:$,Ma:_e}),(j=this.Ue(j))&&$.apply(_e,j)},Ic.prototype.Ic=function(j,$,_e){Jc(this,j),j=this.Dc[j]||[];for(var et=0;et<j.length;et++)if(j[et].Ie===$&&(!_e||_e===j[et].Ma)){j.splice(et,1);break}};var Kc=function(){var j=0,$=[];return function(_e){var et=_e===j;j=_e;for(var tt=Array(8),nt=7;0<=nt;nt--)tt[nt]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(_e%64),_e=Math.floor(_e/64);if(D(0===_e,"Cannot push at time == 0"),_e=tt.join(""),et){for(nt=11;0<=nt&&63===$[nt];nt--)$[nt]=0;$[nt]++}else for(nt=0;12>nt;nt++)$[nt]=Math.floor(64*Math.random());for(nt=0;12>nt;nt++)_e+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt($[nt]);return D(20===_e.length,"nextPushId: Length should be 20."),_e}}();la(Lc,Ic),Lc.prototype.Ue=function(j){return D("online"===j,"Unknown event type: "+j),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(j){return D("visible"===j,"Unknown event type: "+j),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var j="",$=this.Y;$<this.o.length;$++)""!==this.o[$]&&(j+="/"+this.o[$]);return j||"/"},g.slice=function(j){return this.o.slice(this.Y+(j||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var j=[],$=this.Y;$<this.o.length-1;$++)j.push(this.o[$]);return new E(j,0)},g.n=function(j){for(var $=[],_e=this.Y;_e<this.o.length;_e++)$.push(this.o[_e]);if(j instanceof E)for(_e=j.Y;_e<j.o.length;_e++)$.push(j.o[_e]);else for(j=j.split("/"),_e=0;_e<j.length;_e++)0<j[_e].length&&$.push(j[_e]);return new E($,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(j){if(Ec(this)!==Ec(j))return!1;for(var $=this.Y,_e=j.Y;$<=this.o.length;$++,_e++)if(this.o[$]!==j.o[_e])return!1;return!0},g.contains=function(j){var $=this.Y,_e=j.Y;if(Ec(this)>Ec(j))return!1;for(;$<this.o.length;){if(this.o[$]!==j.o[_e])return!1;++$,++_e}return!0};var Q=new E("");Pc.prototype.push=function(j){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(j),this.Ha+=nb(j),Qc(this)},Pc.prototype.pop=function(){var j=this.Qa.pop();this.Ha-=nb(j),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(j){var $=this;v(this.A.children,function(_e,et){j(new Tc(et,$,_e))})},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(j,$){return new Zc(this.La,this.ba.Oa(j,$,this.La).X(null,null,!1,null,null))},g.remove=function(j){return new Zc(this.La,this.ba.remove(j,this.La).X(null,null,!1,null,null))},g.get=function(j){for(var _e=this.ba,$;!_e.e();){if($=this.La(j,_e.key),0===$)return _e.value;0>$?_e=_e.left:0<$&&(_e=_e.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(j){return this.ba.ha(j)},g.Wb=function(j){return new bd(this.ba,null,this.La,!1,j)},g.Xb=function(j,$){return new bd(this.ba,j,this.La,!1,$)},g.Zb=function(j,$){return new bd(this.ba,j,this.La,!0,$)},g.We=function(j){return new bd(this.ba,null,this.La,!0,j)},g=dd.prototype,g.X=function(j,$,_e,et,tt){return new dd(null==j?this.key:j,null==$?this.value:$,null==_e?this.color:_e,null==et?this.left:et,null==tt?this.right:tt)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(j){return this.left.ha(j)||j(this.key,this.value)||this.right.ha(j)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(j,$,_e){var et,tt;return tt=this,et=_e(j,tt.key),tt=0>et?tt.X(null,null,null,tt.left.Oa(j,$,_e),null):0===et?tt.X(null,$,null,null,null):tt.X(null,null,null,null,tt.right.Oa(j,$,_e)),gd(tt)},g.remove=function(j,$){var _e,et;if(_e=this,0>$(j,_e.key))_e.left.e()||_e.left.ea()||_e.left.left.ea()||(_e=id(_e)),_e=_e.X(null,null,null,_e.left.remove(j,$),null);else{if(_e.left.ea()&&(_e=jd(_e)),_e.right.e()||_e.right.ea()||_e.right.left.ea()||(_e=kd(_e),_e.left.left.ea()&&(_e=jd(_e),_e=kd(_e))),0===$(j,_e.key)){if(_e.right.e())return $c;et=ed(_e.right),_e=_e.X(et.key,et.value,null,null,hd(_e.right))}_e=_e.X(null,null,null,null,_e.right.remove(j,$))}return gd(_e)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(j,$){return new dd(j,$,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(j){return this.k.e()?this:new O(this.k,j,this.yb)},g.Q=function(j){return".priority"===j?this.C():(j=this.k.get(j),null===j?L:j)},g.P=function(j){var $=K(j);return null===$?this:this.Q($).P(N(j))},g.Da=function(j){return null!==this.k.get(j)},g.T=function(j,$){if(D($,"We should always be passing snapshot nodes"),".priority"===j)return this.fa($);var _e=new C(j,$),et,tt;return $.e()?(et=this.k.remove(j),_e=Ac(this.yb,_e,this.k)):(et=this.k.Oa(j,$),_e=yc(this.yb,_e,this.k)),tt=et.e()?L:this.aa,new O(et,tt,_e)},g.F=function(j,$){var _e=K(j);if(null===_e)return $;D(".priority"!==K(j)||1===Ec(j),".priority must be the last token in a path");var et=this.Q(_e).F(N(j),$);return this.T(_e,et)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;g=O.prototype,g.H=function(j){if(this.e())return null;var $={},_e=0,et=0,tt=!0;if(this.O(H,function(ot,rt){$[ot]=rt.H(j),_e++,tt&&nd.test(ot)?et=Math.max(et,+ot):tt=!1}),!j&&tt&&et<2*_e){var nt=[],at;for(at in $)nt[at]=$[at];return nt}return j&&!this.C().e()&&($[".priority"]=this.C().H()),$},g.hash=function(){if(null===this.Db){var j="";this.C().e()||(j+="priority:"+Fc(this.C().H())+":"),this.O(H,function($,_e){var et=_e.hash();""!==et&&(j+=":"+$+":"+et)}),this.Db=""===j?"":Ob(j)}return this.Db},g.Ve=function(j,$,_e){return(_e=od(this,_e))?(j=ad(_e,new C(j,$)))?j.name:null:ad(this.k,j)},g.O=function(j,$){var _e=od(this,j);return _e?_e.ha(function(et){return $(et.name,et.R)}):this.k.ha($)},g.Wb=function(j){return this.Xb(j.Hc(),j)},g.Xb=function(j,$){var _e=od(this,$);if(_e)return _e.Xb(j,function(tt){return tt});for(var _e=this.k.Xb(j.name,qb),et=cd(_e);null!=et&&0>$.compare(et,j);)M(_e),et=cd(_e);return _e},g.We=function(j){return this.Zb(j.Fc(),j)},g.Zb=function(j,$){var _e=od(this,$);if(_e)return _e.Zb(j,function(tt){return tt});for(var _e=this.k.Zb(j.name,qb),et=cd(_e);null!=et&&0<$.compare(et,j);)M(_e),et=cd(_e);return _e},g.sc=function(j){return this.e()?j.e()?0:-1:j.J()||j.e()?1:j===qc?-1:0},g.nb=function(j){if(j===tc||Pa(this.yb.cc,j.toString()))return this;var $=this.yb,_e=this.k;D(j!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var et=[],tt=!1,_e=_e.Wb(qb),nt=M(_e);nt;)tt=tt||j.xc(nt.R),et.push(nt),nt=M(_e);return et=tt?zc(et,nc(j)):mc,tt=j.toString(),_e=Ta($.cc),_e[tt]=j,j=Ta($.od),j[tt]=et,new O(this.k,this.aa,new xc(j,_e))},g.yc=function(j){return j===tc||Pa(this.yb.cc,j.toString())},g.Z=function(j){if(j===this)return!0;if(j.J())return!1;if(this.C().Z(j.C())&&this.k.count()===j.k.count()){var $=this.Wb(H);j=j.Wb(H);for(var _e=M($),et=M(j);_e&&et;){if(_e.name!==et.name||!_e.R.Z(et.R))return!1;_e=M($),et=M(j)}return null===_e&&null===et}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2),L=new O(new Zc(tb),null,Bc);la(ud,O),g=ud.prototype,g.sc=function(j){return j===this?0:1},g.Z=function(j){return j===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc),wd=new Zc(function(j,$){return j===$?0:j<$?-1:1});g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(j){if(j.e())return this;var $=this.children.get(K(j));return null===$?R:$.subtree(N(j))},g.set=function(j,$){if(j.e())return new vd($,this.children);var _e=K(j),et=(this.children.get(_e)||R).set(N(j),$),_e=this.children.Oa(_e,et);return new vd(this.value,_e)},g.remove=function(j){if(j.e())return this.children.e()?R:new vd(null,this.children);var $=K(j),_e=this.children.get($);return _e?(j=_e.remove(N(j)),$=j.e()?this.children.remove($):this.children.Oa($,j),null===this.value&&$.e()?R:new vd(this.value,$)):this},g.get=function(j){if(j.e())return this.value;var $=this.children.get(K(j));return $?$.get(N(j)):null};var R=new vd(null);vd.prototype.toString=function(){var j={};return Hd(this,function($,_e){j[$.toString()]=_e.toString()}),x(j)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;Gb.prototype.find=function(j){if(null!=this.B)return this.B.P(j);if(j.e()||null==this.k)return null;var $=K(j);return j=N(j),this.k.contains($)?this.k.get($).find(j):null},Gb.prototype.O=function(j){null!==this.k&&Hc(this.k,function($,_e){j($,_e)})},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(j){return this.path.e()?(j=this.children.subtree(new E(j)),j.e()?null:j.value?new ce(this.source,Q,j.value):new ae(this.source,Q,j)):(D(K(this.path)===j,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(j){return this.path.e()?null==this.Ob.value?(j=this.Ob.subtree(new E(j)),new de(Q,j,this.Id)):(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(D(K(this.path)===j,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(j){return this.path.e()?new ce(this.source,Q,this.Ga.Q(j)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3,fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;ue.prototype.Te=function(j){var $=this.Ka.N;return ne($,j)?$.j().Q(j):($=null==this.yd?this.Ka.w():new je(this.yd,!0,!1),this.xf.qc(j,$))},ue.prototype.fe=function(j,$,_e){var et=null==this.yd?re(this.Ka):this.yd;return j=this.xf.Xd(et,$,1,_e,j),0===j.length?null:j[0]},we.prototype.eb=function(j,$,_e,et){var tt=new xe,nt;if($.type===ge)$.source.ee?_e=ye(this,j,$.path,$.Ga,_e,et,tt):(D($.source.Se,"Unknown source."),nt=$.source.Ee||le(j.w())&&!$.path.e(),_e=ze(this,j,$.path,$.Ga,_e,et,nt,tt));else if($.type===be)$.source.ee?_e=Ae(this,j,$.path,$.children,_e,et,tt):(D($.source.Se,"Unknown source."),nt=$.source.Ee||le(j.w()),_e=Be(this,j,$.path,$.children,_e,et,nt,tt));else if($.type===ee){if(!$.Id)_e=Ce(this,j,$.path,$.Ob,_e,et,tt);else if($=$.path,null!=_e.lc($))_e=j;else{if(nt=new ue(_e,j,et),et=j.N.j(),$.e()||".priority"===K($))ke(j.w())?$=_e.Aa(re(j)):($=j.w().j(),D($ instanceof O,"serverChildren would be complete if leaf node"),$=_e.rc($)),$=this.U.ya(et,$,tt);else{var at=K($),ot=_e.qc(at,j.w());null==ot&&ne(j.w(),at)&&(ot=et.Q(at)),$=null==ot?j.N.j().Da(at)?this.U.F(et,at,L,N($),nt,tt):et:this.U.F(et,at,ot,N($),nt,tt),$.e()&&ke(j.w())&&(et=_e.Aa(re(j)),et.J()&&($=this.U.ya($,et,tt)))}et=ke(j.w())||null!=_e.lc(Q),_e=pe(j,$,et,this.U.Na())}}else if($.type===$d)et=$.path,$=j.w(),nt=$.j(),at=$.da||et.e(),_e=De(this,new oe(j.N,new je(nt,at,$.Sb)),et,_e,te,tt);else throw Mb("Unknown operation type: "+$.type);return tt=Na(tt.fb),et=_e,$=et.N,$.da&&(nt=$.j().J()||$.j().e(),at=qe(j),(0<tt.length||!j.N.da||nt&&!$.j().Z(at)||!$.j().C().Z(at.C()))&&tt.push(Ee(qe(et)))),new ve(_e,tt)},Ge.prototype.Ff=function(j,$){if(null==j.Xa||null==$.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(j.Xa,j.Ja),new C($.Xa,$.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(j){var $=re(this.Ka);return $&&(T(this.V.m)||!j.e()&&!$.Q(K(j)).e())?$.P(j):null},g.e=function(){return 0===this.Za.length},g.Nb=function(j){this.Za.push(j)},g.kb=function(j,$){var _e=[];if($){D(null==j,"A cancel should cancel all event registrations.");var et=this.V.path;ya(this.Za,function(ot){(ot=ot.Me($,et))&&_e.push(ot)})}if(j){for(var tt=[],nt=0,at;nt<this.Za.length;++nt)if(at=this.Za[nt],!at.matches(j))tt.push(at);else if(j.Xe()){tt=tt.concat(this.Za.slice(nt+1));break}this.Za=tt}else this.Za=[];return _e},g.eb=function(j,$,_e){j.type===be&&null!==j.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var et=this.Ka;return j=this.hf.eb(et,j,$,_e),$=this.hf,_e=j.Sd,D(_e.N.j().yc($.U.g),"Event snap not indexed"),D(_e.w().j().yc($.U.g),"Server snap not indexed"),D(ke(j.Sd.w())||!ke(et.w()),"Once a server snap is complete, it should never go back"),this.Ka=j.Sd,Ue(this,j.Df,j.Sd.N.j(),null)},We.prototype.Yb=function(){var j=this.Md.wb();return"value"===this.hd?j.path:j.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(j){this.jd.push(j)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(j,$,_e,et,tt,nt){return(D(j.yc(this.g),"A node must be indexed if only a child is updated"),tt=j.Q($),tt.P(et).Z(_e.P(et))&&tt.e()==_e.e())?j:(null!=nt&&(_e.e()?j.Da($)?df(nt,new S(Le,tt,$)):D(j.J(),"A child remove without an old child only makes sense on a leaf node"):tt.e()?df(nt,new S(Me,_e,$)):df(nt,new S(Ie,_e,$,tt))),j.J()&&_e.e()?j:j.T($,_e).nb(this.g))},g.ya=function(j,$,_e){return null!=_e&&(j.J()||j.O(H,function(et,tt){$.Da(et)||df(_e,new S(Le,tt,et))}),$.J()||$.O(H,function(et,tt){if(j.Da(et)){var nt=j.Q(et);nt.Z(tt)||df(_e,new S(Ie,tt,et,nt))}else df(_e,new S(Me,tt,et))})),$.nb(this.g)},g.fa=function(j,$){return j.e()?L:j.fa($)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(j){return 0>=this.g.compare(this.Uc,j)&&0>=this.g.compare(j,this.vc)},g.F=function(j,$,_e,et,tt,nt){return this.matches(new C($,_e))||(_e=L),this.he.F(j,$,_e,et,tt,nt)},g.ya=function(j,$,_e){$.J()&&($=L);var et=$.nb(this.g),et=et.fa(L),tt=this;return $.O(H,function(nt,at){tt.matches(new C(nt,at))||(et=et.T(nt,L))}),this.he.ya(j,et,_e)},g.fa=function(j){return j},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(j,$,_e,et,tt,nt){return this.sa.matches(new C($,_e))||(_e=L),j.Q($).Z(_e)?j:j.Eb()<this.oa?this.sa.Ub().F(j,$,_e,et,tt,nt):kf(this,j,$,_e,tt,nt)},g.ya=function(j,$,_e){var et;if($.J()||$.e())et=L.nb(this.g);else if(2*this.oa<$.Eb()&&$.yc(this.g)){et=L.nb(this.g),$=this.Ib?$.Zb(this.sa.vc,this.g):$.Xb(this.sa.Uc,this.g);for(var tt=0;0<$.Pa.length&&tt<this.oa;){var nt=M($),at;if(at=this.Ib?0>=this.g.compare(this.sa.Uc,nt):0>=this.g.compare(nt,this.sa.vc))et=et.T(nt.name,nt.R),tt++;else break}}else{et=$.nb(this.g),et=et.fa(L);var ot,rt,it;if(this.Ib){$=et.We(this.g),ot=this.sa.vc,rt=this.sa.Uc;var dt=nc(this.g);it=function(lt,ct){return dt(ct,lt)}}else $=et.Wb(this.g),ot=this.sa.Uc,rt=this.sa.vc,it=nc(this.g);for(var tt=0,st=!1;0<$.Pa.length;)nt=M($),!st&&0>=it(ot,nt)&&(st=!0),(at=st&&tt<this.oa&&0>=it(nt,rt))?tt++:et=et.T(nt.name,L)}return this.sa.Ub().ya(j,et,_e)},g.fa=function(j){return j},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value",mf=new lf;g=lf.prototype,g.ne=function(j){var $=nf(this);return $.xa=!0,$.oa=j,$.mb="l",$},g.oe=function(j){var $=nf(this);return $.xa=!0,$.oa=j,$.mb="r",$},g.Nd=function(j,$){var _e=nf(this);return _e.ka=!0,n(j)||(j=null),_e.dc=j,null==$?(_e.Kb=!1,_e.zb=""):(_e.Kb=!0,_e.zb=$),_e},g.gd=function(j,$){var _e=nf(this);return _e.na=!0,n(j)||(j=null),_e.ac=j,n($)?(_e.Rb=!0,_e.xb=$):(_e.vg=!1,_e.xb=""),_e},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));sf.prototype.Ed=function(j){return j.e()?tf:(j=Ad(this.W,j,R),new sf(j))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(j){return zf(Q,this.W,j)},Af.prototype.j=function(j){return this.Jd.P(j)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(j){return this.oc.INTERNAL.getToken(j).then(null,function($){return $&&"auth/token-not-initialized"===$.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject($)})},g=Df.prototype,g.Ed=function(j){var $=Ea(this.la,function(rt){return rt.Zc===j});D(0<=$,"removeWrite called with nonexistent writeId.");var _e=this.la[$];this.la.splice($,1);for(var et=_e.visible,tt=!1,nt=this.la.length-1,at;et&&0<=nt;)at=this.la[nt],at.visible&&(nt>=$&&Ff(at,_e.path)?et=!1:_e.path.contains(at.path)&&(tt=!0)),nt--;if(et){if(tt)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(_e.Ga)this.S=this.S.Ed(_e.path);else{var ot=this;v(_e.children,function(rt,it){ot.S=ot.S.Ed(_e.path.n(it))})}return!0}return!1},g.Aa=function(j,$,_e,et){if(_e||et){var tt=yf(this.S,j);return!et&&tt.e()?$:et||null!=$||null!=wf(tt,Q)?(tt=Gf(this.la,function(nt){return(nt.visible||et)&&(!_e||!(0<=xa(_e,nt.Zc)))&&(nt.path.contains(j)||j.contains(nt.path))},j),$=$||L,tt.apply($)):null}return(tt=wf(this.S,j),null!=tt)?tt:(tt=yf(this.S,j),tt.e()?$:null!=$||null!=wf(tt,Q)?($=$||L,tt.apply($)):null)},g.rc=function(j,$){var _e=L,et=wf(this.S,j);if(et)et.J()||et.O(H,function(nt,at){_e=_e.T(nt,at)});else if($){var tt=yf(this.S,j);$.O(H,function(nt,at){var ot=yf(tt,new E(nt)).apply(at);_e=_e.T(nt,ot)}),ya(xf(tt),function(nt){_e=_e.T(nt.name,nt.R)})}else tt=yf(this.S,j),ya(xf(tt),function(nt){_e=_e.T(nt.name,nt.R)});return _e},g.ad=function(j,$,_e,et){return(D(_e||et,"Either existingEventSnap or existingServerSnap must exist"),j=j.n($),null!=wf(this.S,j))?null:(j=yf(this.S,j),j.e()?et.P($):j.apply(et.P($)))},g.qc=function(j,$,_e){j=j.n($);var et=wf(this.S,j);return null==et?ne(_e,$)?yf(this.S,j).apply(_e.j().Q($)):null:et},g.lc=function(j){return wf(this.S,j)},g.Xd=function(j,$,_e,et,tt,nt){var at;if(j=yf(this.S,j),at=wf(j,Q),null==at)if(null!=$)at=j.apply($);else return[];if(at=at.nb(nt),at.e()||at.J())return[];for($=[],j=nc(nt),tt=tt?at.Zb(_e,nt):at.Xb(_e,nt),nt=M(tt);nt&&$.length<et;)0!==j(nt,_e)&&$.push(nt),nt=M(tt);return $},g=If.prototype,g.Aa=function(j,$,_e){return this.W.Aa(this.Lb,j,$,_e)},g.rc=function(j){return this.W.rc(this.Lb,j)},g.ad=function(j,$,_e){return this.W.ad(this.Lb,j,$,_e)},g.lc=function(j){return this.W.lc(this.Lb.n(j))},g.Xd=function(j,$,_e,et,tt){return this.W.Xd(this.Lb,j,$,_e,et,tt)},g.qc=function(j,$){return this.W.qc(this.Lb,j,$)},g.n=function(j){return new If(this.Lb.n(j),this.W)},Jf.prototype.lf=function(){var j=this.Vc.get(),$={},_e=!1,et;for(et in j)0<j[et]&&eb(this.rf,et)&&($[et]=j[et],_e=!0);_e&&this.va.ye($),hc(q(this.lf,this),Math.floor(6E5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var j=this.Ef.get(),$=Ta(j);if(this.rd)for(var _e in this.rd)$[_e]-=this.rd[_e];return this.rd=j,$};var Nf={},Of={};g=Rf.prototype,g.$e=function(j,$,_e,et){var tt=j.path.toString();this.f("Listen called for "+tt+" "+j.ja());var nt=Sf(j,_e),at={};this.$[nt]=at,j=rf(j.m);var ot=this;Tf(this,tt+".json",j,function(rt,it){var dt=it;404===rt&&(rt=dt=null),null===rt&&ot.Gb(tt,dt,!1,_e),w(ot.$,nt)===at&&et(rt?401==rt?"permission_denied":"rest_error:"+rt:"ok",null)})},g.uf=function(j,$){var _e=Sf(j,$);delete this.$[_e]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null;"undefined"===typeof MozWebSocket?"undefined"!==typeof WebSocket&&(Xf=WebSocket):Xf=MozWebSocket;var Zf;Yf.prototype.open=function(j,$){this.ib=$,this.Xf=j,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(tt){this.f("Error instantiating WebSocket.");var _e=tt.message||tt.data;return _e&&this.f(_e),void this.bb()}var et=this;this.Ia.onopen=function(){et.f("Websocket connected."),et.wc=!0},this.Ia.onclose=function(){et.f("Websocket connection was disconnected."),et.Ia=null,et.bb()},this.Ia.onmessage=function(tt){if(null!==et.Ia)if(tt=tt.data,et.pb+=tt.length,Mf(et.Va,"bytes_received",tt.length),$f(et),null!==et.frames)ag(et,tt);else{a:{if(D(null===et.frames,"We already have a frame buffer"),6>=tt.length){var nt=+tt;if(!isNaN(nt)){et.Fe=nt,et.frames=[],tt=null;break a}}et.Fe=1,et.frames=[]}null!==tt&&ag(et,tt)}},this.Ia.onerror=function(tt){et.f("WebSocket error.  Closing connection."),(tt=tt.message||tt.data)&&et.f(tt),et.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var j=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var $=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);$&&1<$.length&&4.4>parseFloat($[1])&&(j=!0)}return!j&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3E4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(j){$f(this),j=x(j),this.qb+=j.length,Mf(this.Va,"bytes_sent",j.length),j=bc(j,16384),1<j.length&&bg(this,j.length+"");for(var $=0;$<j.length;$++)bg(this,j[$])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())};var dg,eg;cg.prototype.open=function(j,$){this.Ne=0,this.ia=$,this.bf=new Uf(j),this.Ab=!1;var _e=this;this.sb=setTimeout(function(){_e.f("Timed out trying to connect."),_e.bb(),_e.sb=null},Math.floor(3E4)),Yb(function(){if(!_e.Ab){_e.Ta=new fg(function(tt,nt,at){if(gg(_e,arguments),_e.Ta)if(_e.sb&&(clearTimeout(_e.sb),_e.sb=null),_e.wc=!0,"start"==tt)_e.id=nt,_e.ff=at;else if("close"===tt)nt?(_e.Ta.Kd=!1,Vf(_e.bf,nt,function(){_e.bb()})):_e.bb();else throw Error("Unrecognized command received: "+tt)},function(tt,nt){gg(_e,arguments),Wf(_e.bf,tt,nt)},function(){_e.bb()},_e.Yc);var et={start:"t"};et.ser=Math.floor(1E8*Math.random()),_e.Ta.Qd&&(et.cb=_e.Ta.Qd),et.v="5",_e.tf&&(et.s=_e.tf),_e.Cb&&(et.ls=_e.Cb),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(et.r="f"),et=_e.Yc(et),_e.f("Connecting via long-poll to "+et),hg(_e.Ta,et,function(){})}})},cg.prototype.start=function(){var j=this.Ta,$=this.ff;for(j.Vf=this.id,j.Wf=$,j.Ud=!0;ig(j););j=this.id,$=this.ff,this.fc=document.createElement("iframe");var _e={dframe:"t"};_e.id=j,_e.pw=$,this.fc.src=this.Yc(_e),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&("object"!==typeof Windows||"object"!==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(j){j=x(j),this.qb+=j.length,Mf(this.Va,"bytes_sent",j.length),j=mb(j),j=ab(j,!0),j=bc(j,1840);for(var $=0,_e;$<j.length;$++)_e=this.Ta,_e.Qc.push({jg:this.Ne,pg:j.length,Pe:j[$]}),_e.Ud&&ig(_e),this.Ne++},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var j=this;setTimeout(function(){null!==j.Ea&&(document.body.removeChild(j.Ea),j.Ea=null)},Math.floor(0))}var $=this.ib;$&&(this.ib=null,$())};var mg=[cg,Yf];og.prototype.ua=function(j){zg(this,{t:"d",d:j})},og.prototype.wd=function(j){wg(this),this.te(j)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;g=Ag.prototype,g.ua=function(j,$,_e){var et=++this.ig;j={r:et,a:j,b:$},this.f(x(j)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(j),_e&&(this.Gd[et]=_e)},g.$e=function(j,$,_e,et){var tt=j.ja(),nt=j.path.toString();this.f("Listen called for "+nt+" "+tt),this.$[nt]=this.$[nt]||{},D(qf(j.m)||!T(j.m),"listen() called for non-default but complete query"),D(!this.$[nt][tt],"listen() called twice for same path/queryId."),j={G:et,ld:$,eg:j,tag:_e},this.$[nt][tt]=j,this.ma&&Eg(this,j)},g.kf=function(j){this.ob=j,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){}),(j&&40===j.length||kc(j))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3E4)},g.uf=function(j,$){var _e=j.path.toString(),et=j.ja();if(this.f("Unlisten called for "+_e+" "+et),D(qf(j.m)||!T(j.m),"unlisten() called for non-default but complete query"),Fg(this,_e,et)&&this.ma){var tt=pf(j.m);this.f("Unlisten on "+_e+" for "+et),_e={p:_e},$&&(_e.q=tt,_e.t=$),this.ua("n",_e)}},g.re=function(j,$,_e){this.ma?Ig(this,"o",j,$,_e):this.Kc.push({we:j,action:"o",data:$,G:_e})},g.cf=function(j,$,_e){this.ma?Ig(this,"om",j,$,_e):this.Kc.push({we:j,action:"om",data:$,G:_e})},g.xd=function(j,$){this.ma?Ig(this,"oc",j,null,$):this.Kc.push({we:j,action:"oc",data:null,G:$})},g.put=function(j,$,_e,et){Jg(this,"p",j,$,_e,et)},g.af=function(j,$,_e,et){Jg(this,"m",j,$,_e,et)},g.ye=function(j){this.ma&&(j={c:j},this.f("reportStats",j),this.ua("s",j,function($){"ok"!==$.s&&this.f("reportStats","Error sending stats: "+$.d)}))},g.wd=function(j){if("r"in j){this.f("from server: "+x(j));var $=j.r,_e=this.Gd[$];_e&&(delete this.Gd[$],_e(j.b))}else{if("error"in j)throw"A server-side error has occurred: "+j.error;"a"in j&&($=j.a,j=j.b,this.f("handleServerMessage",$,j),"d"===$?this.Gb(j.p,j.d,!1,j.t):"m"===$?this.Gb(j.p,j.d,!0,j.t):"c"===$?Lg(this,j.p,j.q):"ac"===$?Hg(this,j.s,j.d):"sd"===$?this.ze?this.ze(j):"msg"in j&&"undefined"!==typeof console&&console.log("FIREBASE: "+j.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x($)+"\nAre you using the latest client?"))}},g.Lc=function(j,$){if(this.f("connection ready"),this.ma=!0,this.Ac=new Date().getTime(),this.ue({serverTimeOffset:j-new Date().getTime()}),this.Cb=$,this.Re){var _e={};_e["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?_e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(_e["framework.reactnative"]=1),this.ye(_e)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(j){j&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1E3,this.Fa||Cg(this,0)),this.Mb=j},g.Yf=function(j){j?(this.f("Browser went online."),this.Sa=1E3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var j=0,$;j<this.pa.length;j++)$=this.pa[j],$&&"h"in $.mf&&$.fg&&($.G&&$.G("disconnect"),delete this.pa[j],this.Oc--);0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3E4<new Date().getTime()-this.Ac&&(this.Sa=1E3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=new Date().getTime()),j=Math.max(0,this.Sa-(new Date().getTime()-this.me)),j*=Math.random(),this.f("Trying to reconnect in "+j+"ms"),Cg(this,j),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(j){I("Interrupting connection for reason: "+j),this.qd[j]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(j){I("Resuming connection for reason: "+j),delete this.qd[j],Sa(this.qd)&&(this.Sa=1E3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};g=Pg.prototype,g.app=null,g.jf=function(j){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(j)?this.ba.n(j):this.ba},g.gg=function(j){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var $=Wb(j);Xd("database.refFromURL",$);var _e=$.jc;return _e.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+_e.host+" but expected "+this.ta.L.host+")"),this.jf($.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var j=Ug.Vb(),$=this.Ya.ta;return w(j.lb,$.app.name)!==$&&Vb("Database "+$.app.name+" has already been deleted."),$.ab(),delete j.lb[$.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype["delete"]=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(j){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(j)&&(j+=""),Vd("Firebase.DataSnapshot.child",j);var $=new E(j),_e=this.V.n($);return new V(this.A.P($),_e,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(j){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",j);var $=new E(j);return!this.A.P($).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(j){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,j,!1),this.A.J())return!1;var $=this;return!!this.A.O(this.g,function(_e,et){return j(new V(et,$.V.n(_e),H))})},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(j){return"value"===j},g.createEvent=function(j,$){var _e=$.m.g;return new We("value",this,new V(j.Ja,$.wb(),_e))},g.Tb=function(j){var $=this.tb;if("cancel"===j.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var _e=this.rb;return function(){_e.call($,j.error)}}var et=this.Pb;return function(){et.call($,j.Md)}},g.Me=function(j,$){return this.rb?new Xe(this,j,$):null},g.matches=function(j){return!!(j instanceof Vg)&&(j.Pb&&this.Pb?j.Pb===this.Pb&&j.tb===this.tb:!0)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(j){return j="children_added"===j?"child_added":j,("children_removed"===j?"child_removed":j)in this.ga},g.Me=function(j,$){return this.rb?new Xe(this,j,$):null},g.createEvent=function(j,$){D(null!=j.Xa,"Child events should have a childName.");var _e=$.wb().n(j.Xa);return new We(j.type,this,new V(j.Ja,_e,$.m.g),j.Dd)},g.Tb=function(j){var $=this.tb;if("cancel"===j.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var _e=this.rb;return function(){_e.call($,j.error)}}var et=this.ga[j.hd];return function(){et.call($,j.Md,j.Dd)}},g.matches=function(j){if(j instanceof Wg){if(!this.ga||!j.ga)return!0;if(this.tb===j.tb){var $=La(j.ga);if($===La(this.ga)){if(1===$){var $=Ma(j.ga),_e=Ma(this.ga);return _e===$&&(!j.ga[$]||!this.ga[_e]||j.ga[$]===this.ga[_e])}return Ka(this.ga,function(et,tt){return j.ga[tt]===et})}}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(j,$,_e){var et=j.source.Hb;if(null!==et)return et=w(this.za,et),D(null!=et,"SyncTree gave us an op for an invalid query."),et.eb(j,$,_e);var tt=[];return v(this.za,function(nt){tt=tt.concat(nt.eb(j,$,_e))}),tt},g.Nb=function(j,$,_e,et,tt){var nt=j.ja(),at=w(this.za,nt);if(!at){var at=_e.Aa(tt?et:null),ot=!1;at?ot=!0:(at=et instanceof O?_e.rc(et):L,ot=!1),at=new Pe(j,new oe(new je(at,ot,!1),new je(et,tt,!1))),this.za[nt]=at}return at.Nb($),Ve(at,$)},g.kb=function(j,$,_e){var et=j.ja(),tt=[],nt=[],at=null!=Yg(this);if("default"===et){var ot=this;v(this.za,function(it,dt){nt=nt.concat(it.kb($,_e)),it.e()&&(delete ot.za[dt],T(it.V.m)||tt.push(it.V))})}else{var rt=w(this.za,et);rt&&(nt=nt.concat(rt.kb($,_e)),rt.e()&&(delete this.za[et],T(rt.V.m)||tt.push(rt.V)))}return at&&null==Yg(this)&&tt.push(new U(j.u,j.path)),{hg:tt,Kf:nt}},g.hb=function(j){var $=null;return v(this.za,function(_e){$=$||_e.hb(j)}),$},ah.prototype.Nb=function(j,$){var _e=j.path,et=null,tt=!1;Fd(this.wa,_e,function(dt,st){var lt=P(dt,_e);et=et||st.hb(lt),tt=tt||null!=Yg(st)});var nt=this.wa.get(_e);nt?(tt=tt||null!=Yg(nt),et=et||nt.hb(Q)):(nt=new Xg,this.wa=this.wa.set(_e,nt));var at;null==et?(at=!1,et=L,Jd(this.wa.subtree(_e),function(dt,st){var lt=st.hb(Q);lt&&(et=et.T(dt,lt))})):at=!0;var ot=null!=$g(nt,j);if(!ot&&!T(j.m)){var rt=lh(j);D(!(rt in this.ic),"View does not exist, but we have a tag");var it=mh++;this.ic[rt]=it,this.De["_"+it]=rt}return at=nt.Nb(j,$,new If(_e,this.jb),et,at),ot||tt||(nt=$g(nt,j),at=at.concat(nh(this,j,nt))),at},ah.prototype.kb=function(j,$,_e){var et=j.path,tt=this.wa.get(et),nt=[];if(tt&&("default"===j.ja()||null!=$g(tt,j))){nt=tt.kb(j,$,_e),tt.e()&&(this.wa=this.wa.remove(et)),tt=nt.hg,nt=nt.Kf,$=-1!==Ea(tt,function(st){return T(st.m)});var at=Dd(this.wa,et,function(st,lt){return null!=Yg(lt)});if($&&!at&&(et=this.wa.subtree(et),!et.e()))for(var et=oh(et),ot=0;ot<et.length;++ot){var rt=et[ot],it=rt.V,rt=ph(this,rt);this.Cc.Ae(qh(it),rh(this,it),rt.ld,rt.G)}if(!at&&0<tt.length&&!_e)if($)this.Cc.Od(qh(j),null);else{var dt=this;ya(tt,function(st){st.ja();var lt=dt.ic[lh(st)];dt.Cc.Od(qh(st),lt)})}sh(this,tt)}return nt},ah.prototype.Aa=function(j,$){var _e=this.jb,et=Dd(this.wa,j,function(tt,nt){var at=P(tt,j);if(at=nt.hb(at))return at});return _e.Aa(j,et,$,!0)};var mh=1;g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(j,$,_e,et){this.fd++;var tt=new E(j);$=this.je?this.je(j,$):$,j=[],et?_e?($=Ja($,function(nt){return G(nt)}),j=kh(this.K,tt,$,et)):($=G($),j=gh(this.K,tt,$,et)):_e?(et=Ja($,function(nt){return G(nt)}),j=fh(this.K,tt,et)):(et=G($),j=ch(this.K,new ce(ie,tt,et))),et=tt,0<j.length&&(et=yh(this,tt)),cf(this.ca,et,j)},g.Jc=function(j){vh(this,"connected",j),!1===j&&zh(this)},g.ue=function(j){var $=this;cc(j,function(_e,et){vh($,et,_e)})},g.Jb=function(j,$,_e,et){this.f("set",{path:j.toString(),value:$,ug:_e});var tt=xh(this);$=G($,_e);var tt=Jb($,tt),nt=this.vd++,tt=bh(this.K,j,tt,nt,!0);Ze(this.ca,tt);var at=this;this.va.put(j.toString(),$.H(!0),function(ot,rt){var it="ok"===ot;it||J("set at "+j+" failed: "+ot),it=eh(at.K,nt,!it),cf(at.ca,j,it),Ah(et,ot,rt)}),tt=Bh(this,j),yh(this,tt),cf(this.ca,tt,[])},g.update=function(j,$,_e){this.f("update",{path:j.toString(),value:$});var et=!0,tt=xh(this),nt={};if(v($,function(it,dt){et=!1;var st=G(it);nt[dt]=Jb(st,tt)}),et)I("update() called with empty data.  Don't do anything."),Ah(_e,"ok");else{var at=this.vd++,ot=dh(this.K,j,nt,at);Ze(this.ca,ot);var rt=this;this.va.af(j.toString(),$,function(it,dt){var st="ok"===it;st||J("update at "+j+" failed: "+it);var st=eh(rt.K,at,!st),lt=j;0<st.length&&(lt=yh(rt,j)),cf(rt.ca,lt,st),Ah(_e,it,dt)}),v($,function(it,dt){var st=Bh(rt,j.n(dt));yh(rt,st)}),cf(this.ca,j,[])}},g.xd=function(j,$){var _e=this;this.va.xd(j.toString(),function(et,tt){"ok"===et&&Yd(_e.ia,j),Ah($,et,tt)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(j){if("undefined"!==typeof console){j?(this.Vc||(this.Vc=new Kf(this.Va)),j=this.Vc.get()):j=this.Va.get();var $=Ba(Oa(j),function(nt,at){return Math.max(at.length,nt)},0),_e;for(_e in j){for(var et=j[_e],tt=_e.length;tt<$+2;tt++)_e+=" ";console.log(_e+et)}}},g.Ce=function(j){Mf(this.Va,j),this.og.rf[j]=!0},g.f=function(){var $="";this.Ra&&($=this.Ra.id+":"),I($,arguments)},Ug.prototype.ab=function(){for(var j in this.lb)this.lb[j].ab()},Ug.prototype.kc=function(){for(var j in this.lb)this.lb[j].kc()},Ug.prototype.ce=function(j){this.wf=j},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(j,$){this.ua("q",{p:j},$)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(j,$){this.ua("echo",{d:j},$)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(j){var $=Ag.prototype.put;return Ag.prototype.put=function(_e,et,tt,nt){n(nt)&&(nt=j()),$.call(this,_e,et,tt,nt)},function(){Ag.prototype.put=$}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(j){return j.ja()},W.queryIdentifier=W.ja,W.Uf=function(j){return j.u.Ra.$},W.listens=W.Uf,W.ce=function(j){Ug.Vb().ce(j)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(j,$,_e,et){y("Query.on",2,4,arguments.length),Td("Query.on",j,!1),B("Query.on",2,$,!1);var tt=Th("Query.on",_e,et);if("value"===j)Fh(this.u,this,new Vg($,tt.cancel||null,tt.Ma||null));else{var nt={};nt[j]=$,Fh(this.u,this,new Wg(nt,tt.cancel,tt.Ma))}return $},g.Ic=function(j,$,_e){y("Query.off",0,3,arguments.length),Td("Query.off",j,!0),B("Query.off",2,$,!0),ob("Query.off",3,_e);var et=null,tt=null;"value"===j?et=new Vg($||null,null,_e||null):j&&($&&(tt={},tt[j]=$),et=new Wg(tt,null,_e||null)),tt=this.u,et=".info"===K(this.path)?tt.pd.kb(this,et):tt.K.kb(this,et),af(tt.ca,this.path,et)},g.$f=function(j,$){function _e(ot){nt&&(nt=!1,tt.Ic(j,_e),$&&$.call(et.Ma,ot),at.resolve(ot))}y("Query.once",1,4,arguments.length),Td("Query.once",j,!1),B("Query.once",2,$,!0);var et=Th("Query.once",arguments[2],arguments[3]),tt=this,nt=!0,at=new ib;return kb(at.ra),this.gc(j,_e,function(ot){tt.Ic(j,_e),et.cancel&&et.cancel.call(et.Ma,ot),at.reject(ot)}),at.ra},g.ne=function(j){if(y("Query.limitToFirst",1,1,arguments.length),!ga(j)||Math.floor(j)!==j||0>=j)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(j),this.Nc)},g.oe=function(j){if(y("Query.limitToLast",1,1,arguments.length),!ga(j)||Math.floor(j)!==j||0>=j)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(j),this.Nc)},g.ag=function(j){if(y("Query.orderByChild",1,1,arguments.length),"$key"===j)throw Error("Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.");if("$priority"===j)throw Error("Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.");if("$value"===j)throw Error("Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.");Vd("Query.orderByChild",j),Sh(this,"Query.orderByChild");var $=new E(j);if($.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return $=new pc($),$=of(this.m,$),Qh($),new X(this.u,this.path,$,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var j=of(this.m,tc);return Qh(j),new X(this.u,this.path,j,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var j=of(this.m,H);return Qh(j),new X(this.u,this.path,j,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var j=of(this.m,wc);return Qh(j),new X(this.u,this.path,j,!0)},g.Nd=function(j,$){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",j,this.path,!0),Ud("Query.startAt",$);var _e=this.m.Nd(j,$);if(Rh(_e),Qh(_e),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(j)||($=j=null),new X(this.u,this.path,_e,this.Nc)},g.gd=function(j,$){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",j,this.path,!0),Ud("Query.endAt",$);var _e=this.m.gd(j,$);if(Rh(_e),Qh(_e),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,_e,this.Nc)},g.If=function(j,$){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",j,this.path,!1),Ud("Query.equalTo",$),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(j,$).gd(j,$)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var j=this.path,$="",_e=j.Y;_e<j.o.length;_e++)""!==j.o[_e]&&($+="/"+encodeURIComponent(j.o[_e]+""));return this.u.toString()+($||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var j=ac(pf(this.m));return"{}"===j?"default":j},g.isEqual=function(j){if(y("Query.isEqual",1,1,arguments.length),!(j instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var $=this.u===j.u,_e=this.path.Z(j.path),et=this.ja()===j.ja();return $&&_e&&et},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(j){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,j,!0);var $=new ib;return this.ta.xd(this.qa,jb($,j)),$.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(j){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,j,!0);var $=new ib;return Ch(this.ta,this.qa,null,jb($,j)),$.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(j,$){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",j,this.qa,!1),B("Firebase.onDisconnect().set",2,$,!0);var _e=new ib;return Ch(this.ta,this.qa,j,jb(_e,$)),_e.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(j,$,_e){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",j,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,$),B("Firebase.onDisconnect().setWithPriority",3,_e,!0);var et=new ib;return Dh(this.ta,this.qa,j,$,jb(et,_e)),et.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(j,$){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(j)){for(var _e={},et=0;et<j.length;++et)_e[""+et]=j[et];j=_e,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",j,this.qa),B("Firebase.onDisconnect().update",2,$,!0),_e=new ib,Eh(this.ta,this.qa,j,jb(_e,$)),_e.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(j,$){j.u.Ra.ze=$},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(j,$){j.u.Be($)},Z.stats=Z.Be,Z.Ce=function(j,$){j.u.Ce($)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(j){return j.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(j,$){j.u.je=$},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(j){if(y("Firebase.child",1,1,arguments.length),ga(j))j+="";else if(!(j instanceof E))if(null===K(this.path)){var $=j;$&&($=$.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",$)}else Vd("Firebase.child",j);return new U(this.u,this.path.n(j))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var j=this.path.parent();return null===j?null:new U(this.u,j)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var j=this;null!==j.getParent();)j=j.getParent();return j},g.Gf=function(){return this.u.Ya},g.set=function(j,$){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",j,this.path,!1),B("Firebase.set",2,$,!0);var _e=new ib;return this.u.Jb(this.path,j,null,jb(_e,$)),_e.ra},g.update=function(j,$){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(j)){for(var _e={},et=0;et<j.length;++et)_e[""+et]=j[et];j=_e,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",j,this.path),B("Firebase.update",2,$,!0),_e=new ib,this.u.update(this.path,j,jb(_e,$)),_e.ra},g.Jb=function(j,$,_e){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",j,this.path,!1),Sd("Firebase.setWithPriority",2,$),B("Firebase.setWithPriority",3,_e,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var et=new ib;return this.u.Jb(this.path,j,$,jb(et,_e)),et.ra},g.remove=function(j){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,j,!0),this.set(null,j)},g.transaction=function(j,$,_e){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,j,!1),B("Firebase.transaction",2,$,!0),n(_e)&&"boolean"!=typeof _e)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"===typeof _e&&(_e=!0);var et=new ib;return ha($)&&kb(et.ra),Gh(this.u,this.path,j,function(tt,nt,at){tt?et.reject(tt):et.resolve(new Ph(nt,at)),ha($)&&$(tt,nt,at)},_e),et.ra},g.kg=function(j,$){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,j),B("Firebase.setPriority",2,$,!0);var _e=new ib;return this.u.Jb(this.path.n(".priority"),j,null,jb(_e,$)),_e.ra},g.push=function(j,$){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",j,this.path,!0),B("Firebase.push",2,$,!0);var _e=wh(this.u),et=Kc(_e),_e=this.n(et),tt=this.n(et),et=null==j?hb.resolve(tt):_e.set(j,$).then(function(){return tt});return _e.then=q(et.then,et),_e["catch"]=q(et.then,et,void 0),ha($)&&kb(et),_e},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),"undefined"===typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(j){var $=Ug.Vb(),_e=j.options.databaseURL;n(_e)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var et=Wb(_e),_e=et.jc;return Xd("Invalid Firebase Database URL",et),et.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(et=w($.lb,j.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),et=new Qg(_e,$.wf,j),$.lb[j.name]=et,et.Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(j){Vb("Failed to register the Firebase Database Service ("+j+")")}}();try{webpackJsonp([1],[,,,,,function(j,$){"use strict";function et(ot,rt,it){return rt in ot?Object.defineProperty(ot,rt,{value:it,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=it,ot}Object.defineProperty($,"__esModule",{value:!0});var nt={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},at=(tt={},et(tt,nt.AVAILABLE_IN_WINDOW,"This method is available in a Window context."),et(tt,nt.AVAILABLE_IN_SW,"This method is available in a service worker context."),et(tt,nt.SHOULD_BE_INHERITED,"This method should be overriden by extended classes."),et(tt,nt.BAD_SENDER_ID,"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp()."),et(tt,nt.PERMISSION_DEFAULT,"The required permissions were not granted and dismissed instead."),et(tt,nt.PERMISSION_BLOCKED,"The required permissions were not granted and blocked instead."),et(tt,nt.UNSUPPORTED_BROWSER,"This browser doesn't support the API's required to use the firebase SDK."),et(tt,nt.NOTIFICATIONS_BLOCKED,"Notifications have been blocked."),et(tt,nt.FAILED_DEFAULT_REGISTRATION,"We are unable to register the default service worker. {$browserErrorMessage}"),et(tt,nt.SW_REGISTRATION_EXPECTED,"A service worker registration was the expected input."),et(tt,nt.GET_SUBSCRIPTION_FAILED,"There was an error when trying to get any existing Push Subscriptions."),et(tt,nt.INVALID_SAVED_TOKEN,"Unable to access details of the saved token."),et(tt,nt.SW_REG_REDUNDANT,"The service worker being used for push was made redundant."),et(tt,nt.TOKEN_SUBSCRIBE_FAILED,"A problem occured while subscribing the user to FCM: {$message}"),et(tt,nt.TOKEN_SUBSCRIBE_NO_TOKEN,"FCM returned no token when subscribing the user to push."),et(tt,nt.TOKEN_SUBSCRIBE_NO_PUSH_SET,"FCM returned an invalid response when getting an FCM token."),et(tt,nt.USE_SW_BEFORE_GET_TOKEN,"You must call useServiceWorker() before calling getToken() to ensure your service worker is used."),et(tt,nt.INVALID_DELETE_TOKEN,"You must pass a valid token into deleteToken(), i.e. the token from getToken()."),et(tt,nt.DELETE_TOKEN_NOT_FOUND,"The deletion attempt for token could not be performed as the token was not found."),et(tt,nt.DELETE_SCOPE_NOT_FOUND,"The deletion attempt for service worker scope could not be performed as the scope was not found."),et(tt,nt.BG_HANDLER_FUNCTION_EXPECTED,"The input to setBackgroundMessageHandler() must be a function."),et(tt,nt.NO_WINDOW_CLIENT_TO_MSG,"An attempt was made to message a non-existant window client."),et(tt,nt.UNABLE_TO_RESUBSCRIBE,"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}"),et(tt,nt.NO_FCM_TOKEN_FOR_RESUBSCRIBE,"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit."),et(tt,nt.FAILED_TO_DELETE_TOKEN,"Unable to delete the currently saved token."),et(tt,nt.NO_SW_IN_REG,"Even though the service worker registration was successful, there was a problem accessing the service worker itself."),et(tt,nt.INCORRECT_GCM_SENDER_ID,"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging."),et(tt,nt.BAD_SCOPE,"The service worker scope must be a string with at least one character."),et(tt,nt.BAD_VAPID_KEY,"The public VAPID key must be a string with at least one character."),et(tt,nt.BAD_SUBSCRIPTION,"The subscription must be a valid PushSubscription."),et(tt,nt.BAD_TOKEN,"The FCM Token used for storage / lookup was not a valid token string."),et(tt,nt.BAD_PUSH_SET,"The FCM push set used for storage / lookup was not not a valid push set string."),et(tt,nt.FAILED_DELETE_VAPID_KEY,"The VAPID key could not be deleted."),tt),tt;$.default={codes:nt,map:at},j.exports=$.default},,,,,,,,,,,,,function(j,$,_e){"use strict";function et(ut){return ut&&ut.__esModule?ut:{default:ut}}function tt(ut,ht){if(!(ut instanceof ht))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0});var nt=function(){function ut(ht,ft){for(var bt=0,gt;bt<ft.length;bt++)gt=ft[bt],gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}return function(ht,ft,bt){return ft&&ut(ht.prototype,ft),bt&&ut(ht,bt),ht}}(),at=_e(9),ot=_e(5),rt=et(ot),it=_e(36),dt=et(it),st=_e(20),lt=et(st),ct="messagingSenderId",pt=function(){function ut(ht){var ft=this;if(tt(this,ut),this.errorFactory_=new at.ErrorFactory("messaging","Messaging",rt.default.map),!ht.options[ct]||"string"!=typeof ht.options[ct])throw this.errorFactory_.create(rt.default.codes.BAD_SENDER_ID);this.messagingSenderId_=ht.options[ct],this.tokenManager_=new dt.default,this.app=ht,this.INTERNAL={},this.INTERNAL.delete=function(){return ft.delete}}return nt(ut,[{key:"getToken",value:function(){var ht=this,ft=this.getNotificationPermission_();return ft===lt.default.granted?this.getSWRegistration_().then(function(bt){return ht.tokenManager_.getSavedToken(ht.messagingSenderId_,bt).then(function(gt){return gt||ht.tokenManager_.createToken(ht.messagingSenderId_,bt)})}):ft===lt.default.denied?Promise.reject(this.errorFactory_.create(rt.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null)}},{key:"deleteToken",value:function(ht){var ft=this;return this.tokenManager_.deleteToken(ht).then(function(){return ft.getSWRegistration_().then(function(bt){if(bt)return bt.pushManager.getSubscription()}).then(function(bt){if(bt)return bt.unsubscribe()})})}},{key:"getSWRegistration_",value:function(){throw this.errorFactory_.create(rt.default.codes.SHOULD_BE_INHERITED)}},{key:"requestPermission",value:function(){throw this.errorFactory_.create(rt.default.codes.AVAILABLE_IN_WINDOW)}},{key:"useServiceWorker",value:function(){throw this.errorFactory_.create(rt.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onMessage",value:function(){throw this.errorFactory_.create(rt.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onTokenRefresh",value:function(){throw this.errorFactory_.create(rt.default.codes.AVAILABLE_IN_WINDOW)}},{key:"setBackgroundMessageHandler",value:function(){throw this.errorFactory_.create(rt.default.codes.AVAILABLE_IN_SW)}},{key:"delete",value:function(){this.tokenManager_.closeDatabase()}},{key:"getNotificationPermission_",value:function(){return Notification.permission}},{key:"getTokenManager",value:function(){return this.tokenManager_}}]),ut}();$.default=pt,j.exports=$.default},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0});var et=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],tt={userVisibleOnly:!0,applicationServerKey:new Uint8Array(et)};$.default={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:et,SUBSCRIPTION_OPTIONS:tt},j.exports=$.default},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={granted:"granted",default:"default",denied:"denied"},j.exports=$.default},function(j,$){"use strict";function et(ot,rt,it){return rt in ot?Object.defineProperty(ot,rt,{value:it,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=it,ot}Object.defineProperty($,"__esModule",{value:!0});var tt={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"};$.default={PARAMS:tt,TYPES_OF_MSG:{PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},createNewMsg:function(ot,rt){var it;return it={},et(it,tt.TYPE_OF_MSG,ot),et(it,tt.DATA,rt),it}},j.exports=$.default},,,,,,,function(j,$,_e){"use strict";function et(gt){return gt&&gt.__esModule?gt:{default:gt}}function tt(gt,mt,yt){return mt in gt?Object.defineProperty(gt,mt,{value:yt,enumerable:!0,configurable:!0,writable:!0}):gt[mt]=yt,gt}function nt(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")}function at(gt,mt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&("object"==typeof mt||"function"==typeof mt)?mt:gt}function ot(gt,mt){if("function"!=typeof mt&&null!==mt)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);gt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,mt):gt.__proto__=mt)}Object.defineProperty($,"__esModule",{value:!0});var rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(gt){return typeof gt}:function(gt){return gt&&"function"==typeof Symbol&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},it=function(){function gt(mt,yt){for(var vt=0,_t;vt<yt.length;vt++)_t=yt[vt],_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(mt,_t.key,_t)}return function(mt,yt,vt){return yt&&gt(mt.prototype,yt),vt&&gt(mt,vt),mt}}(),dt=_e(18),st=et(dt),lt=_e(5),ct=et(lt),pt=_e(21),ut=et(pt),ht=_e(19),ft=et(ht),bt=function(gt){function mt(yt){nt(this,mt);var vt=at(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,yt));return self.addEventListener("push",function(_t){return vt.onPush_(_t)},!1),self.addEventListener("pushsubscriptionchange",function(_t){return vt.onSubChange_(_t)},!1),self.addEventListener("notificationclick",function(_t){return vt.onNotificationClick_(_t)},!1),vt.bgMessageHandler_=null,vt}return ot(mt,gt),it(mt,[{key:"onPush_",value:function(yt){var vt=this,_t;try{_t=yt.data.json()}catch(Tt){return}var kt=this.hasVisibleClients_().then(function(Tt){if(!Tt){var Et=vt.getNotificationData_(_t);if(Et){var St=Et.title||"";return self.registration.showNotification(St,Et)}if(vt.bgMessageHandler_)return vt.bgMessageHandler_(_t)}else if(_t.notification||vt.bgMessageHandler_)return vt.sendMessageToWindowClients_(_t)});yt.waitUntil(kt)}},{key:"onSubChange_",value:function(yt){var vt=this,_t=this.getToken().then(function(kt){if(!kt)throw vt.errorFactory_.create(ct.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var Tt=null,Et=vt.getTokenManager();return Et.getTokenDetailsFromToken(kt).then(function(St){if(!(Tt=St))throw vt.errorFactory_.create(ct.default.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(ft.default.SUBSCRIPTION_OPTIONS)}).then(function(St){return Et.subscribeToFCM(Tt.fcmSenderId,St,Tt.fcmPushSet)}).catch(function(St){return Et.deleteToken(Tt.fcmToken).then(function(){throw vt.errorFactory_.create(ct.default.codes.UNABLE_TO_RESUBSCRIBE,{message:St})})})});yt.waitUntil(_t)}},{key:"onNotificationClick_",value:function(yt){var vt=this;if(yt.notification&&yt.notification.data&&yt.notification.data.FCM_MSG){yt.stopImmediatePropagation(),yt.notification.close();var _t=yt.notification.data.FCM_MSG,kt=_t.notification.click_action;if(kt){var Tt=this.getWindowClient_(kt).then(function(Et){return Et||self.clients.openWindow(kt)}).then(function(Et){if(Et){_t.notification,delete _t.notification;var St=ut.default.createNewMsg(ut.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,_t);return vt.attemptToMessageClient_(Et,St)}});yt.waitUntil(Tt)}}}},{key:"getNotificationData_",value:function(yt){if(yt&&"object"===rt(yt.notification)){var vt=Object.assign({},yt.notification);return vt.data=tt({},"FCM_MSG",yt),vt}}},{key:"setBackgroundMessageHandler",value:function(yt){if(yt&&"function"!=typeof yt)throw this.errorFactory_.create(ct.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=yt}},{key:"getWindowClient_",value:function(yt){var vt=new URL(yt).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(_t){for(var kt=null,Tt=0;Tt<_t.length;Tt++)if(new URL(_t[Tt].url).href===vt){kt=_t[Tt];break}if(kt)return kt.focus(),kt})}},{key:"attemptToMessageClient_",value:function(yt,vt){var _t=this;return new Promise(function(kt,Tt){return yt?void(yt.postMessage(vt),kt()):Tt(_t.errorFactory_.create(ct.default.codes.NO_WINDOW_CLIENT_TO_MSG))})}},{key:"hasVisibleClients_",value:function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(yt){return yt.some(function(vt){return"visible"===vt.visibilityState})})}},{key:"sendMessageToWindowClients_",value:function(yt){var vt=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(_t){var kt=ut.default.createNewMsg(ut.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,yt);return Promise.all(_t.map(function(Tt){return vt.attemptToMessageClient_(Tt,kt)}))})}},{key:"getSWRegistration_",value:function(){return Promise.resolve(self.registration)}}]),mt}(st.default);$.default=bt,j.exports=$.default},function(j,$,_e){"use strict";function et(yt){return yt&&yt.__esModule?yt:{default:yt}}function tt(yt,vt){if(!(yt instanceof vt))throw new TypeError("Cannot call a class as a function")}function nt(yt,vt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt&&("object"==typeof vt||"function"==typeof vt)?vt:yt}function at(yt,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);yt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,vt):yt.__proto__=vt)}Object.defineProperty($,"__esModule",{value:!0});var ot=function(){function yt(vt,_t){for(var kt=0,Tt;kt<_t.length;kt++)Tt=_t[kt],Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(vt,Tt.key,Tt)}return function(vt,_t,kt){return _t&&yt(vt.prototype,_t),kt&&yt(vt,kt),vt}}(),rt=function yt(vt,_t,kt){null===vt&&(vt=Function.prototype);var Tt=Object.getOwnPropertyDescriptor(vt,_t);if(void 0===Tt){var Et=Object.getPrototypeOf(vt);return null===Et?void 0:yt(Et,_t,kt)}if("value"in Tt)return Tt.value;var St=Tt.get;if(void 0!==St)return St.call(kt)},it=_e(18),dt=et(it),st=_e(5),lt=et(st),ct=_e(21),pt=et(ct),ut=_e(35),ht=et(ut),ft=_e(20),bt=et(ft),gt=_e(17),mt=function(yt){function vt(_t){tt(this,vt);var kt=nt(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,_t));return kt.registrationToUse_,kt.manifestCheckPromise_,kt.messageObserver_=null,kt.onMessage_=(0,gt.createSubscribe)(function(Tt){kt.messageObserver_=Tt}),kt.tokenRefreshObserver_=null,kt.onTokenRefresh_=(0,gt.createSubscribe)(function(Tt){kt.tokenRefreshObserver_=Tt}),kt.setupSWMessageListener_(),kt}return at(vt,yt),ot(vt,[{key:"getToken",value:function(){var _t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return rt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"getToken",_t).call(_t)}):Promise.reject(this.errorFactory_.create(lt.default.codes.UNSUPPORTED_BROWSER))}},{key:"manifestCheck_",value:function(){var _t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var kt=document.querySelector("link[rel=\"manifest\"]");return this.manifestCheckPromise_=kt?fetch(kt.href).then(function(Tt){return Tt.json()}).catch(function(){return Promise.resolve()}).then(function(Tt){if(Tt&&Tt.gcm_sender_id&&"103953800507"!==Tt.gcm_sender_id)throw _t.errorFactory_.create(lt.default.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_}},{key:"requestPermission",value:function(){var _t=this;return Notification.permission===bt.default.granted?Promise.resolve():new Promise(function(kt,Tt){var Et=function(It){return It===bt.default.granted?kt():Tt(It===bt.default.denied?_t.errorFactory_.create(lt.default.codes.PERMISSION_BLOCKED):_t.errorFactory_.create(lt.default.codes.PERMISSION_DEFAULT))},St=Notification.requestPermission(function(It){St||Et(It)});St&&St.then(Et)})}},{key:"useServiceWorker",value:function(_t){if(!(_t instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(lt.default.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(lt.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=_t}},{key:"onMessage",value:function(_t,kt,Tt){return this.onMessage_(_t,kt,Tt)}},{key:"onTokenRefresh",value:function(_t,kt,Tt){return this.onTokenRefresh_(_t,kt,Tt)}},{key:"waitForRegistrationToActivate_",value:function(_t){var kt=this,Tt=_t.installing||_t.waiting||_t.active;return new Promise(function(Et,St){if(!Tt)return void St(kt.errorFactory_.create(lt.default.codes.NO_SW_IN_REG));if("activated"===Tt.state)return void Et(_t);if("redundant"===Tt.state)return void St(kt.errorFactory_.create(lt.default.codes.SW_REG_REDUNDANT));var It=function(){if("activated"===Tt.state)Et(_t);else{if("redundant"!==Tt.state)return;St(kt.errorFactory_.create(lt.default.codes.SW_REG_REDUNDANT))}Tt.removeEventListener("statechange",It)};Tt.addEventListener("statechange",It)})}},{key:"getSWRegistration_",value:function(){var _t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(ht.default.path,{scope:ht.default.scope}).catch(function(kt){throw _t.errorFactory_.create(lt.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:kt.message})}).then(function(kt){return _t.waitForRegistrationToActivate_(kt).then(function(){return _t.registrationToUse_=kt,kt.update(),kt})}))}},{key:"setupSWMessageListener_",value:function(){var _t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(kt){if(kt.data&&kt.data[pt.default.PARAMS.TYPE_OF_MSG]){var Tt=kt.data;switch(Tt[pt.default.PARAMS.TYPE_OF_MSG]){case pt.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case pt.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var Et=Tt[pt.default.PARAMS.DATA];_t.messageObserver_.next(Et);}}},!1)}},{key:"isSupported_",value:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}}]),vt}(dt.default);$.default=mt,j.exports=$.default},,,,function(j,$,_e){"use strict";function et(it){return it&&it.__esModule?it:{default:it}}function tt(it){it.INTERNAL.registerService("messaging",function(dt){return self&&"ServiceWorkerGlobalScope"in self?new rt.default(dt):new at.default(dt)},{Messaging:at.default})}Object.defineProperty($,"__esModule",{value:!0}),$.registerMessaging=tt;var nt=_e(29),at=et(nt),ot=_e(28),rt=et(ot);tt(et(_e(4)).default)},function(j,$){"use strict";function et(tt){var nt=new Uint8Array(tt);return window.btoa(String.fromCharCode.apply(null,nt))}Object.defineProperty($,"__esModule",{value:!0}),$.default=function(tt){return et(tt).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},j.exports=$.default},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},j.exports=$.default},function(j,$,_e){"use strict";function et(ut){return ut&&ut.__esModule?ut:{default:ut}}function tt(ut,ht){if(!(ut instanceof ht))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0});var nt=function(){function ut(ht,ft){for(var bt=0,gt;bt<ft.length;bt++)gt=ft[bt],gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}return function(ht,ft,bt){return ft&&ut(ht.prototype,ft),bt&&ut(ht,bt),ht}}(),at=_e(9),ot=_e(5),rt=et(ot),it=_e(34),dt=et(it),st=_e(19),lt=et(st),ct="fcm_token_object_Store",pt=function(){function ut(){tt(this,ut),this.errorFactory_=new at.ErrorFactory("messaging","Messaging",rt.default.map),this.openDbPromise_=null}return nt(ut,[{key:"openDatabase_",value:function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(ht,ft){var bt=indexedDB.open("fcm_token_details_db",1);bt.onerror=function(gt){ft(gt.target.error)},bt.onsuccess=function(gt){ht(gt.target.result)},bt.onupgradeneeded=function(gt){var mt=gt.target.result,yt=mt.createObjectStore(ct,{keyPath:"swScope"});yt.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),yt.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)}},{key:"closeDatabase",value:function(){var ht=this;return this.openDbPromise_?this.openDbPromise_.then(function(ft){ft.close(),ht.openDbPromise_=null}):Promise.resolve()}},{key:"getTokenDetailsFromToken",value:function(ht){return this.openDatabase_().then(function(ft){return new Promise(function(bt,gt){var mt=ft.transaction([ct]),yt=mt.objectStore(ct),vt=yt.index("fcmToken"),_t=vt.get(ht);_t.onerror=function(kt){gt(kt.target.error)},_t.onsuccess=function(kt){bt(kt.target.result)}})})}},{key:"getTokenDetailsFromSWScope_",value:function(ht){return this.openDatabase_().then(function(ft){return new Promise(function(bt,gt){var mt=ft.transaction([ct]),yt=mt.objectStore(ct),vt=yt.get(ht);vt.onerror=function(_t){gt(_t.target.error)},vt.onsuccess=function(_t){bt(_t.target.result)}})})}},{key:"getAllTokenDetailsForSenderId_",value:function(ht){return this.openDatabase_().then(function(ft){return new Promise(function(bt,gt){var mt=ft.transaction([ct]),yt=mt.objectStore(ct),vt=[],_t=yt.openCursor();_t.onerror=function(kt){gt(kt.target.error)},_t.onsuccess=function(kt){var Tt=kt.target.result;Tt?(Tt.value.fcmSenderId===ht&&vt.push(Tt.value),Tt.continue()):bt(vt)}})})}},{key:"subscribeToFCM",value:function(ht,ft,bt){var gt=this,mt=(0,dt.default)(ft.getKey("p256dh")),yt=(0,dt.default)(ft.getKey("auth")),vt="authorized_entity="+ht+"&endpoint="+ft.endpoint+"&encryption_key="+mt+"&encryption_auth="+yt;bt&&(vt+="&pushSet="+bt);var _t=new Headers;_t.append("Content-Type","application/x-www-form-urlencoded");var kt={method:"POST",headers:_t,body:vt};return fetch(lt.default.ENDPOINT+"/fcm/connect/subscribe",kt).then(function(Tt){return Tt.json()}).then(function(Tt){var Et=Tt;if(Et.error){var St=Et.error.message;throw gt.errorFactory_.create(rt.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:St})}if(!Et.token)throw gt.errorFactory_.create(rt.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!Et.pushSet)throw gt.errorFactory_.create(rt.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:Et.token,pushSet:Et.pushSet}})}},{key:"isSameSubscription_",value:function(ht,ft){return ht.endpoint===ft.endpoint&&(0,dt.default)(ht.getKey("auth"))===ft.auth&&(0,dt.default)(ht.getKey("p256dh"))===ft.p256dh}},{key:"saveTokenDetails_",value:function(ht,ft,bt,gt,mt){var yt={swScope:ft.scope,endpoint:bt.endpoint,auth:(0,dt.default)(bt.getKey("auth")),p256dh:(0,dt.default)(bt.getKey("p256dh")),fcmToken:gt,fcmPushSet:mt,fcmSenderId:ht};return this.openDatabase_().then(function(vt){return new Promise(function(_t,kt){var Tt=vt.transaction([ct],"readwrite"),Et=Tt.objectStore(ct),St=Et.put(yt);St.onerror=function(It){kt(It.target.error)},St.onsuccess=function(){_t()}})})}},{key:"getSavedToken",value:function(ht,ft){var bt=this;return ft instanceof ServiceWorkerRegistration?"string"!=typeof ht||0===ht.length?Promise.reject(this.errorFactory_.create(rt.default.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(ht).then(function(gt){if(0!==gt.length){var mt=gt.findIndex(function(yt){return ft.scope===yt.swScope&&ht===yt.fcmSenderId});if(-1!==mt)return gt[mt]}}).then(function(gt){if(gt)return ft.pushManager.getSubscription().catch(function(){throw bt.errorFactory_.create(rt.default.codes.GET_SUBSCRIPTION_FAILED)}).then(function(mt){if(mt&&bt.isSameSubscription_(mt,gt))return gt.fcmToken})}):Promise.reject(this.errorFactory_.create(rt.default.codes.SW_REGISTRATION_EXPECTED))}},{key:"createToken",value:function(ht,ft){var bt=this;if("string"!=typeof ht||0===ht.length)return Promise.reject(this.errorFactory_.create(rt.default.codes.BAD_SENDER_ID));if(!(ft instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(rt.default.codes.SW_REGISTRATION_EXPECTED));var gt,mt;return ft.pushManager.getSubscription().then(function(yt){return yt||ft.pushManager.subscribe(lt.default.SUBSCRIPTION_OPTIONS)}).then(function(yt){return gt=yt,bt.subscribeToFCM(ht,gt)}).then(function(yt){return mt=yt,bt.saveTokenDetails_(ht,ft,gt,mt.token,mt.pushSet)}).then(function(){return mt.token})}},{key:"deleteToken",value:function(ht){var ft=this;return"string"!=typeof ht||0===ht.length?Promise.reject(this.errorFactory_.create(rt.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(ht).then(function(bt){if(!bt)throw ft.errorFactory_.create(rt.default.codes.DELETE_TOKEN_NOT_FOUND);return ft.openDatabase_().then(function(gt){return new Promise(function(mt,yt){var vt=gt.transaction([ct],"readwrite"),_t=vt.objectStore(ct),kt=_t.delete(bt.swScope);kt.onerror=function(Tt){yt(Tt.target.error)},kt.onsuccess=function(Tt){return 0===Tt.target.result?void yt(ft.errorFactory_.create(rt.default.codes.FAILED_TO_DELETE_TOKEN)):void mt(bt)}})})})}}]),ut}();$.default=pt,j.exports=$.default}],[33])}catch(j){throw new Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")}try{webpackJsonp([0],[function(j,$){"use strict";function at(pt){return"object"===(void 0===pt?"undefined":ct(pt))}function lt(){return"undefined"!=typeof Blob}Object.defineProperty($,"__esModule",{value:!0});var ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pt){return typeof pt}:function(pt){return pt&&"function"==typeof Symbol&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt};$.isDef=function(pt){return null!=pt},$.isJustDef=function(pt){return void 0!==pt},$.isFunction=function(pt){return"function"==typeof pt},$.isObject=at,$.isNonNullObject=function(pt){return at(pt)&&null!==pt},$.isNonArrayObject=function(pt){return at(pt)&&!Array.isArray(pt)},$.isString=function(pt){return"string"==typeof pt||pt instanceof String},$.isNumber=function(pt){return"number"==typeof pt||pt instanceof Number},$.isNativeBlob=function(pt){return lt()&&pt instanceof Blob},$.isNativeBlobDefined=lt},function(j,$,_e){"use strict";function et(Ot,Pt){if(!(Ot instanceof Pt))throw new TypeError("Cannot call a class as a function")}function tt(Ot){return"storage/"+Ot}Object.defineProperty($,"__esModule",{value:!0}),$.Code=$.errors=$.FirebaseStorageError=void 0;var It=function(){function Ot(Pt,Ct){for(var wt=0,Dt;wt<Ct.length;wt++)Dt=Ct[wt],Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Pt,Dt.key,Dt)}return function(Pt,Ct,wt){return Ct&&Ot(Pt.prototype,Ct),wt&&Ot(Pt,wt),Pt}}();$.prependCode=tt,$.unknown=function(){return new Nt(Rt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")},$.objectNotFound=function(Ot){return new Nt(Rt.OBJECT_NOT_FOUND,"Object '"+Ot+"' does not exist.")},$.bucketNotFound=function(Ot){return new Nt(Rt.BUCKET_NOT_FOUND,"Bucket '"+Ot+"' does not exist.")},$.projectNotFound=function(Ot){return new Nt(Rt.PROJECT_NOT_FOUND,"Project '"+Ot+"' does not exist.")},$.quotaExceeded=function(Ot){return new Nt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+Ot+"' exceeded, please view quota on https://firebase.google.com/pricing/.")},$.unauthenticated=function(){return new Nt(Rt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")},$.unauthorized=function(Ot){return new Nt(Rt.UNAUTHORIZED,"User does not have permission to access '"+Ot+"'.")},$.retryLimitExceeded=function(){return new Nt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")},$.invalidChecksum=function(Ot,Pt,Ct){return new Nt(Rt.INVALID_CHECKSUM,"Uploaded/downloaded object '"+Ot+"' has checksum '"+Pt+"' which does not match '"+Ct+"'. Please retry the upload/download.")},$.canceled=function(){return new Nt(Rt.CANCELED,"User canceled the upload/download.")},$.invalidEventName=function(Ot){return new Nt(Rt.INVALID_EVENT_NAME,"Invalid event name '"+Ot+"'.")},$.invalidUrl=function(Ot){return new Nt(Rt.INVALID_URL,"Invalid URL '"+Ot+"'.")},$.invalidDefaultBucket=function(Ot){return new Nt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ot+"'.")},$.noDefaultBucket=function(){return new Nt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+At.configOption+"' property when initializing the app?")},$.cannotSliceBlob=function(){return new Nt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")},$.serverFileWrongSize=function(){return new Nt(Rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")},$.noDownloadURL=function(){return new Nt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")},$.invalidArgument=function(Ot,Pt,Ct){return new Nt(Rt.INVALID_ARGUMENT,"Invalid argument in `"+Pt+"` at index "+Ot+": "+Ct)},$.invalidArgumentCount=function(Ot,Pt,Ct,wt){var Dt,Ut;return Ot===Pt?(Dt=Ot,Ut=1===Ot?"argument":"arguments"):(Dt="between "+Ot+" and "+Pt,Ut="arguments"),new Nt(Rt.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+Ct+"`: Expected "+Dt+" "+Ut+", received "+wt+".")},$.appDeleted=function(){return new Nt(Rt.APP_DELETED,"The Firebase app was deleted.")},$.invalidRootOperation=function(Ot){return new Nt(Rt.INVALID_ROOT_OPERATION,"The operation '"+Ot+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},$.invalidFormat=function(Ot,Pt){return new Nt(Rt.INVALID_FORMAT,"String does not match format '"+Ot+"': "+Pt)},$.internalError=function(Ot){throw new Nt(Rt.INTERNAL_ERROR,"Internal error: "+Ot)};var At=_e(6),Nt=$.FirebaseStorageError=function(){function Ot(Pt,Ct){et(this,Ot),this.code_=tt(Pt),this.message_="Firebase Storage: "+Ct,this.serverResponse_=null,this.name_="FirebaseError"}return It(Ot,[{key:"codeProp",value:function(){return this.code}},{key:"codeEquals",value:function(Pt){return tt(Pt)===this.codeProp()}},{key:"serverResponseProp",value:function(){return this.serverResponse_}},{key:"setServerResponseProp",value:function(Pt){this.serverResponse_=Pt}},{key:"name",get:function(){return this.name_}},{key:"code",get:function(){return this.code_}},{key:"message",get:function(){return this.message_}},{key:"serverResponse",get:function(){return this.serverResponse_}}]),Ot}(),Rt=($.errors={},$.Code={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"})},function(j,$,_e){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.make=function(ot){return new at.local.Promise(ot)},$.resolve=function(ot){return at.local.Promise.resolve(ot)},$.reject=function(ot){return at.local.Promise.reject(ot)};var at=_e(10)},function(j,$){"use strict";function et(at,ot){return Object.prototype.hasOwnProperty.call(at,ot)}function tt(at,ot){for(var rt in at)et(at,rt)&&ot(rt,at[rt])}Object.defineProperty($,"__esModule",{value:!0}),$.contains=et,$.forEach=tt,$.clone=function(at){if(null==at)return{};var ot={};return tt(at,function(rt,it){ot[rt]=it}),ot}},,,function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setDomainBase=function(tt){tt=tt},$.domainBase="https://firebasestorage.googleapis.com",$.downloadBase="https://firebasestorage.googleapis.com",$.apiBaseUrl="/v0",$.apiUploadBaseUrl="/v0",$.configOption="storageBucket",$.shortMaxOperationRetryTime=6e4,$.defaultMaxOperationRetryTime=12e4,$.defaultMaxUploadRetryTime=6e4,$.minSafeInteger=-9007199254740991},function(j,$,_e){"use strict";function et(ot,rt){if(!(ot instanceof rt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.Location=void 0;var tt=function(){function ot(rt,it){for(var dt=0,st;dt<it.length;dt++)st=it[dt],st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(rt,st.key,st)}return function(rt,it,dt){return it&&ot(rt.prototype,it),dt&&ot(rt,dt),rt}}(),nt=_e(1),at=function(ot){if(ot&&ot.__esModule)return ot;var rt={};if(null!=ot)for(var it in ot)Object.prototype.hasOwnProperty.call(ot,it)&&(rt[it]=ot[it]);return rt.default=ot,rt}(nt);$.Location=function(){function ot(rt,it){et(this,ot),this.bucket=rt,this.path_=it}return tt(ot,[{key:"fullServerUrl",value:function(){var rt=encodeURIComponent;return"/b/"+rt(this.bucket)+"/o/"+rt(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}}],[{key:"makeFromBucketSpec",value:function(rt){var it;try{it=ot.makeFromUrl(rt)}catch(dt){return new ot(rt,"")}if(""===it.path)return it;throw at.invalidDefaultBucket(rt)}},{key:"makeFromUrl",value:function(rt){for(var it=null,dt=/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,st=/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,lt=[{regex:dt,indices:{bucket:1,path:3},postModify:function(bt){"/"===bt.path.charAt(bt.path.length-1)&&(bt.path_=bt.path_.slice(0,-1))}},{regex:st,indices:{bucket:1,path:3},postModify:function(bt){bt.path_=decodeURIComponent(bt.path)}}],ct=0;ct<lt.length;ct++){var pt=lt[ct],ut=pt.regex.exec(rt);if(ut){var ht=ut[pt.indices.bucket],ft=ut[pt.indices.path];ft||(ft=""),it=new ot(ht,ft),pt.postModify(it);break}}if(null==it)throw at.invalidUrl(rt);return it}}]),ot}()},function(j,$,_e){"use strict";function et(ft,bt){if(!(ft instanceof bt))throw new TypeError("Cannot call a class as a function")}function at(ft){for(var bt=[],gt=0,mt;gt<ft.length;gt++)if(mt=ft.charCodeAt(gt),127>=mt)bt.push(mt);else if(2047>=mt)bt.push(192|mt>>6,128|63&mt);else if(55296==(64512&mt)){var yt=gt<ft.length-1&&56320==(64512&ft.charCodeAt(gt+1));if(yt){var vt=mt,_t=ft.charCodeAt(++gt);mt=65536|(1023&vt)<<10|1023&_t,bt.push(240|mt>>18,128|63&mt>>12,128|63&mt>>6,128|63&mt)}else bt.push(239,191,189)}else 56320==(64512&mt)?bt.push(239,191,189):bt.push(224|mt>>12,128|63&mt>>6,128|63&mt);return new Uint8Array(bt)}function ot(ft){var bt;try{bt=decodeURIComponent(ft)}catch(gt){throw ct.invalidFormat(pt.DATA_URL,"Malformed data URL.")}return at(bt)}function rt(ft,bt){switch(ft){case pt.BASE64:var gt=-1!==bt.indexOf("-"),mt=-1!==bt.indexOf("_");if(gt||mt){var yt=gt?"-":"_";throw ct.invalidFormat(ft,"Invalid character '"+yt+"' found: is it base64url encoded?")}break;case pt.BASE64URL:var vt=-1!==bt.indexOf("+"),_t=-1!==bt.indexOf("/");if(vt||_t){var kt=vt?"+":"/";throw ct.invalidFormat(ft,"Invalid character '"+kt+"' found: is it base64 encoded?")}bt=bt.replace(/-/g,"+").replace(/_/g,"/");}var Tt;try{Tt=atob(bt)}catch(It){throw ct.invalidFormat(ft,"Invalid character found")}for(var Et=new Uint8Array(Tt.length),St=0;St<Tt.length;St++)Et[St]=Tt.charCodeAt(St);return Et}function it(ft){var bt=new ht(ft);return bt.base64?rt(pt.BASE64,bt.rest):ot(bt.rest)}function dt(ft){return new ht(ft).contentType}function st(ft,bt){return!!(ft.length>=bt.length)&&ft.substring(ft.length-bt.length)===bt}Object.defineProperty($,"__esModule",{value:!0}),$.StringData=$.StringFormat=void 0,$.formatValidator=function(ft){switch(ft){case pt.RAW:case pt.BASE64:case pt.BASE64URL:case pt.DATA_URL:return;default:throw"Expected one of the event types: ["+pt.RAW+", "+pt.BASE64+", "+pt.BASE64URL+", "+pt.DATA_URL+"].";}},$.dataFromString=function(ft,bt){switch(ft){case pt.RAW:return new ut(at(bt));case pt.BASE64:case pt.BASE64URL:return new ut(rt(ft,bt));case pt.DATA_URL:return new ut(it(bt),dt(bt));}throw ct.unknown()},$.utf8Bytes_=at,$.percentEncodedBytes_=ot,$.base64Bytes_=rt,$.dataURLBytes_=it,$.dataURLContentType_=dt;var lt=_e(1),ct=function(ft){if(ft&&ft.__esModule)return ft;var bt={};if(null!=ft)for(var gt in ft)Object.prototype.hasOwnProperty.call(ft,gt)&&(bt[gt]=ft[gt]);return bt.default=ft,bt}(lt),pt=$.StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ut=$.StringData=function ft(bt,gt){et(this,ft),this.data=bt,this.contentType=gt||null},ht=function ft(bt){et(this,ft),this.base64=!1,this.contentType=null;var gt=bt.match(/^data:([^,]+)?,/);if(null===gt)throw ct.invalidFormat(pt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var mt=gt[1]||null;null!=mt&&(this.base64=st(mt,";base64"),this.contentType=this.base64?mt.substring(0,mt.length-";base64".length):mt),this.rest=bt.substring(bt.indexOf(",")+1)}},,,function(j,$,_e){"use strict";function et(mt){if(mt&&mt.__esModule)return mt;var yt={};if(null!=mt)for(var vt in mt)Object.prototype.hasOwnProperty.call(mt,vt)&&(yt[vt]=mt[vt]);return yt.default=mt,yt}function tt(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")}function at(mt,yt){return function(vt){mt(vt),yt(vt)}}Object.defineProperty($,"__esModule",{value:!0}),$.ArgSpec=void 0,$.validate=function(mt,yt,vt){for(var _t=yt.length,kt=yt.length,Tt=0;Tt<yt.length;Tt++)if(yt[Tt].optional){_t=Tt;break}if(!(_t<=vt.length&&vt.length<=kt))throw pt.invalidArgumentCount(_t,kt,mt,vt.length);for(var Et=0;Et<vt.length;Et++)try{yt[Et].validator(vt[Et])}catch(St){throw St instanceof Error?pt.invalidArgument(Et,mt,St.message):pt.invalidArgument(Et,mt,St)}},$.and_=at,$.stringSpec=function(mt,yt){function vt(kt){if(!bt.isString(kt))throw"Expected string."}var _t;return _t=mt?at(vt,mt):vt,new gt(_t,yt)},$.uploadDataSpec=function(){return new gt(function(mt){if(!(mt instanceof Uint8Array||mt instanceof ArrayBuffer||bt.isNativeBlobDefined()&&mt instanceof Blob))throw"Expected Blob or File."})},$.metadataSpec=function(mt){return new gt(ht.metadataValidator,mt)},$.nonNegativeNumberSpec=function(){return new gt(function(mt){if(!(bt.isNumber(mt)&&0<=mt))throw"Expected a number 0 or greater."})},$.looseObjectSpec=function(mt,yt){return new gt(function(vt){if(!(null===vt||bt.isDef(vt)&&vt instanceof Object))throw"Expected an Object.";void 0!==mt&&null!==mt&&mt(vt)},yt)},$.nullFunctionSpec=function(mt){return new gt(function(yt){if(null!==yt&&!bt.isFunction(yt))throw"Expected a Function."},mt)};var ct=_e(1),pt=et(ct),ut=_e(13),ht=et(ut),ft=_e(0),bt=et(ft),gt=$.ArgSpec=function mt(yt,vt){tt(this,mt);var _t=this;this.validator=function(kt){_t.optional&&!bt.isJustDef(kt)||yt(kt)},this.optional=!!vt}},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.contains=function(at,ot){return-1!==at.indexOf(ot)},$.clone=function(at){return Array.prototype.slice.call(at)},$.remove=function(at,ot){var rt=at.indexOf(ot);-1!==rt&&at.splice(rt,1)}},function(j,$,_e){"use strict";function et(kt){if(kt&&kt.__esModule)return kt;var Tt={};if(null!=kt)for(var Et in kt)Object.prototype.hasOwnProperty.call(kt,Et)&&(Tt[Et]=kt[Et]);return Tt.default=kt,Tt}function tt(kt,Tt){if(!(kt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function nt(kt,Tt){return Tt}function at(kt){return!gt.isString(kt)||2>kt.length?kt:(kt=kt,ft.lastComponent(kt))}function rt(kt,Tt){Object.defineProperty(kt,"ref",{get:function(){var Et=kt.bucket,St=kt.fullPath,It=new ut.Location(Et,St);return Tt.makeStorageReference(It)}})}function it(kt,Tt,Et){for(var St={type:"file"},It=Et.length,At=0,Nt;At<It;At++)Nt=Et[At],St[Nt.local]=Nt.xform(St,Tt[Nt.server]);return rt(St,kt),St}Object.defineProperty($,"__esModule",{value:!0}),$.Mapping=void 0,$.noXform_=nt,$.xformPath=at,$.getMappings=function(){if(_t)return _t;var kt=[new vt("bucket"),new vt("generation"),new vt("metageneration"),new vt("name","fullPath",!0)],Tt=new vt("name");Tt.xform=function(St,It){return at(It)},kt.push(Tt);var Et=new vt("size");return Et.xform=function(St,It){return gt.isDef(It)?+It:It},kt.push(Et),kt.push(new vt("timeCreated")),kt.push(new vt("updated")),kt.push(new vt("md5Hash",null,!0)),kt.push(new vt("cacheControl",null,!0)),kt.push(new vt("contentDisposition",null,!0)),kt.push(new vt("contentEncoding",null,!0)),kt.push(new vt("contentLanguage",null,!0)),kt.push(new vt("contentType",null,!0)),kt.push(new vt("metadata","customMetadata",!0)),kt.push(new vt("downloadTokens","downloadURLs",!1,function(St,It){if(!(gt.isString(It)&&0<It.length))return[];var At=encodeURIComponent;return It.split(",").map(function(Nt){var Rt=St.bucket,Ot=St.fullPath,Pt="/b/"+At(Rt)+"/o/"+At(Ot);return yt.makeDownloadUrl(Pt)+yt.makeQueryString({alt:"media",token:Nt})})})),_t=kt},$.addRef=rt,$.fromResource=it,$.fromResourceString=function(kt,Tt,Et){var St=pt.jsonObjectOrNull(Tt);return null===St?null:it(kt,St,Et)},$.toResourceString=function(kt,Tt){for(var Et={},St=Tt.length,It=0,At;It<St;It++)At=Tt[It],At.writable&&(Et[At.server]=kt[At.local]);return JSON.stringify(Et)},$.metadataValidator=function(kt){if(!kt||!gt.isObject(kt))throw"Expected Metadata object.";for(var Tt in kt){var Et=kt[Tt];if("customMetadata"===Tt){if(!gt.isObject(Et))throw"Expected object for 'customMetadata' mapping.";}else if(gt.isNonNullObject(Et))throw"Mapping for '"+Tt+"' cannot be an object."}};var ct=_e(43),pt=et(ct),ut=_e(7),ht=_e(23),ft=et(ht),bt=_e(0),gt=et(bt),mt=_e(14),yt=et(mt),vt=$.Mapping=function kt(Tt,Et,St,It){tt(this,kt),this.server=Tt,this.local=Et||Tt,this.writable=!!St,this.xform=It||nt},_t=null},function(j,$,_e){"use strict";function et(lt){if(lt&&lt.__esModule)return lt;var ct={};if(null!=lt)for(var pt in lt)Object.prototype.hasOwnProperty.call(lt,pt)&&(ct[pt]=lt[pt]);return ct.default=lt,ct}Object.defineProperty($,"__esModule",{value:!0}),$.makeNormalUrl=function(lt){return it.domainBase+it.apiBaseUrl+lt},$.makeDownloadUrl=function(lt){return it.downloadBase+it.apiBaseUrl+lt},$.makeUploadUrl=function(lt){return it.domainBase+it.apiUploadBaseUrl+lt},$.makeQueryString=function(lt){var ct=encodeURIComponent,pt="?";return st.forEach(lt,function(ut,ht){var ft=ct(ut)+"="+ct(ht);pt=pt+ft+"&"}),pt=pt.slice(0,-1)};var rt=_e(6),it=et(rt),dt=_e(3),st=et(dt)},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.taskStateFromInternalTaskState=function(at){switch(at){case tt.RUNNING:case tt.PAUSING:case tt.CANCELING:return nt.RUNNING;case tt.PAUSED:return nt.PAUSED;case tt.SUCCESS:return nt.SUCCESS;case tt.CANCELED:return nt.CANCELED;case tt.ERROR:default:return nt.ERROR;}};var tt=($.TaskEvent={STATE_CHANGED:"state_changed"},$.InternalTaskState={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"}),nt=$.TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"}},function(j,$,_e){"use strict";function et(Tt){if(Tt&&Tt.__esModule)return Tt;var Et={};if(null!=Tt)for(var St in Tt)Object.prototype.hasOwnProperty.call(Tt,St)&&(Et[St]=Tt[St]);return Et.default=Tt,Et}function tt(Tt,Et){if(!(Tt instanceof Et))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.Reference=void 0;var nt=function(){function Tt(Et,St){for(var It=0,At;It<St.length;It++)At=St[It],At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Et,At.key,At)}return function(Et,St,It){return St&&Tt(Et.prototype,St),It&&Tt(Et,It),Et}}(),at=_e(11),ot=et(at),rt=_e(22),it=_e(1),dt=et(it),st=_e(7),lt=_e(13),ct=et(lt),pt=_e(3),ut=et(pt),ht=_e(23),ft=et(ht),bt=_e(24),gt=et(bt),mt=_e(8),yt=et(mt),vt=_e(0),_t=et(vt),kt=_e(49);$.Reference=function(){function Tt(Et,St){tt(this,Tt),this.authWrapper=Et,this.location=St instanceof st.Location?St:st.Location.makeFromUrl(St)}return nt(Tt,[{key:"toString",value:function(){return ot.validate("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path}},{key:"newRef",value:function(Et,St){return new Tt(Et,St)}},{key:"mappings",value:function(){return ct.getMappings()}},{key:"child",value:function(Et){ot.validate("child",[ot.stringSpec()],arguments);var St=ft.child(this.location.path,Et),It=new st.Location(this.location.bucket,St);return this.newRef(this.authWrapper,It)}},{key:"put",value:function(Et){var St=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return ot.validate("put",[ot.uploadDataSpec(),ot.metadataSpec(!0)],arguments),this.throwIfRoot_("put"),new kt.UploadTask(this,this.authWrapper,this.location,this.mappings(),new rt.FbsBlob(Et),St)}},{key:"putString",value:function(Et){var St=1<arguments.length&&void 0!==arguments[1]?arguments[1]:mt.StringFormat.RAW,It=arguments[2];ot.validate("putString",[ot.stringSpec(),ot.stringSpec(yt.formatValidator,!0),ot.metadataSpec(!0)],arguments),this.throwIfRoot_("putString");var At=yt.dataFromString(St,Et),Nt=ut.clone(It);return!_t.isDef(Nt.contentType)&&_t.isDef(At.contentType)&&(Nt.contentType=At.contentType),new kt.UploadTask(this,this.authWrapper,this.location,this.mappings(),new rt.FbsBlob(At.data,!0),Nt)}},{key:"delete",value:function(){ot.validate("delete",[],arguments),this.throwIfRoot_("delete");var Et=this;return this.authWrapper.getAuthToken().then(function(St){var It=gt.deleteObject(Et.authWrapper,Et.location);return Et.authWrapper.makeRequest(It,St).getPromise()})}},{key:"getMetadata",value:function(){ot.validate("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var Et=this;return this.authWrapper.getAuthToken().then(function(St){var It=gt.getMetadata(Et.authWrapper,Et.location,Et.mappings());return Et.authWrapper.makeRequest(It,St).getPromise()})}},{key:"updateMetadata",value:function(Et){ot.validate("updateMetadata",[ot.metadataSpec()],arguments),this.throwIfRoot_("updateMetadata");var St=this;return this.authWrapper.getAuthToken().then(function(It){var At=gt.updateMetadata(St.authWrapper,St.location,Et,St.mappings());return St.authWrapper.makeRequest(At,It).getPromise()})}},{key:"getDownloadURL",value:function(){return ot.validate("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(Et){var St=Et.downloadURLs[0];if(_t.isDef(St))return St;throw dt.noDownloadURL()})}},{key:"throwIfRoot_",value:function(Et){if(""===this.location.path)throw dt.invalidRootOperation(Et)}},{key:"parent",get:function(){var Et=ft.parent(this.location.path);if(null===Et)return null;var St=new st.Location(this.location.bucket,Et);return this.newRef(this.authWrapper,St)}},{key:"root",get:function(){var Et=new st.Location(this.location.bucket,"");return this.newRef(this.authWrapper,Et)}},{key:"bucket",get:function(){return this.location.bucket}},{key:"fullPath",get:function(){return this.location.path}},{key:"name",get:function(){return ft.lastComponent(this.location.path)}},{key:"storage",get:function(){return this.authWrapper.service()}}]),Tt}()},,,,,,function(j,$,_e){"use strict";function et(lt){if(lt&&lt.__esModule)return lt;var ct={};if(null!=lt)for(var pt in lt)Object.prototype.hasOwnProperty.call(lt,pt)&&(ct[pt]=lt[pt]);return ct.default=lt,ct}function tt(lt,ct){if(!(lt instanceof ct))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.FbsBlob=void 0;var nt=function(){function lt(ct,pt){for(var ut=0,ht;ut<pt.length;ut++)ht=pt[ut],ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ht.key,ht)}return function(ct,pt,ut){return pt&&lt(ct.prototype,pt),ut&&lt(ct,ut),ct}}(),at=_e(42),ot=et(at),rt=_e(8),it=et(rt),dt=_e(0),st=et(dt);$.FbsBlob=function(){function lt(ct,pt){tt(this,lt);var ut=0,ht="";st.isNativeBlob(ct)?(this.data_=ct,ut=ct.size,ht=ct.type):ct instanceof ArrayBuffer?(pt?this.data_=new Uint8Array(ct):(this.data_=new Uint8Array(ct.byteLength),this.data_.set(new Uint8Array(ct))),ut=this.data_.length):ct instanceof Uint8Array&&(pt?this.data_=ct:(this.data_=new Uint8Array(ct.length),this.data_.set(ct)),ut=ct.length),this.size_=ut,this.type_=ht}return nt(lt,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(ct,pt){if(st.isNativeBlob(this.data_)){var ut=this.data_,ht=ot.sliceBlob(ut,ct,pt);return null===ht?null:new lt(ht)}return new lt(new Uint8Array(this.data_.buffer,ct,pt-ct),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var ct=arguments.length,pt=Array(ct),ut=0;ut<ct;ut++)pt[ut]=arguments[ut];if(st.isNativeBlobDefined()){var ht=pt.map(function(yt){return yt instanceof lt?yt.data_:yt});return new lt(ot.getBlob.apply(null,ht))}var ft=pt.map(function(yt){return st.isString(yt)?it.dataFromString(rt.StringFormat.RAW,yt).data:yt.data_}),bt=0;ft.forEach(function(yt){bt+=yt.byteLength});var gt=new Uint8Array(bt),mt=0;return ft.forEach(function(yt){for(var vt=0;vt<yt.length;vt++)gt[mt++]=yt[vt]}),new lt(gt,!0)}}]),lt}()},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.parent=function(at){if(0==at.length)return null;var ot=at.lastIndexOf("/");return-1===ot?"":at.slice(0,ot)},$.child=function(at,ot){var rt=ot.split("/").filter(function(it){return 0<it.length}).join("/");return 0===at.length?rt:at+"/"+rt},$.lastComponent=function(at){var ot=at.lastIndexOf("/",at.length-2);return-1===ot?at:at.slice(ot+1)}},function(j,$,_e){"use strict";function et(Ct){if(Ct&&Ct.__esModule)return Ct;var wt={};if(null!=Ct)for(var Dt in Ct)Object.prototype.hasOwnProperty.call(Ct,Dt)&&(wt[Dt]=Ct[Dt]);return wt.default=Ct,wt}function tt(Ct,wt){if(!(Ct instanceof wt))throw new TypeError("Cannot call a class as a function")}function nt(Ct){if(!Ct)throw _t.unknown()}function at(Ct,wt){return function(Dt,Ut){var Lt=Tt.fromResourceString(Ct,Ut,wt);return nt(null!==Lt),Lt}}function ot(Ct){return function(wt,Dt){var Ut;return Ut=401===wt.getStatus()?_t.unauthenticated():402===wt.getStatus()?_t.quotaExceeded(Ct.bucket):403===wt.getStatus()?_t.unauthorized(Ct.path):Dt,Ut.setServerResponseProp(Dt.serverResponseProp()),Ut}}function rt(Ct){var wt=ot(Ct);return function(Dt,Ut){var Lt=wt(Dt,Ut);return 404===Dt.getStatus()&&(Lt=_t.objectNotFound(Ct.path)),Lt.setServerResponseProp(Ut.serverResponseProp()),Lt}}function lt(Ct,wt){return Ct&&Ct.contentType||wt&&wt.type()||"application/octet-stream"}function ct(Ct,wt,Dt){var Ut=St.clone(Dt);return Ut.fullPath=Ct.path,Ut.size=wt.size(),Ut.contentType||(Ut.contentType=lt(null,wt)),Ut}function ut(Ct,wt){var Dt;try{Dt=Ct.getResponseHeader("X-Goog-Upload-Status")}catch(Ut){nt(!1)}return nt(mt.contains(wt||["active"],Dt)),Dt}Object.defineProperty($,"__esModule",{value:!0}),$.resumableUploadChunkSize=$.ResumableUploadStatus=void 0,$.handlerCheck=nt,$.metadataHandler=at,$.sharedErrorHandler=ot,$.objectErrorHandler=rt,$.getMetadata=function(Ct,wt,Dt){var Ut=wt.fullServerUrl(),Lt=Ot.makeNormalUrl(Ut),Ft=Ct.maxOperationRetryTime(),xt=new It.RequestInfo(Lt,"GET",at(Ct,Dt),Ft);return xt.errorHandler=rt(wt),xt},$.updateMetadata=function(Ct,wt,Dt,Ut){var Lt=wt.fullServerUrl(),Ft=Ot.makeNormalUrl(Lt),xt=Tt.toResourceString(Dt,Ut),Mt=Ct.maxOperationRetryTime(),jt=new It.RequestInfo(Ft,"PATCH",at(Ct,Ut),Mt);return jt.headers={"Content-Type":"application/json; charset=utf-8"},jt.body=xt,jt.errorHandler=rt(wt),jt},$.deleteObject=function(Ct,wt){var Dt=wt.fullServerUrl(),Ut=Ot.makeNormalUrl(Dt),Lt=Ct.maxOperationRetryTime(),Ft=new It.RequestInfo(Ut,"DELETE",function(){},Lt);return Ft.successCodes=[200,204],Ft.errorHandler=rt(wt),Ft},$.determineContentType_=lt,$.metadataForUpload_=ct,$.multipartUpload=function(Ct,wt,Dt,Ut,Lt){var Ft=wt.bucketOnlyServerUrl(),xt={"X-Goog-Upload-Protocol":"multipart"},Mt=function(){for(var Xt="",zt=0;2>zt;zt++)Xt+=Math.random().toString().slice(2);return Xt}();xt["Content-Type"]="multipart/related; boundary="+Mt;var jt=ct(wt,Ut,Lt),Bt=Tt.toResourceString(jt,Dt),Wt="--"+Mt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Bt+"\r\n--"+Mt+"\r\nContent-Type: "+jt.contentType+"\r\n\r\n",Vt=yt.FbsBlob.getBlob(Wt,Ut,"\r\n--"+Mt+"--");if(null===Vt)throw _t.cannotSliceBlob();var Kt={name:jt.fullPath},qt=Ot.makeUploadUrl(Ft),Gt=Ct.maxUploadRetryTime(),Ht=new It.RequestInfo(qt,"POST",at(Ct,Dt),Gt);return Ht.urlParams=Kt,Ht.headers=xt,Ht.body=Vt.uploadData(),Ht.errorHandler=ot(wt),Ht},$.checkResumeHeader_=ut,$.createResumableUpload=function(Ct,wt,Dt,Ut,Lt){var Ft=wt.bucketOnlyServerUrl(),xt=ct(wt,Ut,Lt),Mt={name:xt.fullPath},jt=Ot.makeUploadUrl(Ft),Bt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":Ut.size(),"X-Goog-Upload-Header-Content-Type":xt.contentType,"Content-Type":"application/json; charset=utf-8"},Wt=Tt.toResourceString(xt,Dt),Vt=Ct.maxUploadRetryTime(),Kt=new It.RequestInfo(jt,"POST",function(qt){ut(qt);var Gt;try{Gt=qt.getResponseHeader("X-Goog-Upload-URL")}catch(Ht){nt(!1)}return nt(Nt.isString(Gt)),Gt},Vt);return Kt.urlParams=Mt,Kt.headers=Bt,Kt.body=Wt,Kt.errorHandler=ot(wt),Kt},$.getResumableUploadStatus=function(Ct,wt,Dt,Ut){var Lt=Ct.maxUploadRetryTime(),Ft=new It.RequestInfo(Dt,"POST",function(xt){var Mt=ut(xt,["active","final"]),jt;try{jt=xt.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Wt){nt(!1)}var Bt=parseInt(jt,10);return nt(!isNaN(Bt)),new Pt(Bt,Ut.size(),"final"===Mt)},Lt);return Ft.headers={"X-Goog-Upload-Command":"query"},Ft.errorHandler=ot(wt),Ft},$.continueResumableUpload=function(Ct,wt,Dt,Ut,Lt,Ft,xt,Mt){var jt=new Pt(0,0);if(xt?(jt.current=xt.current,jt.total=xt.total):(jt.current=0,jt.total=Ut.size()),Ut.size()!==jt.total)throw _t.serverFileWrongSize();var Bt=jt.total-jt.current,Wt=Bt;0<Lt&&(Wt=Math.min(Wt,Lt));var Vt=jt.current,Kt=Vt+Wt,qt=Wt===Bt?"upload, finalize":"upload",Gt={"X-Goog-Upload-Command":qt,"X-Goog-Upload-Offset":jt.current},Ht=Ut.slice(Vt,Kt);if(null===Ht)throw _t.cannotSliceBlob();var Xt=wt.maxUploadRetryTime(),zt=new It.RequestInfo(Dt,"POST",function(Qt,Jt){var Yt=ut(Qt,["active","final"]),$t=jt.current+Wt,Zt=Ut.size(),en;return en="final"===Yt?at(wt,Ft)(Qt,Jt):null,new Pt($t,Zt,"final"===Yt,en)},Xt);return zt.headers=Gt,zt.body=Ht.uploadData(),zt.progressCallback=Mt||null,zt.errorHandler=ot(Ct),zt};var gt=_e(12),mt=et(gt),yt=_e(22),vt=_e(1),_t=et(vt),kt=_e(13),Tt=et(kt),Et=_e(3),St=et(Et),It=_e(46),At=_e(0),Nt=et(At),Rt=_e(14),Ot=et(Rt),Pt=$.ResumableUploadStatus=function Ct(wt,Dt,Ut,Lt){tt(this,Ct),this.current=wt,this.total=Dt,this.finalized=!!Ut,this.metadata=Lt||null};$.resumableUploadChunkSize=262144},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0});var et=$.ErrorCode=void 0;!function(tt){tt[tt.NO_ERROR=0]="NO_ERROR",tt[tt.NETWORK_ERROR=1]="NETWORK_ERROR",tt[tt.ABORT=2]="ABORT"}(et||($.ErrorCode=et={}))},,,,,function(j,$,_e){"use strict";function et(at,ot){if(!(at instanceof ot))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.XhrIoPool=void 0;var tt=function(){function at(ot,rt){for(var it=0,dt;it<rt.length;it++)dt=rt[it],dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ot,dt.key,dt)}return function(ot,rt,it){return rt&&at(ot.prototype,rt),it&&at(ot,it),ot}}(),nt=_e(48);$.XhrIoPool=function(){function at(){et(this,at)}return tt(at,[{key:"createXhrIo",value:function(){return new nt.NetworkXhrIo}}]),at}()},function(j,$,_e){"use strict";function et(ht){if(ht&&ht.__esModule)return ht;var ft={};if(null!=ht)for(var bt in ht)Object.prototype.hasOwnProperty.call(ht,bt)&&(ft[bt]=ht[bt]);return ft.default=ht,ft}function tt(ht,ft){if(!(ht instanceof ft))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.ServiceInternals=$.Service=void 0;var nt=function(){function ht(ft,bt){for(var gt=0,mt;gt<bt.length;gt++)mt=bt[gt],mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ft,mt.key,mt)}return function(ft,bt,gt){return bt&&ht(ft.prototype,bt),gt&&ht(ft,gt),ft}}(),at=_e(11),ot=et(at),rt=_e(39),it=_e(7),dt=_e(2),st=et(dt),lt=_e(45),ct=et(lt),pt=_e(16),ut=($.Service=function(){function ht(ft,bt,gt){if(tt(this,ht),this.bucket_=null,this.authWrapper_=new rt.AuthWrapper(ft,function(yt,vt){return new pt.Reference(yt,vt)},ct.makeRequest,this,bt),this.app_=ft,null!=gt)this.bucket_=it.Location.makeFromBucketSpec(gt);else{var mt=this.authWrapper_.bucket();null!=mt&&(this.bucket_=new it.Location(mt,""))}this.internals_=new ut(this)}return nt(ht,[{key:"ref",value:function(ft){if(ot.validate("ref",[ot.stringSpec(function(gt){if(/^[A-Za-z]+:\/\//.test(gt))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var bt=new pt.Reference(this.authWrapper_,this.bucket_);return null==ft?bt:bt.child(ft)}},{key:"refFromURL",value:function(ft){return ot.validate("refFromURL",[ot.stringSpec(function(bt){if(!/^[A-Za-z]+:\/\//.test(bt))throw"Expected full URL but got a child path, use ref instead.";try{it.Location.makeFromUrl(bt)}catch(gt){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new pt.Reference(this.authWrapper_,ft)}},{key:"setMaxUploadRetryTime",value:function(ft){ot.validate("setMaxUploadRetryTime",[ot.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxUploadRetryTime(ft)}},{key:"setMaxOperationRetryTime",value:function(ft){ot.validate("setMaxOperationRetryTime",[ot.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxOperationRetryTime(ft)}},{key:"maxUploadRetryTime",get:function(){return this.authWrapper_.maxUploadRetryTime()}},{key:"maxOperationRetryTime",get:function(){return this.authWrapper_.maxOperationRetryTime()}},{key:"app",get:function(){return this.app_}},{key:"INTERNAL",get:function(){return this.internals_}}]),ht}(),$.ServiceInternals=function(){function ht(ft){tt(this,ht),this.service_=ft}return nt(ht,[{key:"delete",value:function(){return this.service_.authWrapper_.deleteApp(),st.resolve(void 0)}}]),ht}())},,,,,,function(j,$,_e){"use strict";function et(lt,ct,pt){return new it.Service(lt,new ot.XhrIoPool(),pt)}function tt(lt){lt.INTERNAL.registerService(st,et,{TaskState:at.TaskState,TaskEvent:at.TaskEvent,StringFormat:nt.StringFormat,Storage:it.Service,Reference:rt.Reference},void 0,!0)}Object.defineProperty($,"__esModule",{value:!0}),$.registerStorage=tt;var nt=_e(8),at=_e(15),ot=_e(30),rt=_e(16),it=_e(31),dt=_e(4),st="storage";tt(function(lt){return lt&&lt.__esModule?lt:{default:lt}}(dt).default)},function(j,$,_e){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.async=function(at){return function(){for(var ot=arguments.length,rt=Array(ot),it=0;it<ot;it++)rt[it]=arguments[it];nt.resolve(!0).then(function(){at.apply(null,rt)})}};var tt=_e(2),nt=function(at){if(at&&at.__esModule)return at;var ot={};if(null!=at)for(var rt in at)Object.prototype.hasOwnProperty.call(at,rt)&&(ot[rt]=at[rt]);return ot.default=at,ot}(tt)},function(j,$,_e){"use strict";function et(ft){if(ft&&ft.__esModule)return ft;var bt={};if(null!=ft)for(var gt in ft)Object.prototype.hasOwnProperty.call(ft,gt)&&(bt[gt]=ft[gt]);return bt.default=ft,bt}function tt(ft,bt){if(!(ft instanceof bt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.AuthWrapper=void 0;var nt=function(){function ft(bt,gt){for(var mt=0,yt;mt<gt.length;mt++)yt=gt[mt],yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(bt,yt.key,yt)}return function(bt,gt,mt){return gt&&ft(bt.prototype,gt),mt&&ft(bt,mt),bt}}(),at=_e(6),ot=et(at),rt=_e(1),it=et(rt),dt=_e(41),st=_e(7),lt=_e(2),ct=et(lt),pt=_e(47),ut=_e(0),ht=et(ut);$.AuthWrapper=function(){function ft(bt,gt,mt,yt,vt){if(tt(this,ft),this.bucket_=null,this.deleted_=!1,this.app_=bt,null!==this.app_){var _t=this.app_.options;ht.isDef(_t)&&(this.bucket_=ft.extractBucket_(_t))}this.storageRefMaker_=gt,this.requestMaker_=mt,this.pool_=vt,this.service_=yt,this.maxOperationRetryTime_=ot.defaultMaxOperationRetryTime,this.maxUploadRetryTime_=ot.defaultMaxUploadRetryTime,this.requestMap_=new pt.RequestMap}return nt(ft,[{key:"getAuthToken",value:function(){return null!==this.app_&&ht.isDef(this.app_.INTERNAL)&&ht.isDef(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(bt){return null===bt?null:bt.accessToken},function(){return null}):ct.resolve(null)}},{key:"bucket",value:function(){if(this.deleted_)throw it.appDeleted();return this.bucket_}},{key:"service",value:function(){return this.service_}},{key:"makeStorageReference",value:function(bt){return this.storageRefMaker_(this,bt)}},{key:"makeRequest",value:function(bt,gt){if(this.deleted_)return new dt.FailRequest(it.appDeleted());var mt=this.requestMaker_(bt,gt,this.pool_);return this.requestMap_.addRequest(mt),mt}},{key:"deleteApp",value:function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()}},{key:"maxUploadRetryTime",value:function(){return this.maxUploadRetryTime_}},{key:"setMaxUploadRetryTime",value:function(bt){this.maxUploadRetryTime_=bt}},{key:"maxOperationRetryTime",value:function(){return this.maxOperationRetryTime_}},{key:"setMaxOperationRetryTime",value:function(bt){this.maxOperationRetryTime_=bt}}],[{key:"extractBucket_",value:function(bt){var gt=bt[ot.configOption]||null;return null==gt?null:st.Location.makeFromBucketSpec(gt).bucket}}]),ft}()},function(j,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.start=function(nt,at,ot){function rt(){return 2===ht}function it(){ft||(ft=!0,at.apply(null,arguments))}function dt(gt){pt=setTimeout(function(){pt=null,nt(st,rt())},gt)}function st(gt){for(var mt=arguments.length,yt=Array(1<mt?mt-1:0),vt=1;vt<mt;vt++)yt[vt-1]=arguments[vt];if(!ft){if(gt)return void it.apply(null,arguments);if(rt()||ut)return void it.apply(null,arguments);64>ct&&(ct*=2);var _t;1===ht?(ht=2,_t=0):_t=1e3*(ct+Math.random()),dt(_t)}}function lt(gt){bt||(bt=!0,ft||(null===pt?gt||(ht=1):(gt||(ht=2),clearTimeout(pt),dt(0))))}var ct=1,pt=null,ut=!1,ht=0,ft=!1,bt=!1;return dt(0),setTimeout(function(){ut=!0,lt(!0)},ot),lt},$.stop=function(nt){nt(!1)}},function(j,$,_e){"use strict";function et(ot,rt){if(!(ot instanceof rt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.FailRequest=void 0;var tt=function(){function ot(rt,it){for(var dt=0,st;dt<it.length;dt++)st=it[dt],st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(rt,st.key,st)}return function(rt,it,dt){return it&&ot(rt.prototype,it),dt&&ot(rt,dt),rt}}(),nt=_e(2),at=function(ot){if(ot&&ot.__esModule)return ot;var rt={};if(null!=ot)for(var it in ot)Object.prototype.hasOwnProperty.call(ot,it)&&(rt[it]=ot[it]);return rt.default=ot,rt}(nt);$.FailRequest=function(){function ot(rt){et(this,ot),this.promise_=at.reject(rt)}return tt(ot,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}}]),ot}()},function(j,$,_e){"use strict";function et(){return"undefined"==typeof BlobBuilder?"undefined"==typeof WebKitBlobBuilder?void 0:WebKitBlobBuilder:BlobBuilder}Object.defineProperty($,"__esModule",{value:!0}),$.getBlob=function(){for(var rt=et(),it=arguments.length,dt=Array(it),st=0;st<it;st++)dt[st]=arguments[st];if(void 0!==rt){for(var lt=new rt,ct=0;ct<dt.length;ct++)lt.append(dt[ct]);return lt.getBlob()}if(ot.isNativeBlobDefined())return new Blob(dt);throw Error("This browser doesn't seem to support creating Blobs")},$.sliceBlob=function(rt,it,dt){return rt.webkitSlice?rt.webkitSlice(it,dt):rt.mozSlice?rt.mozSlice(it,dt):rt.slice?rt.slice(it,dt):null};var at=_e(0),ot=function(rt){if(rt&&rt.__esModule)return rt;var it={};if(null!=rt)for(var dt in rt)Object.prototype.hasOwnProperty.call(rt,dt)&&(it[dt]=rt[dt]);return it.default=rt,it}(at)},function(j,$,_e){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.jsonObjectOrNull=function(at){var ot;try{ot=JSON.parse(at)}catch(rt){return null}return nt.isNonArrayObject(ot)?ot:null};var tt=_e(0),nt=function(at){if(at&&at.__esModule)return at;var ot={};if(null!=at)for(var rt in at)Object.prototype.hasOwnProperty.call(at,rt)&&(ot[rt]=at[rt]);return ot.default=at,ot}(tt)},function(j,$,_e){"use strict";function et(at,ot){if(!(at instanceof ot))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.Observer=void 0;var tt=_e(0),nt=function(at){if(at&&at.__esModule)return at;var ot={};if(null!=at)for(var rt in at)Object.prototype.hasOwnProperty.call(at,rt)&&(ot[rt]=at[rt]);return ot.default=at,ot}(tt);$.Observer=function at(ot,rt,it){if(et(this,at),nt.isFunction(ot)||nt.isDef(rt)||nt.isDef(it))this.next=ot,this.error=rt||null,this.complete=it||null;else{var dt=ot;this.next=dt.next,this.error=dt.error,this.complete=dt.complete}}},function(j,$,_e){"use strict";function et(St){if(St&&St.__esModule)return St;var It={};if(null!=St)for(var At in St)Object.prototype.hasOwnProperty.call(St,At)&&(It[At]=St[At]);return It.default=St,It}function tt(St,It){if(!(St instanceof It))throw new TypeError("Cannot call a class as a function")}function nt(St,It){null!==It&&0<It.length&&(St.Authorization="Firebase "+It)}function at(St){var It="undefined"==typeof firebase?"AppManager":firebase.SDK_VERSION;St["X-Firebase-Storage-Version"]="webjs/"+It}Object.defineProperty($,"__esModule",{value:!0}),$.RequestEndStatus=void 0;var rt=function(){function St(It,At){for(var Nt=0,Rt;Nt<At.length;Nt++)Rt=At[Nt],Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(It,Rt.key,Rt)}return function(It,At,Nt){return At&&St(It.prototype,At),Nt&&St(It,Nt),It}}();$.addAuthHeader_=nt,$.addVersionHeader_=at,$.makeRequest=function(St,It,At){var Nt=vt.makeQueryString(St.urlParams),Rt=St.url+Nt,Ot=ht.clone(St.headers);return nt(Ot,It),at(Ot),new Tt(Rt,St.method,Ot,St.body,St.successCodes,St.additionalRetryCodes,St.handler,St.errorHandler,St.timeout,St.progressCallback,At)};var it=_e(12),dt=et(it),st=_e(40),lt=et(st),ct=_e(1),pt=et(ct),ut=_e(3),ht=et(ut),ft=_e(2),bt=et(ft),gt=_e(0),mt=et(gt),yt=_e(14),vt=et(yt),_t=_e(25),kt=et(_t),Tt=function(){function St(It,At,Nt,Rt,Ot,Pt,Ct,wt,Dt,Ut,Lt){tt(this,St),this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=It,this.method_=At,this.headers_=Nt,this.body_=Rt,this.successCodes_=Ot.slice(),this.additionalRetryCodes_=Pt.slice(),this.callback_=Ct,this.errorCallback_=wt,this.progressCallback_=Ut,this.timeout_=Dt,this.pool_=Lt;var Ft=this;this.promise_=bt.make(function(xt,Mt){Ft.resolve_=xt,Ft.reject_=Mt,Ft.start_()})}return rt(St,[{key:"start_",value:function(){function At(Rt,Ot){var Pt=Nt.resolve_,Ct=Nt.reject_,wt=Ot.xhr;if(Ot.wasSuccessCode)try{var Dt=Nt.callback_(wt,wt.getResponseText());mt.isJustDef(Dt)?Pt(Dt):Pt()}catch(xt){Ct(xt)}else if(null!==wt){var Ut=pt.unknown();Ut.setServerResponseProp(wt.getResponseText()),Ct(Nt.errorCallback_?Nt.errorCallback_(wt,Ut):Ut)}else if(Ot.canceled){var Lt=Nt.appDelete_?pt.appDeleted():pt.canceled();Ct(Lt)}else{var Ft=pt.retryLimitExceeded();Ct(Ft)}}var Nt=this;this.canceled_?At(!1,new Et(!1,null,!0)):this.backoffId_=lt.start(function(Rt,Ot){function Pt(wt){var Dt=wt.loaded,Ut=wt.lengthComputable?wt.total:-1;null!==Nt.progressCallback_&&Nt.progressCallback_(Dt,Ut)}if(Ot)return void Rt(!1,new Et(!1,null,!0));var Ct=Nt.pool_.createXhrIo();Nt.pendingXhr_=Ct,null!==Nt.progressCallback_&&Ct.addUploadProgressListener(Pt),Ct.send(Nt.url_,Nt.method_,Nt.body_,Nt.headers_).then(function(wt){null!==Nt.progressCallback_&&wt.removeUploadProgressListener(Pt),Nt.pendingXhr_=null,wt=wt;var Dt=wt.getErrorCode()===kt.ErrorCode.NO_ERROR,Ut=wt.getStatus();if(!Dt||Nt.isRetryStatusCode_(Ut)){var Lt=wt.getErrorCode()===kt.ErrorCode.ABORT;return void Rt(!1,new Et(!1,null,Lt))}var Ft=dt.contains(Nt.successCodes_,Ut);Rt(!0,new Et(Ft,wt))})},At,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(It){this.canceled_=!0,this.appDelete_=It||!1,null!==this.backoffId_&&lt.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()}},{key:"isRetryStatusCode_",value:function(It){var At=dt.contains([408,429],It),Nt=dt.contains(this.additionalRetryCodes_,It);return 500<=It&&600>It||At||Nt}}]),St}(),Et=$.RequestEndStatus=function St(It,At,Nt){tt(this,St),this.wasSuccessCode=It,this.xhr=At,this.canceled=!!Nt}},function(j,$){"use strict";function et(tt,nt){if(!(tt instanceof nt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.RequestInfo=function tt(nt,at,ot,rt){et(this,tt),this.url=nt,this.method=at,this.handler=ot,this.timeout=rt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}},function(j,$,_e){"use strict";function et(dt){if(dt&&dt.__esModule)return dt;var st={};if(null!=dt)for(var lt in dt)Object.prototype.hasOwnProperty.call(dt,lt)&&(st[lt]=dt[lt]);return st.default=dt,st}function tt(dt,st){if(!(dt instanceof st))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.RequestMap=void 0;var nt=function(){function dt(st,lt){for(var ct=0,pt;ct<lt.length;ct++)pt=lt[ct],pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(st,pt.key,pt)}return function(st,lt,ct){return lt&&dt(st.prototype,lt),ct&&dt(st,ct),st}}(),at=_e(3),ot=et(at),rt=_e(6),it=et(rt);$.RequestMap=function(){function dt(){tt(this,dt),this.map_={},this.id_=it.minSafeInteger}return nt(dt,[{key:"addRequest",value:function(st){function lt(){delete pt.map_[ct]}var ct=this.id_;this.id_++,this.map_[ct]=st;var pt=this;st.getPromise().then(lt,lt)}},{key:"clear",value:function(){ot.forEach(this.map_,function(st,lt){lt&&lt.cancel(!0)}),this.map_={}}}]),dt}()},function(j,$,_e){"use strict";function et(ht){if(ht&&ht.__esModule)return ht;var ft={};if(null!=ht)for(var bt in ht)Object.prototype.hasOwnProperty.call(ht,bt)&&(ft[bt]=ht[bt]);return ft.default=ht,ft}function tt(ht,ft){if(!(ht instanceof ft))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.NetworkXhrIo=void 0;var nt=function(){function ht(ft,bt){for(var gt=0,mt;gt<bt.length;gt++)mt=bt[gt],mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ft,mt.key,mt)}return function(ft,bt,gt){return bt&&ht(ft.prototype,bt),gt&&ht(ft,gt),ft}}(),at=_e(1),ot=et(at),rt=_e(3),it=et(rt),dt=_e(2),st=et(dt),lt=_e(0),ct=et(lt),pt=_e(25),ut=et(pt);$.NetworkXhrIo=function(){function ht(){var ft=this;tt(this,ht),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ut.ErrorCode.NO_ERROR,this.sendPromise_=st.make(function(bt){ft.xhr_.addEventListener("abort",function(){ft.errorCode_=ut.ErrorCode.ABORT,bt(ft)}),ft.xhr_.addEventListener("error",function(){ft.errorCode_=ut.ErrorCode.NETWORK_ERROR,bt(ft)}),ft.xhr_.addEventListener("load",function(){bt(ft)})})}return nt(ht,[{key:"send",value:function(ft,bt,gt,mt){var yt=this;if(this.sent_)throw ot.internalError("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(bt,ft,!0),ct.isDef(mt)&&it.forEach(mt,function(vt,_t){yt.xhr_.setRequestHeader(vt,_t.toString())}),ct.isDef(gt)?this.xhr_.send(gt):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw ot.internalError("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw ot.internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ft){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw ot.internalError("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(ft){return this.xhr_.getResponseHeader(ft)}},{key:"addUploadProgressListener",value:function(ft){ct.isDef(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",ft)}},{key:"removeUploadProgressListener",value:function(ft){ct.isDef(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",ft)}}]),ht}()},function(j,$,_e){"use strict";function et(_t){if(_t&&_t.__esModule)return _t;var kt={};if(null!=_t)for(var Tt in _t)Object.prototype.hasOwnProperty.call(_t,Tt)&&(kt[Tt]=_t[Tt]);return kt.default=_t,kt}function tt(_t,kt){if(!(_t instanceof kt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0}),$.UploadTask=void 0;var nt=function(){function _t(kt,Tt){for(var Et=0,St;Et<Tt.length;Et++)St=Tt[Et],St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(kt,St.key,St)}return function(kt,Tt,Et){return Tt&&_t(kt.prototype,Tt),Et&&_t(kt,Et),kt}}(),at=_e(15),ot=et(at),rt=_e(44),it=_e(50),dt=_e(11),st=et(dt),lt=_e(12),ct=et(lt),pt=_e(38),ut=_e(1),ht=et(ut),ft=_e(2),bt=et(ft),gt=_e(24),mt=et(gt),yt=_e(0),vt=et(yt);$.UploadTask=function(){function _t(kt,Tt,Et,St,It){var At=this,Nt=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;tt(this,_t),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=kt,this.authWrapper_=Tt,this.location_=Et,this.blob_=It,this.metadata_=Nt,this.mappings_=St,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=at.InternalTaskState.RUNNING,this.errorHandler_=function(Rt){At.request_=null,At.chunkMultiplier_=1,Rt.codeEquals(ht.Code.CANCELED)?(At.needToFetchStatus_=!0,At.completeTransitions_()):(At.error_=Rt,At.transition_(at.InternalTaskState.ERROR))},this.metadataErrorHandler_=function(Rt){At.request_=null,Rt.codeEquals(ht.Code.CANCELED)?At.completeTransitions_():(At.error_=Rt,At.transition_(at.InternalTaskState.ERROR))},this.promise_=bt.make(function(Rt,Ot){At.resolve_=Rt,At.reject_=Ot,At.start_()}),this.promise_.then(null,function(){})}return nt(_t,[{key:"makeProgressCallback_",value:function(){var kt=this,Tt=this.transferred_;return function(Et){kt.updateProgress_(Tt+Et)}}},{key:"shouldDoResumable_",value:function(kt){return 262144<kt.size()}},{key:"start_",value:function(){this.state_===at.InternalTaskState.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())}},{key:"resolveToken_",value:function(kt){var Tt=this;this.authWrapper_.getAuthToken().then(function(Et){switch(Tt.state_){case at.InternalTaskState.RUNNING:kt(Et);break;case at.InternalTaskState.CANCELING:Tt.transition_(at.InternalTaskState.CANCELED);break;case at.InternalTaskState.PAUSING:Tt.transition_(at.InternalTaskState.PAUSED);}})}},{key:"createResumable_",value:function(){var kt=this;this.resolveToken_(function(Tt){var Et=mt.createResumableUpload(kt.authWrapper_,kt.location_,kt.mappings_,kt.blob_,kt.metadata_),St=kt.authWrapper_.makeRequest(Et,Tt);kt.request_=St,St.getPromise().then(function(It){kt.request_=null,kt.uploadUrl_=It,kt.needToFetchStatus_=!1,kt.completeTransitions_()},kt.errorHandler_)})}},{key:"fetchStatus_",value:function(){var kt=this,Tt=this.uploadUrl_;this.resolveToken_(function(Et){var St=mt.getResumableUploadStatus(kt.authWrapper_,kt.location_,Tt,kt.blob_),It=kt.authWrapper_.makeRequest(St,Et);kt.request_=It,It.getPromise().then(function(At){At=At,kt.request_=null,kt.updateProgress_(At.current),kt.needToFetchStatus_=!1,At.finalized&&(kt.needToFetchMetadata_=!0),kt.completeTransitions_()},kt.errorHandler_)})}},{key:"continueUpload_",value:function(){var kt=this,Tt=mt.resumableUploadChunkSize*this.chunkMultiplier_,Et=new mt.ResumableUploadStatus(this.transferred_,this.blob_.size()),St=this.uploadUrl_;this.resolveToken_(function(It){var At;try{At=mt.continueResumableUpload(kt.location_,kt.authWrapper_,St,kt.blob_,Tt,kt.mappings_,Et,kt.makeProgressCallback_())}catch(Rt){return kt.error_=Rt,void kt.transition_(at.InternalTaskState.ERROR)}var Nt=kt.authWrapper_.makeRequest(At,It);kt.request_=Nt,Nt.getPromise().then(function(Rt){kt.increaseMultiplier_(),kt.request_=null,kt.updateProgress_(Rt.current),Rt.finalized?(kt.metadata_=Rt.metadata,kt.transition_(at.InternalTaskState.SUCCESS)):kt.completeTransitions_()},kt.errorHandler_)})}},{key:"increaseMultiplier_",value:function(){33554432>mt.resumableUploadChunkSize*this.chunkMultiplier_&&(this.chunkMultiplier_*=2)}},{key:"fetchMetadata_",value:function(){var kt=this;this.resolveToken_(function(Tt){var Et=mt.getMetadata(kt.authWrapper_,kt.location_,kt.mappings_),St=kt.authWrapper_.makeRequest(Et,Tt);kt.request_=St,St.getPromise().then(function(It){kt.request_=null,kt.metadata_=It,kt.transition_(at.InternalTaskState.SUCCESS)},kt.metadataErrorHandler_)})}},{key:"oneShotUpload_",value:function(){var kt=this;this.resolveToken_(function(Tt){var Et=mt.multipartUpload(kt.authWrapper_,kt.location_,kt.mappings_,kt.blob_,kt.metadata_),St=kt.authWrapper_.makeRequest(Et,Tt);kt.request_=St,St.getPromise().then(function(It){kt.request_=null,kt.metadata_=It,kt.updateProgress_(kt.blob_.size()),kt.transition_(at.InternalTaskState.SUCCESS)},kt.errorHandler_)})}},{key:"updateProgress_",value:function(kt){var Tt=this.transferred_;this.transferred_=kt,this.transferred_!==Tt&&this.notifyObservers_()}},{key:"transition_",value:function(kt){if(this.state_!==kt)switch(kt){case at.InternalTaskState.CANCELING:case at.InternalTaskState.PAUSING:this.state_=kt,null!==this.request_&&this.request_.cancel();break;case at.InternalTaskState.RUNNING:var Tt=this.state_===at.InternalTaskState.PAUSED;this.state_=kt,Tt&&(this.notifyObservers_(),this.start_());break;case at.InternalTaskState.PAUSED:this.state_=kt,this.notifyObservers_();break;case at.InternalTaskState.CANCELED:this.error_=ht.canceled(),this.state_=kt,this.notifyObservers_();break;case at.InternalTaskState.ERROR:case at.InternalTaskState.SUCCESS:this.state_=kt,this.notifyObservers_();}}},{key:"completeTransitions_",value:function(){switch(this.state_){case at.InternalTaskState.PAUSING:this.transition_(at.InternalTaskState.PAUSED);break;case at.InternalTaskState.CANCELING:this.transition_(at.InternalTaskState.CANCELED);break;case at.InternalTaskState.RUNNING:this.start_();}}},{key:"on",value:function(kt){function Tt(Dt){try{return void Rt(Dt)}catch(Ut){}try{if(Ot(Dt),!(vt.isJustDef(Dt.next)||vt.isJustDef(Dt.error)||vt.isJustDef(Dt.complete)))throw""}catch(Ut){throw Nt}}function Et(Dt){return function(Ut,Lt){null!==Dt&&st.validate("on",Dt,arguments);var Ft=new rt.Observer(Ut,Lt,At);return Ct.addObserver_(Ft),function(){Ct.removeObserver_(Ft)}}}var St=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,It=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,At=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,Nt="Expected a function or an Object with one of `next`, `error`, `complete` properties.",Rt=st.nullFunctionSpec(!0).validator,Ot=st.looseObjectSpec(null,!0).validator,Pt=[st.stringSpec(function(){if(kt!==at.TaskEvent.STATE_CHANGED)throw"Expected one of the event types: ["+at.TaskEvent.STATE_CHANGED+"]."}),st.looseObjectSpec(Tt,!0),st.nullFunctionSpec(!0),st.nullFunctionSpec(!0)];st.validate("on",Pt,arguments);var Ct=this,wt=[st.looseObjectSpec(function(Dt){if(null===Dt)throw Nt;Tt(Dt)}),st.nullFunctionSpec(!0),st.nullFunctionSpec(!0)];return vt.isJustDef(St)||vt.isJustDef(It)||vt.isJustDef(At)?Et(null)(St,It,At):Et(wt)}},{key:"then",value:function(kt,Tt){return this.promise_.then(kt,Tt)}},{key:"catch",value:function(kt){return this.then(null,kt)}},{key:"addObserver_",value:function(kt){this.observers_.push(kt),this.notifyObserver_(kt)}},{key:"removeObserver_",value:function(kt){ct.remove(this.observers_,kt)}},{key:"notifyObservers_",value:function(){var kt=this;this.finishPromise_(),ct.clone(this.observers_).forEach(function(Tt){kt.notifyObserver_(Tt)})}},{key:"finishPromise_",value:function(){if(null!==this.resolve_){var kt=!0;switch(ot.taskStateFromInternalTaskState(this.state_)){case at.TaskState.SUCCESS:(0,pt.async)(this.resolve_.bind(null,this.snapshot))();break;case at.TaskState.CANCELED:case at.TaskState.ERROR:var Tt=this.reject_;(0,pt.async)(Tt.bind(null,this.error_))();break;default:kt=!1;}kt&&(this.resolve_=null,this.reject_=null)}}},{key:"notifyObserver_",value:function(kt){switch(ot.taskStateFromInternalTaskState(this.state_)){case at.TaskState.RUNNING:case at.TaskState.PAUSED:null!==kt.next&&(0,pt.async)(kt.next.bind(kt,this.snapshot))();break;case at.TaskState.SUCCESS:null!==kt.complete&&(0,pt.async)(kt.complete.bind(kt))();break;case at.TaskState.CANCELED:case at.TaskState.ERROR:null!==kt.error&&(0,pt.async)(kt.error.bind(kt,this.error_))();break;default:null!==kt.error&&(0,pt.async)(kt.error.bind(kt,this.error_))();}}},{key:"resume",value:function(){st.validate("resume",[],arguments);var kt=this.state_===at.InternalTaskState.PAUSED||this.state_===at.InternalTaskState.PAUSING;return kt&&this.transition_(at.InternalTaskState.RUNNING),kt}},{key:"pause",value:function(){st.validate("pause",[],arguments);var kt=this.state_===at.InternalTaskState.RUNNING;return kt&&this.transition_(at.InternalTaskState.PAUSING),kt}},{key:"cancel",value:function(){st.validate("cancel",[],arguments);var kt=this.state_===at.InternalTaskState.RUNNING||this.state_===at.InternalTaskState.PAUSING;return kt&&this.transition_(at.InternalTaskState.CANCELING),kt}},{key:"snapshot",get:function(){var kt=ot.taskStateFromInternalTaskState(this.state_);return new it.UploadTaskSnapshot(this.transferred_,this.blob_.size(),kt,this.metadata_,this,this.ref_)}}]),_t}()},function(j,$){"use strict";function et(nt,at){if(!(nt instanceof at))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($,"__esModule",{value:!0});var tt=function(){function nt(at,ot){for(var rt=0,it;rt<ot.length;rt++)it=ot[rt],it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(at,it.key,it)}return function(at,ot,rt){return ot&&nt(at.prototype,ot),rt&&nt(at,rt),at}}();$.UploadTaskSnapshot=function(){function nt(at,ot,rt,it,dt,st){et(this,nt),this.bytesTransferred=at,this.totalBytes=ot,this.state=rt,this.metadata=it,this.task=dt,this.ref=st}return tt(nt,[{key:"downloadURL",get:function(){if(null!==this.metadata){var at=this.metadata.downloadURLs;return null!=at&&null!=at[0]?at[0]:null}return null}}]),nt}()}],[37])}catch(j){throw new Error("Cannot instantiate firebase-storage.js - be sure to load firebase-app.js first.")}